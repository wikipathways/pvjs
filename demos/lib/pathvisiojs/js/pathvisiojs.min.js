function RGBColor(a){a=a.toString(),this.ok=!1,"#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase();var b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var c in b)a==c&&(a=b[c]);for(var d=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],e=0;e<d.length;e++){var f=d[e].re,g=d[e].process,h=f.exec(a);h&&(channels=g(h),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),"#"+a+b+c},this.getHelpXML=function(){for(var a=new Array,c=0;c<d.length;c++)for(var e=d[c].example,f=0;f<e.length;f++)a[a.length]=e[f];for(var g in b)a[a.length]=g;var h=document.createElement("ul");h.setAttribute("id","rgbcolor-examples");for(var c=0;c<a.length;c++)try{var i=document.createElement("li"),j=new RGBColor(a[c]),k=document.createElement("div");k.style.cssText="margin: 3px; border: 1px solid black; background:"+j.toHex()+"; color:"+j.toHex(),k.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+a[c]+" -> "+j.toRGB()+" -> "+j.toHex());i.appendChild(k),i.appendChild(l),h.appendChild(i)}catch(m){}return h}}!function(a){"function"==typeof define?define(a):"function"==typeof YUI?YUI.add("es5-sham",a):a()}(function(){function a(a){try{return a.sentinel=0,0===Object.getOwnPropertyDescriptor(a,"sentinel").value}catch(b){}}function b(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}var c,d,e,f,g,h=Function.prototype.call,i=Object.prototype,j=h.bind(i.hasOwnProperty);if((g=j(i,"__defineGetter__"))&&(c=h.bind(i.__defineGetter__),d=h.bind(i.__defineSetter__),e=h.bind(i.__lookupGetter__),f=h.bind(i.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:i)}),Object.defineProperty){var k=a({}),l="undefined"==typeof document||a(document.createElement("div"));if(!l||!k)var m=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||m){var n="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(n+a);if(m)try{return m.call(Object,a,b)}catch(c){}if(j(a,b)){var d={enumerable:!0,configurable:!0};if(g){var h=a.__proto__;a.__proto__=i;var k=e(a,b),l=f(a,b);if(a.__proto__=h,k||l)return k&&(d.get=k),l&&(d.set=l),d}return d.value=a[b],d.writable=!0,d}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var o,p=null===Object.prototype.__proto__;o=p||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function a(){}var b=document.createElement("iframe"),c=document.body||document.documentElement;b.style.display="none",c.appendChild(b),b.src="javascript:";var d=b.contentWindow.Object.prototype;return c.removeChild(b),b=null,delete d.constructor,delete d.hasOwnProperty,delete d.propertyIsEnumerable,delete d.isPrototypeOf,delete d.toLocaleString,delete d.toString,delete d.valueOf,d.__proto__=null,a.prototype=d,o=function(){return new a},new a},Object.create=function(a,b){function c(){}var d;if(null===a)d=o();else{if("object"!=typeof a&&"function"!=typeof a)throw new TypeError("Object prototype may only be an Object or null");c.prototype=a,d=new c,d.__proto__=a}return void 0!==b&&Object.defineProperties(d,b),d}}if(Object.defineProperty){var q=b({}),r="undefined"==typeof document||b(document.createElement("div"));if(!q||!r)var s=Object.defineProperty,t=Object.defineProperties}if(!Object.defineProperty||s){var u="Property description must be an object: ",v="Object.defineProperty called on non-object: ",w="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,h){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(v+a);if("object"!=typeof h&&"function"!=typeof h||null===h)throw new TypeError(u+h);if(s)try{return s.call(Object,a,b,h)}catch(k){}if(j(h,"value"))if(g&&(e(a,b)||f(a,b))){var l=a.__proto__;a.__proto__=i,delete a[b],a[b]=h.value,a.__proto__=l}else a[b]=h.value;else{if(!g)throw new TypeError(w);j(h,"get")&&c(a,b,h.get),j(h,"set")&&d(a,b,h.set)}return a}}(!Object.defineProperties||t)&&(Object.defineProperties=function(a,b){if(t)try{return t.call(Object,a,b)}catch(c){}for(var d in b)j(b,d)&&"__proto__"!=d&&Object.defineProperty(a,d,b[d]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(x){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)!==a)throw new TypeError;for(var b="";j(a,b);)b+="?";a[b]=!0;var c=j(a,b);return delete a[b],c})}),!function(a){"use strict";var b=function(a,c,d){var e,f,g=document.createElement("img");if(g.onerror=c,g.onload=function(){!f||d&&d.noRevoke||b.revokeObjectURL(f),c&&c(b.scale(g,d))},b.isInstanceOf("Blob",a)||b.isInstanceOf("File",a))e=f=b.createObjectURL(a),g._type=a.type;else{if("string"!=typeof a)return!1;e=a,d&&d.crossOrigin&&(g.crossOrigin=d.crossOrigin)}return e?(g.src=e,g):b.readFile(a,function(a){var b=a.target;b&&b.result?g.src=b.result:c&&c(a)})},c=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;b.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},b.transformCoordinates=function(){},b.getTransformedOptions=function(a){return a},b.renderImageToCanvas=function(a,b,c,d,e,f,g,h,i,j){return a.getContext("2d").drawImage(b,c,d,e,f,g,h,i,j),a},b.hasCanvasOption=function(a){return a.canvas||a.crop},b.scale=function(a,c){c=c||{};var d,e,f,g,h,i,j,k,l,m=document.createElement("canvas"),n=a.getContext||b.hasCanvasOption(c)&&m.getContext,o=a.naturalWidth||a.width,p=a.naturalHeight||a.height,q=o,r=p,s=function(){var a=Math.max((f||q)/q,(g||r)/r);a>1&&(q=Math.ceil(q*a),r=Math.ceil(r*a))},t=function(){var a=Math.min((d||q)/q,(e||r)/r);1>a&&(q=Math.ceil(q*a),r=Math.ceil(r*a))};return n&&(c=b.getTransformedOptions(c),j=c.left||0,k=c.top||0,c.sourceWidth?(h=c.sourceWidth,void 0!==c.right&&void 0===c.left&&(j=o-h-c.right)):h=o-j-(c.right||0),c.sourceHeight?(i=c.sourceHeight,void 0!==c.bottom&&void 0===c.top&&(k=p-i-c.bottom)):i=p-k-(c.bottom||0),q=h,r=i),d=c.maxWidth,e=c.maxHeight,f=c.minWidth,g=c.minHeight,n&&d&&e&&c.crop?(q=d,r=e,l=h/i-d/e,0>l?(i=e*h/d,void 0===c.top&&void 0===c.bottom&&(k=(p-i)/2)):l>0&&(h=d*i/e,void 0===c.left&&void 0===c.right&&(j=(o-h)/2))):((c.contain||c.cover)&&(f=d=d||f,g=e=e||g),c.cover?(t(),s()):(s(),t())),n?(m.width=q,m.height=r,b.transformCoordinates(m,c),b.renderImageToCanvas(m,a,j,k,h,i,0,0,q,r)):(a.width=q,a.height=r,a)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=function(a){return c?c.revokeObjectURL(a):!1},b.readFile=function(a,b,c){if(window.FileReader){var d=new FileReader;if(d.onload=d.onerror=b,c=c||"readAsDataURL",d[c])return d[c](a),d}return!1},"function"==typeof define&&define.amd?define(function(){return b}):a.loadImage=b}(this),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var b=a.renderImageToCanvas;a.detectSubsampling=function(a){var b,c;return a.width*a.height>1048576?(b=document.createElement("canvas"),b.width=b.height=1,c=b.getContext("2d"),c.drawImage(a,-a.width+1,0),0===c.getImageData(0,0,1,1).data[3]):!1},a.detectVerticalSquash=function(a,b){var c,d,e,f,g,h=a.naturalHeight||a.height,i=document.createElement("canvas"),j=i.getContext("2d");for(b&&(h/=2),i.width=1,i.height=h,j.drawImage(a,0,0),c=j.getImageData(0,0,1,h).data,d=0,e=h,f=h;f>d;)g=c[4*(f-1)+3],0===g?e=f:d=f,f=e+d>>1;return f/h||1},a.renderImageToCanvas=function(c,d,e,f,g,h,i,j,k,l){if("image/jpeg"===d._type){var m,n,o,p,q=c.getContext("2d"),r=document.createElement("canvas"),s=1024,t=r.getContext("2d");if(r.width=s,r.height=s,q.save(),m=a.detectSubsampling(d),m&&(e/=2,f/=2,g/=2,h/=2),n=a.detectVerticalSquash(d,m),m||1!==n){for(f*=n,k=Math.ceil(s*k/g),l=Math.ceil(s*l/h/n),j=0,p=0;h>p;){for(i=0,o=0;g>o;)t.clearRect(0,0,s,s),t.drawImage(d,e,f,g,h,-o,-p,g,h),q.drawImage(r,0,0,s,s,i,j,k,l),o+=s,i+=k;p+=s,j+=l}return q.restore(),c}}return b(c,d,e,f,g,h,i,j,k,l)}}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";var b=a.hasCanvasOption;a.hasCanvasOption=function(a){return b(a)||a.orientation},a.transformCoordinates=function(a,b){var c=a.getContext("2d"),d=a.width,e=a.height,f=b.orientation;if(f)switch(f>4&&(a.width=e,a.height=d),f){case 2:c.translate(d,0),c.scale(-1,1);break;case 3:c.translate(d,e),c.rotate(Math.PI);break;case 4:c.translate(0,e),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-e);break;case 7:c.rotate(.5*Math.PI),c.translate(d,-e),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-d,0)}},a.getTransformedOptions=function(a){if(!a.orientation||1===a.orientation)return a;var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);switch(a.orientation){case 2:c.left=a.right,c.right=a.left;break;case 3:c.left=a.right,c.top=a.bottom,c.right=a.left,c.bottom=a.top;break;case 4:c.top=a.bottom,c.bottom=a.top;break;case 5:c.left=a.top,c.top=a.left,c.right=a.bottom,c.bottom=a.right;break;case 6:c.left=a.top,c.top=a.right,c.right=a.bottom,c.bottom=a.left;break;case 7:c.left=a.bottom,c.top=a.right,c.right=a.top,c.bottom=a.left;break;case 8:c.left=a.bottom,c.top=a.left,c.right=a.top,c.bottom=a.right}return a.orientation>4&&(c.maxWidth=a.maxHeight,c.maxHeight=a.maxWidth,c.minWidth=a.minHeight,c.minHeight=a.minWidth,c.sourceWidth=a.sourceHeight,c.sourceHeight=a.sourceWidth),c}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";var b=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.blobSlice=b&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},a.metaDataParsers={jpeg:{65505:[]}},a.parseMetaData=function(b,c,d){d=d||{};var e=this,f=d.maxMetaDataSize||262144,g={},h=!(window.DataView&&b&&b.size>=12&&"image/jpeg"===b.type&&a.blobSlice);(h||!a.readFile(a.blobSlice.call(b,0,f),function(b){if(b.target.error)return console.log(b.target.error),void c(g);var f,h,i,j,k=b.target.result,l=new DataView(k),m=2,n=l.byteLength-4,o=m;if(65496===l.getUint16(0)){for(;n>m&&(f=l.getUint16(m),f>=65504&&65519>=f||65534===f);){if(h=l.getUint16(m+2)+2,m+h>l.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(i=a.metaDataParsers.jpeg[f])for(j=0;j<i.length;j+=1)i[j].call(e,l,m,h,g,d);m+=h,o=m}!d.disableImageHead&&o>6&&(g.imageHead=k.slice?k.slice(0,o):new Uint8Array(k).subarray(0,o))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(g)},"readAsArrayBuffer"))&&c(g)}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],a):a(window.loadImage)}(function(a){"use strict";a.ExifMap=function(){return this},a.ExifMap.prototype.map={Orientation:274},a.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]},a.getExifThumbnail=function(a,b,c){var d,e,f;if(!c||b+c>a.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(d=[],e=0;c>e;e+=1)f=a.getUint8(b+e),d.push((16>f?"0":"")+f.toString(16));return"data:image/jpeg,%"+d.join("%")},a.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,c){return a.getUint16(b,c)},size:2},4:{getValue:function(a,b,c){return a.getUint32(b,c)},size:4},5:{getValue:function(a,b,c){return a.getUint32(b,c)/a.getUint32(b+4,c)},size:8},9:{getValue:function(a,b,c){return a.getInt32(b,c)},size:4},10:{getValue:function(a,b,c){return a.getInt32(b,c)/a.getInt32(b+4,c)},size:8}},a.exifTagTypes[7]=a.exifTagTypes[1],a.getExifValue=function(b,c,d,e,f,g){var h,i,j,k,l,m,n=a.exifTagTypes[e];if(!n)return void console.log("Invalid Exif data: Invalid tag type.");if(h=n.size*f,i=h>4?c+b.getUint32(d+8,g):d+8,i+h>b.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===f)return n.getValue(b,i,g);for(j=[],k=0;f>k;k+=1)j[k]=n.getValue(b,i+k*n.size,g);if(n.ascii){for(l="",k=0;k<j.length&&(m=j[k],"\x00"!==m);k+=1)l+=m;return l}return j},a.parseExifTag=function(b,c,d,e,f){var g=b.getUint16(d,e);f.exif[g]=a.getExifValue(b,c,d,b.getUint16(d+2,e),b.getUint32(d+4,e),e)},a.parseExifTags=function(a,b,c,d,e){var f,g,h;if(c+6>a.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(f=a.getUint16(c,d),g=c+2+12*f,g+4>a.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(h=0;f>h;h+=1)this.parseExifTag(a,b,c+2+12*h,d,e);return a.getUint32(g,d)},a.parseExifData=function(b,c,d,e,f){if(!f.disableExif){var g,h,i,j=c+10;if(1165519206===b.getUint32(c+4)){if(j+8>b.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==b.getUint16(c+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(b.getUint16(j)){case 18761:g=!0;break;case 19789:g=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==b.getUint16(j+2,g))return void console.log("Invalid Exif data: Missing TIFF marker.");h=b.getUint32(j+4,g),e.exif=new a.ExifMap,h=a.parseExifTags(b,j,j+h,g,e),h&&!f.disableExifThumbnail&&(i={exif:{}},h=a.parseExifTags(b,j,j+h,g,i),i.exif[513]&&(e.exif.Thumbnail=a.getExifThumbnail(b,j+i.exif[513],i.exif[514]))),e.exif[34665]&&!f.disableExifSub&&a.parseExifTags(b,j,j+e.exif[34665],g,e),e.exif[34853]&&!f.disableExifGps&&a.parseExifTags(b,j,j+e.exif[34853],g,e)}}},a.metaDataParsers.jpeg[65505].push(a.parseExifData)}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],a):a(window.loadImage)}(function(a){"use strict";a.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},a.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},a.ExifMap.prototype.getText=function(a){var b=this.get(a);switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[a][b];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(b[0],b[1],b[2],b[3]);case"ComponentsConfiguration":return this.stringValues[a][b[0]]+this.stringValues[a][b[1]]+this.stringValues[a][b[2]]+this.stringValues[a][b[3]];case"GPSVersionID":return b[0]+"."+b[1]+"."+b[2]+"."+b[3]}return String(b)},function(a){var b,c=a.tags,d=a.map;for(b in c)c.hasOwnProperty(b)&&(d[c[b]]=b)}(a.ExifMap.prototype),a.ExifMap.prototype.getAll=function(){var a,b,c={};for(a in this)this.hasOwnProperty(a)&&(b=this.tags[a],b&&(c[b]=this.getText(b)));return c}}),function(){function a(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=m[a])});16>e;)b[d+e++]=0;return b}function b(a,b){var c=b||0,d=l;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function c(a,c,d){var e=c&&d||0,f=c||[];a=a||{};var g=null!=a.clockseq?a.clockseq:q,h=null!=a.msecs?a.msecs:(new Date).getTime(),i=null!=a.nsecs?a.nsecs:s+1,j=h-r+(i-s)/1e4;if(0>j&&null==a.clockseq&&(g=g+1&16383),(0>j||h>r)&&null==a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=h,s=i,q=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[e++]=k>>>24&255,f[e++]=k>>>16&255,f[e++]=k>>>8&255,f[e++]=255&k;var l=h/4294967296*1e4&268435455;f[e++]=l>>>8&255,f[e++]=255&l,f[e++]=l>>>24&15|16,f[e++]=l>>>16&255,f[e++]=g>>>8|128,f[e++]=255&g;for(var m=a.node||p,n=0;6>n;n++)f[e+n]=m[n];return c?c:b(f)}function d(a,c,d){var f=c&&d||0;"string"==typeof a&&(c="binary"==a?new k(16):null,a=null),a=a||{};var g=a.random||(a.rng||e)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,c)for(var h=0;16>h;h++)c[f+h]=g[h];return c||b(g)}var e,f=this;if("function"==typeof require)try{var g=require("crypto").randomBytes;e=g&&function(){return g(16)}}catch(h){}if(!e&&f.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);e=function(){return crypto.getRandomValues(i),i}}if(!e){var j=new Array(16);e=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),j[b]=a>>>((3&b)<<3)&255;return j}}for(var k="function"==typeof Buffer?Buffer:Array,l=[],m={},n=0;256>n;n++)l[n]=(n+256).toString(16).substr(1),m[l[n]]=n;var o=e(),p=[1|o[0],o[1],o[2],o[3],o[4],o[5]],q=16383&(o[6]<<8|o[7]),r=0,s=0,t=d;if(t.v1=c,t.v4=d,t.parse=a,t.unparse=b,t.BufferClass=k,"function"==typeof define&&define.amd)define(function(){return t});else if("undefined"!=typeof module&&module.exports)module.exports=t;else{var u=f.uuid;t.noConflict=function(){return f.uuid=u,t},f.uuid=t}}.call(this),!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.strcase=a():"undefined"!=typeof global?global.strcase=a():"undefined"!=typeof self&&(self.strcase=a())}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){c.dotCase=function(a){return c.separatorCase(a,".")},c.classCase=function(a){return c.separatorCase(a,"_").replace(/(?:^|_|\-|\/)(.)/g,function(a,b){return b.toUpperCase()})},c.namespaceCase=function(a){return c.separatorCase(a,".").replace(/(^|_|\.|\-|\/)(.)/g,function(a,b,c){return b+c.toUpperCase()})},c.constantCase=function(a){return c.separatorCase(a,"_").replace(/[a-z]/g,function(a){return a.toUpperCase()})},c.camelCase=function(a){return c.separatorCase(a,"_").replace(/[-_\.\/\s]+(.)?/g,function(a,b){return b.toUpperCase()})},c.titleCase=function(a){return c.separatorCase(a," ").replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})},c.snakeCase=function(a){return c.separatorCase(a,"_")},c.pathCase=function(a){return this.separatorCase(a,"/")},c.paramCase=function(a){return this.separatorCase(a,"-")},c.separatorCase=function(a,b){return c.clean(c.trim(a),b).replace(/([a-z\d])([A-Z]+)/g,"$1"+b+"$2").replace(/(([A-Z])(?=[A-Z][a-z]))/g,"$1"+b).replace(/(([a-z])(?=[A-Z][a-z]))/g,"$1"+b).replace(/[-\.\/\_\s]+/g,b).toLowerCase()},c.clean=function(a,b){return a.replace(/\W+/g,b||" ")},c.trim=function(a){return a.replace(/^\W+|\W+$/g,"")}},{}]},{},[1])(1)}),svgPanZoom=function(){"use strict";function a(a){a=a||{},p(a.selector,function(b,c){a.hasOwnProperty("panEnabled")&&(F=a.panEnabled),a.hasOwnProperty("zoomEnabled")&&(G=a.zoomEnabled),a.hasOwnProperty("dragEnabled")&&(H=a.dragEnabled),a.hasOwnProperty("zoomScaleSensitivity")&&(I=a.zoomScaleSensitivity),a.hasOwnProperty("onZoom")&&(L=a.onZoom),a.hasOwnProperty("minZoom")&&(J=a.minZoom),a.hasOwnProperty("maxZoom")&&(K=a.maxZoom),i(c),"svg"!==!!c.ownerDocument.documentElement.tagName.toLowerCase()&&(c.ownerDocument.defaultView.svgPanZoom=svgPanZoom)})}function b(a){I=a}function c(){F=!0}function d(){F=!1}function e(){G=!0}function f(){G=!1}function g(){H=!0}function h(){H=!1}function i(a){n(a,{onmouseup:"svgPanZoom.handleMouseUp(evt)",onmousedown:"svgPanZoom.handleMouseDown(evt)",onmousemove:"svgPanZoom.handleMouseMove(evt)",onmouseleave:"svgPanZoom.handleMouseUp(evt)"}),a.setAttribute("xmlns","http://www.w3.org/1999/xlink"),a.setAttributeNS("xmlns","xlink","http://www.w3.org/1999/xlink"),a.setAttributeNS("xmlns","ev","http://www.w3.org/2001/xml-events"),navigator.userAgent.toLowerCase().indexOf("webkit")>=0?a.addEventListener("mousewheel",v,!1):a.addEventListener("DOMMouseScroll",v,!1)}function j(a){var b;if(!a.__viewportElement){if(a.__viewportElement=a.getElementById("viewport"),a.__viewportElement||(a.__viewportElement=a.getElementsByTagName("g")[0]),!a.__viewportElement)throw new Error("No g element containers in SVG document to use for viewport.");b=a.getAttribute("viewBox"),b&&(a.__viewportElement.setAttribute("viewBox",b),a.removeAttribute("viewBox"))}return A=a.__viewportElement.getCTM(),a.__viewportElement}function k(a){var b="svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement,c=b.createSVGPoint();return c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse())}function l(a){var b="svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement,c=b.createSVGPoint();return c.x=a.clientX,c.y=a.clientY,c}function m(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}function n(a,b){for(var c in b)a.setAttributeNS(null,c,b[c])}function o(a){var b,c,d,c=document.querySelector("svg");c&&(d=c,a(d));var e=document.querySelectorAll("object");b=0;do b+=1,p("object:nth-of-type("+b+")",function(b,c){c&&(d=c,a(d))});while(b<e.length);var f=document.querySelectorAll("embed");b=0;do b+=1,p("embed:nth-of-type("+b+")",function(b,c){c&&(d=c,a(d))});while(b<f.length)}function p(a,b){var c,d,e;if(a){if(c=document.querySelector(a))if("svg"===c.tagName.toLowerCase())e=c;else if("object"===c.tagName.toLowerCase())e=c.contentDocument.documentElement;else{if("embed"!==c.tagName.toLowerCase())throw new Error("img"===c.tagName.toLowerCase()?'Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.':"Cannot get SVG.");e=c.getSVGDocument().documentElement}if(e||(d=new Error("No SVG found in this document.")),!b){if(!e)throw d;return e}b(d,e)}else"undefined"!=typeof console&&console.warn("No selector specified for getSvg(). Using first svg element found."),c=o(function(a){if(a||(d=new Error("No SVG found in this document.")),!b){if(!a)throw d;return a}b(d,a)})}function q(a,b){if(!b)throw new Error("No direction specified for direction of panning. Please enter a string value of up, right, down or left.");
var c,d,e=.1,f={top:{x:0,y:-1},t:{x:0,y:-1},up:{x:0,y:-1},u:{x:0,y:-1},right:{x:1,y:0},r:{x:1,y:0},bottom:{x:0,y:1},b:{x:0,y:1},down:{x:0,y:1},d:{x:0,y:1},left:{x:-1,y:0},l:{x:-1,y:0}},g=f[b];if(!g)throw new Error("Direction specified was not understood. Please enter a string value of up, right, down or left.");p(a,function(a,b){var f=j(b);c=b.getBBox().width*e*g.x,d=b.getBBox().height*e*g.y,A.e+=c,A.f+=d,m(f,A)})}function r(a){if(!a.scale)throw new Error("No scale specified for zoom. Please enter a number.");p(a.selector,function(b,c){var d=j(c);A.a=A.d=a.scale,A.a<J&&(A.a=A.d=J),A.a>K&&(A.a=A.d=K),m(d,A),L&&L(A.a)})}function s(a){p(a,function(a,b){var c=j(b);A.a=A.d=(1+I)*A.a,A.a>K&&(A.a=A.d=K),m(c,A),L&&L(A.a)})}function t(a){p(a,function(a,b){var c=j(b);A.a=A.d=1/(1+I)*A.a,A.a<J&&(A.a=A.d=J),m(c,A),L&&L(A.a)})}function u(a){var b,c;p(a,function(a,d){var e=j(d),f=d.getBBox(),g=d.getBoundingClientRect();b=c=A;var h=Math.min(g.width/f.width,g.height/f.height);c.a=h*b.a,c.d=h*b.d,c.e=b.e*h-(g.width-f.width*h)/2-f.x*h,c.f=b.f*h-(g.height-f.height*h)/2-f.y*h,m(e,c),L&&L(c.a)})}function v(a){if(G){a.preventDefault?a.preventDefault():a.returnValue=!1;var b,c="svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement;b=a.wheelDelta?a.wheelDelta/360:a.detail/-9;var d=Math.pow(1+I,b),e=j(c),f=k(a);f=f.matrixTransform(e.getCTM().inverse());var g=c.createSVGMatrix().translate(f.x,f.y).scale(d).translate(-f.x,-f.y),h=e.getCTM(),i=e.getCTM().multiply(g);i.a<J&&(i.a=i.d=h.a),i.a>K&&(i.a=i.d=h.a),i.a!=h.a&&m(e,i),"undefined"==typeof D&&(D=e.getCTM().inverse()),D=D.multiply(g.inverse()),L&&L(e.getCTM().a)}}function w(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var b="svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement,c=j(b);if("pan"==E&&F){var d=l(a).matrixTransform(D);m(c,D.inverse().translate(d.x-C.x,d.y-C.y))}else if("drag"==E&&H){var d=l(a).matrixTransform(c.getCTM().inverse());m(B,b.createSVGMatrix().translate(d.x-C.x,d.y-C.y).multiply(c.getCTM().inverse()).multiply(B.getCTM())),C=d}}function x(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var b="svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement,c=4;a.shiftKey&&(c=-1.66);var d=1+I*c,e=j(b),f=k(a);f=f.matrixTransform(e.getCTM().inverse());var g=b.createSVGMatrix().translate(f.x,f.y).scale(d).translate(-f.x,-f.y),h=e.getCTM(),i=e.getCTM().multiply(g);i.a<J&&(i.a=i.d=h.a),i.a>K&&(i.a=i.d=h.a),i.a!=h.a&&m(e,i),"undefined"==typeof D&&(D=e.getCTM().inverse()),D=D.multiply(g.inverse()),L&&L(e.getCTM().a)}function y(a){2==a.detail&&x(a),a.preventDefault?a.preventDefault():a.returnValue=!1;var b="svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement,c=j(b);"svg"!=a.target.tagName&&H?(E="drag",B=a.target,D=c.getCTM().inverse(),C=l(a).matrixTransform(D)):(E="pan",D=c.getCTM().inverse(),C=l(a).matrixTransform(D))}function z(a){a.preventDefault?a.preventDefault():a.returnValue=!1;"svg"===a.target.tagName||"SVG"===a.target.tagName?a.target:a.target.ownerSVGElement||a.target.correspondingElement.ownerSVGElement;("pan"==E||"drag"==E)&&(E="")}var A,B,C,D,E="none",F=!0,G=!0,H=!1,I=.2,J=.5,K=10,L=null;return{init:a,handleMouseUp:z,handleMouseDown:y,handleMouseMove:w,handleDblClick:x,pan:q,zoom:r,zoomIn:s,zoomOut:t,resetZoom:u,setZoomScaleSensitivity:b,enablePan:c,disablePan:d,enableZoom:e,disableZoom:f,enableDrag:g,disableDrag:h}}();var pathvisioNS=pathvisioNS||{};pathvisioNS["src/pathvisiojs.html"]='<div id="pathvisiojs-container" style="width: inherit; height: inherit;">\n\n  <!-- **********************************************************************\n    Pathway Container (JavaScript inserts pathway image inside this div)\n    *********************************************************************** -->\n  <div id="diagram-container">\n  </div>\n\n  <!-- **********************************************************************\n    Highlight Element by Label Control\n    *********************************************************************** -->\n  <div id="typeahead">\n    <input id="highlight-by-label-input" placeholder="Enter node name to highlight" role="textbox" aria-autocomplete="list" aria-haspopup="true">\n    <i id="clear-highlights-from-typeahead" class="control-icon icon-remove"></i>\n  </div> \n\n  <!-- **********************************************************************\n    Pan/Zoom Controls \n    *********************************************************************** -->\n  <div id="pan-zoom-control" class="pan-zoom-controls">                           \n    <!-- TODO get this working\n    <i id="zoom-in" class="control-icon pan-zoom-control-icon glyphicon glyphicon-plus-sign"></i>\n    -->\n    <i id="reset-pan-zoom" class="control-icon pan-zoom-control-icon glyphicon glyphicon-screenshot"></i>\n    <!-- TODO get this working\n    <i id="zoom-out" class="control-icon pan-zoom-control-icon glyphicon glyphicon-minus-sign"></i>\n    -->\n    <!-- TODO get this working\n    <i id="full-screen-control" class="control-icon pan-zoom-control-icon glyphicon glyphicon-fullscreen"></i>\n    -->\n  </div>\n\n  <div id="viewer-toolbar">\n  </div>\n\n  <!-- **********************************************************************\n    Details Frame\n    *********************************************************************** -->\n  <div id="annotation" class="annotation ui-draggable">\n    <header class="annotation-header">\n      <span id="annotation-move" class="annotation-header-move">\n        <i class="icon-move"></i>\n      </span>\n      <span class="annotation-header-close" class="annotation-header-close">\n        <i class="icon-remove"></i>\n      </span>   \n      <span id="annotation-header-text" class="annotation-header-text">\n        Header\n      </span> \n      <span id="annotation-header-search" class="annotation-header-search" title="Search for pathways containing \'Header Text\'">\n        <a href="http://wikipathways.org//index.php?title=Special:SearchPathways">\n          <i class="icon-search"></i>\n        </a>\n      </span>\n      <div id="annotation-description" class="annotation-description">\n        <h2>description</h2>\n      </div>\n    </header>\n    <span class="annotation-items-container" class="annotation-items-container">\n      <ul id="annotation-items-container">\n        <!-- List items inside this ul element are generated automatically by JavaScript.\n            Each item will be composed of a title and text. The text can be set to be an href.\n            You can edit the styling of the title by editing CSS class "annotation-item-title"\n            and the styling of the text by editing CSS class "annotation-item-text.\n            -->\n      </ul>\n    </span>\n  </div>\n</div>\n',pathvisioNS["tmp/pathvisiojs.svg"]='<svg id="pathvisiojs-diagram" version="1.1" baseProfile="full" xmlns="http://www.w3.org/1999/xlink" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" width="100%" height="100%" style="display: none; width: inherit; min-width: inherit; max-width: inherit; height: inherit; min-height: inherit; max-height: inherit; " preserveAspectRatio="xMidYMid" onmouseup="svgPanZoom.handleMouseUp(evt)" onmousedown="svgPanZoom.handleMouseDown(evt)" onmousemove="svgPanZoom.handleMouseMove(evt)" onmouseleave="svgPanZoom.handleMouseUp(evt)" xlink="http://www.w3.org/1999/xlink" ev="http://www.w3.org/2001/xml-events"><g><desc>This SVG file contains all the graphical elements (markers and symbols in defs as well as\nstyle data) used by the program pathvisiojs, which has two components:\n1) a viewer for transforming GPML biological pathway data into an SVG visual representation and\n2) an editor for creating both views and models for biological pathways.</desc></g><title>pathvisiojs diagram</title><defs><marker id="shape-library-markers-arrow-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-arrow-svg-start-default" class="solid-stroke default-fill-color">\n\n	<!-- arrow markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-arrow-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-arrow-svg-end-default" class="solid-stroke default-fill-color" transform="rotate(180, 6, 6)">\n\n	<!-- arrow markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-necessary-stimulation-svg-start-default" preserveAspectRatio="none" viewBox="0 0 16 12" markerWidth="16" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-necessary-stimulation-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-necessary-stimulation markers: triangular polygons, drawing-board fill, default color stroke; and vertical line -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="0" x2="14" y2="12"></line>\n	<line fill="none" stroke="none" x1="16" y1="6" x2="16" y2="6"></line> <!-- dummy point -->\n	<polygon stroke-width="1" points="0,6 9,11 9,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-necessary-stimulation-svg-end-default" preserveAspectRatio="none" viewBox="0 0 16 12" markerWidth="16" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="16" refY="6"><g id="g-src-shape-library-markers-mim-necessary-stimulation-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 8, 6)">\n\n	<!-- mim-necessary-stimulation markers: triangular polygons, drawing-board fill, default color stroke; and vertical line -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="0" x2="14" y2="12"></line>\n	<line fill="none" stroke="none" x1="16" y1="6" x2="16" y2="6"></line> <!-- dummy point -->\n	<polygon stroke-width="1" points="0,6 9,11 9,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-binding-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-binding-svg-start-default" class="solid-stroke default-fill-color">\n\n	<!-- mim-binding markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-binding-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-mim-binding-svg-end-default" class="solid-stroke default-fill-color" transform="rotate(180, 6, 6)">\n\n	<!-- mim-binding markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-conversion-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-conversion-svg-start-default" class="solid-stroke default-fill-color">\n\n	<!-- mim-conversion markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-conversion-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-mim-conversion-svg-end-default" class="solid-stroke default-fill-color" transform="rotate(180, 6, 6)">\n\n	<!-- mim-conversion markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-stimulation-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-stimulation-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-stimulation markers: triangular polygons, drawing-board fill, default color stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line stroke="none" fill="none" x1="12" y1="6" x2="12" y2="6"></line> <!-- dummy point -->\n	<polygon stroke-width="1" points="0,6 11,11 11,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-stimulation-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-mim-stimulation-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 6, 6)">\n\n	<!-- mim-stimulation markers: triangular polygons, drawing-board fill, default color stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line stroke="none" fill="none" x1="12" y1="6" x2="12" y2="6"></line> <!-- dummy point -->\n	<polygon stroke-width="1" points="0,6 11,11 11,1"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-modification-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-modification-svg-start-default" class="default-fill-color solid-stroke">\n\n	<!-- mim-modification markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-modification-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-mim-modification-svg-end-default" class="default-fill-color solid-stroke" transform="rotate(180, 6, 6)">\n\n	<!-- mim-modification markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-catalysis-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-catalysis-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-catalysis markers: circle, drawing-board fill and default color stroke -->\n\n	<circle cx="6.0" cy="6" r="5.3px" stroke-width="1px"></circle>\n\n</g></marker><marker id="shape-library-markers-mim-catalysis-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-mim-catalysis-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 6, 6)">\n\n	<!-- mim-catalysis markers: circle, drawing-board fill and default color stroke -->\n\n	<circle cx="6.0" cy="6" r="5.3px" stroke-width="1px"></circle>\n\n</g></marker><marker id="shape-library-markers-mim-inhibition-svg-start-default" preserveAspectRatio="none" viewBox="0 0 10 20" markerWidth="10" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="0" refY="10"><g id="g-src-shape-library-markers-mim-inhibition-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-inhibition markers: vertical line; and extended drawing-board rect -->\n	\n	<rect stroke="none" x="0" y="9" width="8" height="2"></rect>\n	<line fill="none" stroke-width="1.8" x1="7" y1="0" x2="7" y2="20"></line>\n\n</g></marker><marker id="shape-library-markers-mim-inhibition-svg-end-default" preserveAspectRatio="none" viewBox="0 0 10 20" markerWidth="10" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="10" refY="10"><g id="g-src-shape-library-markers-mim-inhibition-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 5, 10)">\n\n	<!-- mim-inhibition markers: vertical line; and extended drawing-board rect -->\n	\n	<rect stroke="none" x="0" y="9" width="8" height="2"></rect>\n	<line fill="none" stroke-width="1.8" x1="7" y1="0" x2="7" y2="20"></line>\n\n</g></marker><marker id="shape-library-markers-mim-cleavage-svg-start-default" preserveAspectRatio="none" viewBox="0 0 20 30" markerWidth="20" markerHeight="30" markerUnits="strokeWidth" orient="auto" refX="9" refY="15"><g id="g-src-shape-library-markers-mim-cleavage-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-cleavage markers: two lines and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="14.3" width="18.4" height="1.4"></rect>\n	<line fill="none" stroke-width="1" x1="18" y1="14.5" x2="18" y2="30"></line>	\n	<line fill="none" stroke-width="1" x1="18" y1="30" x2="0" y2="0"></line>	\n\n\n</g></marker><marker id="shape-library-markers-mim-cleavage-svg-end-default" preserveAspectRatio="none" viewBox="0 0 20 30" markerWidth="20" markerHeight="30" markerUnits="strokeWidth" orient="auto" refX="10" refY="15"><g id="g-src-shape-library-markers-mim-cleavage-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 10, 15)">\n\n	<!-- mim-cleavage markers: two lines and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="14.3" width="18.4" height="1.4"></rect>\n	<line fill="none" stroke-width="1" x1="18" y1="14.5" x2="18" y2="30"></line>	\n	<line fill="none" stroke-width="1" x1="18" y1="30" x2="0" y2="0"></line>	\n\n\n</g></marker><marker id="shape-library-markers-mim-covalent-bond-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="-0.5" refY="6"><g id="g-src-shape-library-markers-mim-covalent-bond-svg-start-default" class="solid-stroke default-fill-color">\n\n	<!-- mim-covalent-bond markers: not much to see here! -->\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</g></marker><marker id="shape-library-markers-mim-covalent-bond-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="11" refY="6"><g id="g-src-shape-library-markers-mim-covalent-bond-svg-end-default" class="solid-stroke default-fill-color" transform="rotate(180, 6, 6)">\n\n	<!-- mim-covalent-bond markers: not much to see here! -->\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</g></marker><marker id="shape-library-markers-mim-transcription-translation-svg-start-default" preserveAspectRatio="none" viewBox="0 0 20 24" markerWidth="20" markerHeight="24" markerUnits="strokeWidth" orient="auto" refX="0" refY="12"><g id="g-src-shape-library-markers-mim-transcription-translation-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-transcription-translation markers: two lines and an open trigular polygon, plus extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="11" width="12" height="2"></rect>\n	<line fill="none" stroke-width="1" x1="15" y1="12" x2="15" y2="5"></line>\n	<line fill="none" stroke-width="1" x1="15.5" y1="5" x2="8" y2="5"></line>\n	<polygon stroke-width="1" points="0,5 8,1 8,9"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-transcription-translation-svg-end-default" preserveAspectRatio="none" viewBox="0 0 20 24" markerWidth="20" markerHeight="24" markerUnits="strokeWidth" orient="auto" refX="20" refY="12"><g id="g-src-shape-library-markers-mim-transcription-translation-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 10, 12)">\n\n	<!-- mim-transcription-translation markers: two lines and an open trigular polygon, plus extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="11" width="12" height="2"></rect>\n	<line fill="none" stroke-width="1" x1="15" y1="12" x2="15" y2="5"></line>\n	<line fill="none" stroke-width="1" x1="15.5" y1="5" x2="8" y2="5"></line>\n	<polygon stroke-width="1" points="0,5 8,1 8,9"></polygon>\n\n</g></marker><marker id="shape-library-markers-mim-gap-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-mim-gap-svg-start-default" class="board-fill-color solid-stroke">\n\n	<!-- mim-gap markers: just an extended drawing-board rect -->\n	<!-- \n	TODO This could be refactored to make the shape match the viewbox.\n	It can overlap the side of the shape, blanking out a small part of it when the edge is at an angle.\n	-->\n\n	<rect stroke="none" x="0" y="5.3" width="8" height="1.4"></rect>\n\n</g></marker><marker id="shape-library-markers-mim-gap-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6"><g id="g-src-shape-library-markers-mim-gap-svg-end-default" class="board-fill-color solid-stroke" transform="rotate(180, 6, 6)">\n\n	<!-- mim-gap markers: just an extended drawing-board rect -->\n	<!-- \n	TODO This could be refactored to make the shape match the viewbox.\n	It can overlap the side of the shape, blanking out a small part of it when the edge is at an angle.\n	-->\n\n	<rect stroke="none" x="0" y="5.3" width="8" height="1.4"></rect>\n\n</g></marker><marker id="shape-library-markers-t-bar-svg-start-default" preserveAspectRatio="none" viewBox="0 0 10 20" markerWidth="10" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="0" refY="10"><g id="g-src-shape-library-markers-t-bar-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n        <!-- t-bar markers: vertical line; and extended drawing-board rect -->\n	\n	<rect stroke="none" x="0" y="9" width="8" height="2"></rect>\n	<line fill="none" stroke-width="1.8" x1="7" y1="0" x2="7" y2="20"></line>\n\n</g></marker><marker id="shape-library-markers-t-bar-svg-end-default" preserveAspectRatio="none" viewBox="0 0 10 20" markerWidth="10" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="10" refY="10"><g id="g-src-shape-library-markers-t-bar-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 5, 10)">\n\n        <!-- t-bar markers: vertical line; and extended drawing-board rect -->\n	\n	<rect stroke="none" x="0" y="9" width="8" height="2"></rect>\n	<line fill="none" stroke-width="1.8" x1="7" y1="0" x2="7" y2="20"></line>\n\n</g></marker><marker id="shape-library-markers-none-svg-start-default" preserveAspectRatio="none" viewBox="0 0 0 0" markerWidth="0" markerHeight="0" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><g id="g-src-shape-library-markers-none-svg-start-default" class="board-fill-color board-stroke-color node shape">\n\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</g></marker><marker id="shape-library-markers-none-svg-end-default" preserveAspectRatio="none" viewBox="0 0 0 0" markerWidth="0" markerHeight="0" markerUnits="strokeWidth" orient="auto" refX="11" refY="6"><g id="g-src-shape-library-markers-none-svg-end-default" class="board-fill-color board-stroke-color node shape" transform="rotate(180, 0, 0)">\n\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</g></marker><marker id="shape-library-markers-mim-branching-left-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0.4" refY="6"><g id="g-src-shape-library-markers-mim-branching-left-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-branching-left markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0.4" y="5.3" width="3.1" height="1.4"></rect>\n	<line fill="none" stroke-width="1" x1="3.9" y1="6.2" x2="0.2" y2="0"></line>	\n\n</g></marker><marker id="shape-library-markers-mim-branching-left-svg-end-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="11.6" refY="6"><g id="g-src-shape-library-markers-mim-branching-left-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 6, 6)">\n\n	<!-- mim-branching-left markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0.4" y="5.3" width="3.1" height="1.4"></rect>\n	<line fill="none" stroke-width="1" x1="3.9" y1="6.2" x2="0.2" y2="0"></line>	\n\n</g></marker><marker id="shape-library-markers-mim-branching-right-svg-start-default" preserveAspectRatio="none" viewBox="0 0 4 12" markerWidth="4" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0.4" refY="6"><g id="g-src-shape-library-markers-mim-branching-right-svg-start-default" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-branching-right markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0.4" y="5.3" width="3.1" height="1.4"></rect>\n	<line fill="none" stroke-width="1" x1="0.2" y1="12" x2="3.9" y2="5.8"></line>	\n\n</g></marker><marker id="shape-library-markers-mim-branching-right-svg-end-default" preserveAspectRatio="none" viewBox="0 0 4 12" markerWidth="4" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="3.6" refY="6"><g id="g-src-shape-library-markers-mim-branching-right-svg-end-default" class="board-fill-color default-stroke-color solid-stroke" transform="rotate(180, 2, 6)">\n\n	<!-- mim-branching-right markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0.4" y="5.3" width="3.1" height="1.4"></rect>\n	<line fill="none" stroke-width="1" x1="0.2" y1="12" x2="3.9" y2="5.8"></line>	\n\n</g></marker><style type="text/css">	svg {\n		color-interpolation: auto;\n		image-rendering: auto;\n		shape-rendering: auto;\n		vector-effect: non-scaling-stroke;\n                background: white;\n	/* removed fill and stroke since they override marker specs */\n	/*	fill: white;\n    		stroke: black; */\n	}\n\n	/* default color for pathway elements */\n	.default-fill-color {\n		fill: black; \n	}\n	.default-stroke-color {\n		stroke: black;\n	}\n	\n	/* default color of the background drawing board */ 	\n	.board-fill-color {\n		fill: white;\n	}\n	.board-stroke-color {\n		stroke: white;\n	}\n\n	.text-area {\n		font-family: Sans-Serif, Helvetica, Arial;\n		text-align: center;\n		vertical-align: middle;\n		font-size: 10px;\n		fill: black;\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	.citation {\n		font-family: Sans-Serif, Helvetica, Arial;\n		text-align: center;\n		vertical-align: top;\n		font-size: 7px;\n		fill: #999999;\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	.info-box {\n		font-family: Sans-Serif;\n		font-size: 10px;\n		fill: black;\n		stroke: none;\n		text-align: left;\n		vertical-align: top;\n	}\n\n	.info-box-item-property-name {\n		font-weight: bold;\n	}\n\n	.info-box-item-property-value {\n	}\n\n	.data-node {\n		text-align: right;\n		fill-opacity: 1;\n		fill: white;\n		stroke: black;\n		stroke-width: 1;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n    		pointer-events:auto;\n	}\n	.data-node:hover {\n	 	cursor: pointer;\n	}\n	\n	.has-xref:hover {\n		cursor: pointer;\n	}\n\n	.data-node.gene-product {\n	}\n\n	.metabolite {\n		stroke: blue;\n	}\n\n	.data-node.metabolite &gt; .text-area {\n		fill: blue;\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	.data-node.pathway {\n		stroke: none;\n		fill-opacity: 0;\n	}\n\n	.data-node.pathway &gt; .text-area {\n		fill: rgb(20,150,30);\n		fill-opacity: 1;\n		font-size: 12px;\n		font-weight: bold;\n	}\n\n	.data-node.protein {\n	}\n\n	.data-node.rna {\n	}\n\n	.data-node.unknown {\n	}\n\n	.label {\n		stroke: null;\n		stroke-width: 0;\n		fill-opacity: 0;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	.shape {\n		fill-opacity: 0;\n		stroke: black;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	.shape.none {\n		fill: none;\n		fill-opacity: 0;\n		stroke: none;\n	}\n\n	g.group-node &gt; .shape {\n		fill-opacity: 0.098;\n		stroke: gray;\n		stroke-miterlimit: 1;\n		stroke-width: 1px;\n    		pointer-events:none;\n	}\n\n	.group-node {\n		fill-opacity: 0.098;\n		stroke: gray;\n		stroke-miterlimit: 1;\n		stroke-width: 1px;\n    		pointer-events:none;\n	}\n\n	.group-node &gt; .text-area {\n		fill-opacity: 0.4;\n		font-family: Serif, Times;\n		font-size: 32px;\n		fill: black;\n		stroke-width: 0;\n		font-weight: bold;\n  	}	\n\n	.group-node.none {\n		fill: rgb(180,180,100);\n		stroke-dasharray: 5,3;\n	}\n\n	.group-node.none &gt; .text-area {\n		display: none;\n  	}	\n\n	/*.group-node.none:hover {\n		fill: rgb(255,180,100);\n		fill-opacity: 0.05;\n	}*/\n\n	.group-node.group {\n		fill-opacity: 0;\n		stroke: none;\n	}\n\n	.group-node.group &gt; .text-area {\n		display: none;\n  	}\n	/*.group-node.group:hover {\n		fill: rgb(0,0,255);\n		stroke-width: 1px;\n		stroke-dasharray: 5,3;\n		stroke: gray;\n		fill-opacity: 0.1;\n	}*/\n\n	.group-node.complex {\n		fill: rgb(180,180,100);\n	}\n\n	.group-node.complex &gt; .text-area {\n		display: none;\n  	}\n	/*.group-node.complex:hover {\n		fill: rgb(255,0,0);\n		fill-opacity: 0.05;\n	}*/	\n\n  	.group-node.pathway {\n		fill: rgb(0,255,0);\n		stroke-dasharray: 5,3;\n	}\n	/*.group-node.pathway:hover {\n		fill: rgb(0,255,0);\n		fill-opacity: 0.2;\n	}*/\n	.group-node.pathway &gt; .text-area {\n		fill: rgb(20,150,30);\n		stroke: rgb(20,150,30);\n  }\n\n  .cellular-component {\n		fill-opacity: 0;\n		stroke: silver;\n	}\n\n  .graphical-line {\n		fill:none;\n		stroke: black; \n		stroke-width: 1px; \n	}\n\n	.interaction {\n		fill:none;\n		stroke: black; \n		stroke-width: 1px; \n	}\n\n	marker {\n		/* this is what should work per the spec\n		   stroke-dasharray: none; */\n		/* but I need to add this to make it work in Safari */\n		stroke-dasharray: 9999999999999999999999999;\n	}\n\n  .marker-end {\n    -webkit-transform: rotate(180deg);\n    -webkit-transform-origin: 50% 50%;\n\n    -o-transform: rotate(180deg); \n    -o-transform-origin: 50% 50%;\n\n    transform: rotate(180deg);\n    transform-origin: 50% 50%;\n  }\n\n	.solid-stroke {\n		/* this is what should work per the spec\n		   stroke-dasharray: none; */\n		/* but I need to add this to make it work in Safari */\n		stroke-dasharray: 9999999999999999999999999;\n	}\n\n	.dashed-stroke {\n		stroke-dasharray: 5,3;\n	}\n\n  .highlighted-node {\n		fill: yellow;\n    fill-opacity: 0.2;\n		stroke: orange; \n    stroke-width: 3px;\n  }\n</style></defs><filter id="highlight" width="150%" height="150%"><feOffset result="offOut" in="SourceGraphic" dx="30" dy="30"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="10"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter><g id="viewport" transform="matrix(0.9264531435349941, 0, 0, 0.9264531435349941, 607.8902728351127, 20) "></g></svg>\n',function(){window.console||(window.console={});
for(var a=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],b=0;b<a.length;b++)window.console[a[b]]||(window.console[a[b]]={})}();var pathvisiojs={load:function(a){var b=this;if(this.args=a,this.model={},this.model.elements=[],this.data.model=this.data.gpml.model=this.data.gpml.graphics.model=this.data.gpml.group.model=this.data.gpml.interaction.model=this.view.model=this.view.pathwayDiagram.model=this.view.pathwayDiagram.svg.model=this.view.pathwayDiagram.svg.publicationXref.model=this.model,!a.container)throw new Error("No container selector specified to indicate where to insert the diagram.");if(!a.sourceData[0].uri)throw new Error("No sourceData uri specified.");var c=d3.map(b.config).entries(),d=function(c,d){a.hasOwnProperty(c.key)&&(b.config[c.key]=a[c.key]),d(null)};async.each(c,d,function(){b.view.pathwayDiagram.load(a)})}};pathvisiojs.utilities=function(){"use strict";function a(){for(var a={},b=arguments.length,c=0;b>c;c++)for(var d in arguments[c])arguments[c].hasOwnProperty(d)&&(a[d]=arguments[c][d]);return a}function b(a){function c(a,b,c){var d,e,f={};for(d in b)e=b[d],d in a&&(a[d]===e||d in f&&f[d]===e)||(a[d]=c?c(e):e);return a}if(!a||"object"!=typeof a||"[object Function]"===Object.prototype.toString.call(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var d,e,f;if(a instanceof Array)for(d=[],e=0,f=a.length;f>e;++e)e in a&&d.push(b(a[e]));else d=a.constructor?new a.constructor:{};return c(d,a,b)}function c(a){var b=d3.select(a).node();return d3.select(b.parentNode.insertBefore(b.cloneNode(!0),b.nextSibling))}function d(a){var b=null;return"Object"===e(a)?(b=[],b.push(a),b):"Array"===e(a)?a:"String"===e(a)?(b=[],b.push(a),b):void 0}function e(a){var b;return"[object Object]"===Object.prototype.toString.call(a)?b="Object":"[object Array]"===Object.prototype.toString.call(a)?b="Array":"[object String]"===Object.prototype.toString.call(a)&&(b="String"),b}function f(a){var b,c=new RegExp("[\x00-]+"),d=c.test(a);return b=d?"ltr":"rtl"}function g(a){var b=decodeURIComponent((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null;return b?b:(console.warn('Warning: URL parameter "'+a+'" is null.'),null)}function h(){var a=630,b=460;return document.body&&document.body.width&&(a=document.body.width,b=document.body.height),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.width&&(a=document.documentElement.width,b=document.documentElement.height),window.innerWidth&&window.innerHeight&&(a=window.innerWidth,b=window.innerHeight),{width:a,height:b}}function i(a,b){for(var c=[],d=0;d<a.length;d++)b.indexOf(a[d])>-1&&c.push(a[d]);return c}function j(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function k(a){var b=/(?:(?=[\s`!()\[\]{};:'".,<>?])|\b)((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/|[a-z0-9.\-]+[.](?:com|org|net))(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))*(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]|\b))/gi;return b.test(a)}function l(a){return!isNaN(parseFloat(a))&&isFinite(a)}function m(a){return a=a.trim(),"WP"===a.substr(0,2).toUpperCase()&&l(a.substr(a.length-1))?!0:!1}function n(a,b){var c=function(a,b){var c=document.createElement("script");c.src=a,c.onload=c.onreadystatechange=function(){c.onreadystatechange=c.onload=null,/MSIE ([6-9]+\.\d+);/.test(navigator.userAgent)?window.setTimeout(function(){b()},8,this):b()};var d=document.getElementsByTagName("head")[0];(d||document.body).appendChild(c)};!function(){0!=a.length?c(a.shift(),arguments.callee):b&&b()}()}function o(a,b,c){if(c>=a.length)for(var d=c-a.length;d--+1;)a.push(void 0);return a.splice(c,0,a.splice(b,1)[0]),a}function p(a){return a.split(/\r\n|\r|\n/g)}function q(a){var b=/\W/gi,c=a.replace(b,"");return c}Element.prototype.getElementWidth=function(){return"undefined"!=typeof this.clip?this.clip.width:this.style.pixelWidth?this.style.pixelWidth:this.width},Element.prototype.getElementHeight=function(){return"undefined"!=typeof this.clip?this.clip.width:this.style.pixelHeight?this.style.pixelHeight:this.height};var r=function(a){return a%2};return{clone:b,cloneNode:c,collect:a,convertToArray:d,getObjectType:e,getTextDirection:f,getUriParam:g,getWindowDimensions:h,isIE:j,intersect:i,isNumber:l,isOdd:r,isUri:k,isWikiPathwaysId:m,loadScripts:n,moveArrayItem:o,splitStringByNewLine:p,strToHtmlId:q}}(),pathvisiojs.config={},pathvisiojs.config.gpmlSourceUriStub="/wpi/wpi.php?action=downloadFile&type=gpml&pwTitle=Pathway:",pathvisiojs.config.bridgedbLinkOutsUriStub="/wpi/extensions/bridgedb.php/",pathvisiojs.config.bridgedbDatasources="/wpi/extensions/PathwayViewer/datasources.txt",pathvisiojs.config.diagramLoadingIconUri="/wpi/extensions/PathwayViewer/img/loading.gif",pathvisiojs.config.diagramNotAvailableIconUri="/wpi/extensions/PathwayViewer/img/imageNotAvailable.jpg",pathvisiojs.config.imgDiagramUriStub="/wpi.php?action=downloadFile&type=png&pwTitle=Pathway:",pathvisiojs.config.pathwaySearchUriStub="/index.php?title=Special:SearchPathways&doSearch=1&query=",pathvisiojs.data={get:function(a,b){console.log("model in data"),console.log(this.model);var c=a.uri,d=(a.object,a.fileType);if(!c)return new Error("No uri specified.");if(!d)return new Error("No fileType specified.");if("gpml"!==d)throw new Error("Cannot get jGpml from the specified input.");this.data.gpml.get(a,function(a){this.data.gpml.toPvjson(a,c,function(a){b(a)})})}},pathvisiojs.data.bridgedb=function(){"use strict";function a(a,e,f,g,h,i){if(null==e||null==f){var j={header:g,description:h,listItems:["Missing ID and datasource"]};i(j)}else c(function(c){var j=b(f,c),k=j.systemCode;d(a,k,e,function(a){var d,j=[];"undefined"!=typeof a&&(j=a.map(function(a){var e={};return e.title=a.dataSourceName,e.text=a.xRefId,d=b(a.dataSourceName,c),e.priority=d.priority,d.hasOwnProperty("linkoutPattern")&&""!==d.linkoutPattern&&null!==d.linkoutPattern&&(e.uri=d.linkoutPattern.replace("$id",e.text)),e})),j.sort(function(a,b){if(a.priority===b.priority){var c=a.title.toLowerCase(),d=b.title.toLowerCase();return d>c?-1:c>d?1:0}return b.priority-a.priority});var k=d3.nest().key(function(a){return a.title}).entries(j);if(0==k.length){var l="",m=b(f,c);m.hasOwnProperty("linkoutPattern")&&""!==m.linkoutPattern&&null!==m.linkoutPattern&&(l=m.linkoutPattern.replace("$id",e)),k=[{key:f,values:[{priority:"1",text:e,title:f,uri:l}]}]}var n=k.filter(function(a){return a.key==f})[0],o=k.indexOf(n);k=pathvisiojs.utilities.moveArrayItem(k,o,0);var p=n.values.filter(function(a){return a.text==e})[0],q=n.values.indexOf(p);n.values=pathvisiojs.utilities.moveArrayItem(n.values,q,0);var r={header:g,description:h,listItems:k};i(r)})})}function b(a,b){var c=/[^\w]/gi,d=b.filter(function(b){return b.dataSourceName===a})[0];return d||(d=b.filter(function(b){return b.dataSourceName.replace(c,"").toLowerCase()===a.replace(c,"").toLowerCase()})[0]),d}function c(a){d3.tsv(pathvisiojs.config.bridgedbDatasources).response(function(a){return d3.tsv.parseRows(a.responseText,function(a){return{dataSourceName:a[0],systemCode:a[1],websiteUri:a[2],linkoutPattern:a[3],exampleIdentifier:a[4],entityIdentified:a[5],singleSpecies:a[6],priority:a[7],uri:a[8],regex:a[9],officialName:a[10]}})}).get(function(b,c){a(c)})}function d(a,b,c,d){var e=pathvisiojs.config.bridgedbLinkOutsUriStub+encodeURIComponent(a)+"/xrefs/"+encodeURIComponent(b)+"/"+encodeURIComponent(c);d3.tsv(e).response(function(a){return d3.tsv.parseRows(a.responseText,function(a){return{xRefId:a[0],dataSourceName:a[1]}})}).get(function(a,b){d(b)})}return{getXrefAnnotationDataByDataNode:a}}(),pathvisiojs.data.biopax=function(){"use strict";function a(a,b){try{d3.ns.prefix.bp="http://www.biopax.org/owldoc/Level3/",d3.ns.prefix.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",d3.ns.qualify("bp:PublicationXref");var c=a.selectAll("PublicationXref"),d={};d.PublicationXref=[];var e;c.each(function(){e={},e.rdfId=d3.select(this).attr("rdf:id").toString(),d.PublicationXref.push(e)}),b(d)}catch(f){throw new Error("Error converting biopax to json: "+f.message)}}return{toPvjson:a}}(),pathvisiojs.data.pvjson=function(){"use strict";function a(a,b){var c=a.uri,d=(a.object,a.fileType);if(!c)return new Error("No uri specified.");if(!d)return new Error("No fileType specified.");if("gpml"!==d)throw new Error("Cannot get jGpml from the specified input.");pathvisiojs.data.gpml.get(a,function(a){pathvisiojs.data.gpml.toPvjson(a,c,function(a){console.log("json"),console.log(a),b(a)})})}return{get:a}}(),pathvisiojs.data.gpml={defaults:{FontSize:{Type:"FontSize",Value:10}},addIsContainedByAttribute:function(a){return a.selectAll("Group").each(function(){var b=d3.select(this),c=b.attr("GroupId");b.attr("GroupId",null);{var d=b.attr("GraphId");a.selectAll("[GroupRef="+c+"]").each(function(){d3.select(this).attr("IsContainedBy",d).attr("GroupRef",null)})}}),a},selectByMultipleTagNames:function(a){var b,c,d=a.gpmlSelection,e=a.elementTags;return e.forEach(function(a){c=d.selectAll(a),c[0][0]&&(b?b[0]=b[0].concat(c[0]):b=c)}),b},makeExplicit:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=[],p={};p.gpmlSelection=a,p.elementTags=["DataNode","Label","Shape","State","Anchor","Interaction","GraphicalLine","Group"];var q=this.selectByMultipleTagNames(p);if(q){q.filter(function(){return!!d3.select(this).attr("GraphId")}).each(function(){m=d3.select(this).attr("GraphId"),"id"===m.slice(0,2)&&(n=m.slice(2,m.length),o.push(n))}),o.sort(function(a,b){return parseInt(a,32)-parseInt(b,32)});var r=o[o.length-1]||0;q.filter(function(){return!d3.select(this).attr("GraphId")}).each(function(){r=(parseInt(r,32)+1).toString(32),d3.select(this).attr("GraphId","id"+r)});{var s=a.selectAll("Group").each(function(){b=d3.select(this),h=b.append("Graphics").attr("Align","Center").attr("Valign","Middle").attr("FontWeight","Bold").attr("LineThickness",1).attr("FillOpacity",.1)});a.selectAll("Group[Style=Group]").each(function(){c=d3.select(this),i=c.select("Graphics").attr("FontSize","1").attr("Padding","8").attr("ShapeType","None").attr("LineStyle","Broken").attr("Color","808080").attr("FillColor","Transparent")}),a.selectAll("Group[Style=None]").each(function(){d=d3.select(this),j=d.select("Graphics").attr("FontSize","1").attr("Padding","8").attr("ShapeType","Rectangle").attr("LineStyle","Broken").attr("Color","808080").attr("FillColor","B4B464")})}s&&s.filter(function(){return!d3.select(this).select("Graphics").attr("ShapeType")}).each(function(){d3.select(this).select("Graphics").attr("ShapeType","None"),d=d3.select(this),j=d.select("Graphics").attr("FontSize","1").attr("Padding","8").attr("ShapeType","Rectangle").attr("LineStyle","Broken").attr("Color","808080").attr("FillColor","B4B464")});var t=(a.selectAll("Group[Style=Complex]").each(function(){f=d3.select(this),l=f.select("Graphics").attr("FontSize","1").attr("Padding","11").attr("ShapeType","Complex").attr("Color","808080").attr("FillColor","B4B464").attr("LineStyle","Solid")}),a.selectAll("Group[Style=Pathway]").each(function(){e=d3.select(this),k=e.select("Graphics").attr("FontSize","1").attr("Padding","8").attr("ShapeType","Rectangle").attr("LineStyle","Broken").attr("Color","808080").attr("FillColor","00FF00")}),{});t.gpmlSelection=a,t.elementTags=["DataNode","Label","Shape","State"];var u=this.selectByMultipleTagNames(t);if(u){var v=a.selectAll("Label");v&&(v.filter(function(){return!d3.select(this).select("Graphics").attr("ShapeType")}).each(function(){d3.select(this).select("Graphics").attr("ShapeType","None")}),v.filter(function(){return!d3.select(this).select("Graphics").attr("FillColor")}).each(function(){d3.select(this).select("Graphics").attr("FillColor","Transparent")}));var w=a.selectAll("State");w&&(w.filter(function(){return!d3.select(this).select("Graphics").attr("FillColor")}).each(function(){d3.select(this).select("Graphics").attr("FillColor","ffffff")}),w.filter(function(){return!d3.select(this).select("Graphics").attr("FontSize")}).each(function(){d3.select(this).select("Graphics").attr("FontSize",10)}),w.filter(function(){return!d3.select(this).select("Graphics").attr("Valign")}).each(function(){d3.select(this).select("Graphics").attr("Valign","Middle")}));var x=a.selectAll("Shape");if(x){x.filter(function(){return!d3.select(this).select("Graphics").attr("FillColor")}).each(function(){d3.select(this).select("Graphics").attr("FillColor","Transparent")}),x.filter(function(){return"0.0"===d3.select(this).select("Graphics").attr("Rotation")}).each(function(){d3.select(this).select("Graphics").attr("Rotation",null)});{x.selectAll('[Key="org.pathvisio.CellularComponentProperty"]').each(function(){g=d3.select(this).attr("Value"),d3.select(this.parentElement).attr("CellularComponent",g)})}}u.filter(function(){return"Oval"===d3.select(this).select("Graphics").attr("ShapeType")}).each(function(){d3.select(this).select("Graphics").attr("ShapeType","Ellipse")}),u.filter(function(){return!d3.select(this).select("Graphics").attr("Padding")}).each(function(){d3.select(this).select("Graphics").attr("Padding","0.5em")}),u.filter(function(){return!d3.select(this).select("Graphics").attr("ShapeType")}).each(function(){d3.select(this).select("Graphics").attr("ShapeType","Rectangle")}),u.filter(function(){return!d3.select(this).select("Graphics").attr("Color")}).each(function(){d3.select(this).select("Graphics").attr("Color","000000")}),u.filter(function(){return!d3.select(this).select("Graphics").attr("LineThickness")}).each(function(){d3.select(this).select("Graphics").attr("LineThickness",1)}),u.filter(function(){return!d3.select(this).select("Graphics").attr("ZOrder")}).each(function(){d3.select(this).select("Graphics").attr("ZOrder",0)}),u.filter(function(){return!d3.select(this).select("Graphics").attr("Align")}).each(function(){d3.select(this).select("Graphics").attr("Align","Center")}),u.filter(function(){return!d3.select(this).select("Graphics").attr("Valign")}).each(function(){d3.select(this).select("Graphics").attr("Valign","Top")});var y,z,A,B,C,D,E,F,G=.311,H=.938,I=.868,J=(x.selectAll('[ShapeType="Triangle"]').each(function(){C=d3.select(this),A=parseFloat(C.attr("CenterX")),B=parseFloat(C.attr("CenterY")),y=parseFloat(C.attr("Width")),z=parseFloat(C.attr("Height"));var a=A-y/2,b=a+y*G,c=y*H;C.attr("CenterX",b+c/2).attr("Height",z*I).attr("Width",c)}),x.selectAll('[ShapeType="Arc"]').each(function(){D=d3.select(this),z=parseFloat(D.attr("Height")),B=parseFloat(D.attr("CenterY")),D.attr("CenterY",B+z/2)}),.904),K=.95,L=(x.selectAll('[ShapeType="Pentagon"]').each(function(){E=d3.select(this),y=parseFloat(E.attr("Width")),z=parseFloat(E.attr("Height")),A=parseFloat(E.attr("CenterX")),E.attr("CenterX",A+y*(1-J)/2).attr("Width",y*J).attr("Height",z*K)}),.88),M=(x.selectAll('[ShapeType="Hexagon"]').each(function(){F=d3.select(this),z=parseFloat(F.attr("Height")),F.attr("Height",z*L)}),a.selectAll("DataNode"));M&&M.filter(function(){return!d3.select(this).select("Graphics").attr("FillColor")}).each(function(){d3.select(this).select("Graphics").attr("FillColor","ffffff")})}var N=(a.selectAll('[Key="org.pathvisio.DoubleLineProperty"]').each(function(){d3.select(this.parentElement).select("Graphics").attr("LineStyle","Double")}),{});N.gpmlSelection=a,N.elementTags=["Interaction","GraphicalLine"];var O=this.selectByMultipleTagNames(N);if(O){O.each(function(){d3.select(this).select("Graphics").attr("FillColor","Transparent")}),O.filter(function(){return!d3.select(this).select("Graphics").attr("ConnectorType")}).each(function(){d3.select(this).select("Graphics").attr("ConnectorType","Straight")}),O.filter(function(){return!d3.select(this).select("Graphics").attr("Color")}).each(function(){d3.select(this).select("Graphics").attr("Color","000000")});var P=a.selectAll("Anchor").each(function(){var a=d3.select(this.parentElement),b=d3.select(this),c=b.append("Graphics"),d=b.attr("Shape")||"None";c.attr("ShapeType",d),b.attr("Shape",null);var e=b.attr("Position");c.attr("Position",e),b.attr("Position",null),c.attr("LineThickness",0),c.attr("FillColor",a.attr("Color"))});P&&(P.filter(function(){return"Circle"===d3.select(this).select("Graphics").attr("ShapeType")}).each(function(){d3.select(this).select("Graphics").attr("ShapeType","Ellipse"),d3.select(this).select("Graphics").attr("Width",8),d3.select(this).select("Graphics").attr("Height",8)}),P.filter(function(){return"None"===d3.select(this).select("Graphics").attr("ShapeType")}).each(function(){d3.select(this).select("Graphics").attr("Width",4),d3.select(this).select("Graphics").attr("Height",4)}))}}return a},get:function(a,b){var c=a.uri,d=a.object,e=a.fileType;if(!c&&!d)return new Error("No sourceData specified.");if(!e)return new Error("No fileType specified.");if("gpml"!==e)throw new Error("Cannot get GPML from the specified input.");9!==pathvisiojs.utilities.isIE()?d3.xml(c,function(a){var c=a.documentElement;self.myGpml=c,b(c)}):async.waterfall([function(a){$?a(null):pathvisiojs.utilities.loadScripts(["http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"],function(){a(null)})},function(a){d3.xhr(c,"application/xml",function(b,c){var d=c.responseText;a(null,d)})},function(a){var c=$.parseXML(a),d=c.documentElement;b(d)}])},gpmlColorAndShapeTypeToCss:function(a,b){var c={label:{color:null},shape:{stroke:null,fill:null}};return"none"!==b.toLowerCase()?c.label.color=this.gpmlColorToCssColorNew(a):(c.color=this.gpmlColorToCssColorNew(a),c.stroke="transparent"),c},gpmlColorToCssColorNew:function(a){var b;return"transparent"===a.toLowerCase()?"transparent":(b=new RGBColor(a),b.ok?b.toHex():(console.warn('Could not convert GPML Color value of "'+a+'" to a valid CSS color. Using "#c0c0c0" as a fallback.'),"#c0c0c0"))},gpmlColorToCssColor:function(a,b){var c;return a!==b&&a?(c=new RGBColor(a),c.ok?c.toHex():b):b},setColorAsJsonNew:function(a,b){var c=this.gpmlColorToCssColorNew(b);return a.color=c,a.borderColor=c,a.hasOwnProperty("text")&&(a.text.color=c),a},setColorAsJson:function(a,b,c){var d;return b!==c&&(d=this.gpmlColorToCssColor(b,c),a.color=d,a.borderColor=d,a.hasOwnProperty("text")&&(a.text.color=d)),a},getLineStyle:function(a){var b,c,d=a.select("Graphics");return d?(b=d.attr("LineStyle"),b?b:(c=a.selectAll("Attribute"),c.length>0?(b=c.filter(function(){return"org.pathvisiojs.DoubleLineProperty"===d3.select(this).attr("Key")&&"Double"===d3.select(this).attr("Value")}),b[0].length>0?"double":null):null)):void 0},getBorderStyleNew:function(a){var b={Solid:"solid",Double:"solid",Broken:"dashed"},c=b[a];return c?c:(console.warn('LineStyle "'+a+'" does not have a corresponding borderStyle. Using "solid"'),"solid")},getBorderStyle:function(a,b){var c,d={Solid:"solid",Double:"solid",Broken:"dashed"};return a!==b?a?(c=d[a],c?c:(console.warn('LineStyle "'+a+'" does not have a corresponding borderStyle. Using "solid"'),"solid")):"solid":"whatever the default value is"},setBorderStyleAsJsonNew:function(a,b){var c=this.getBorderStyleNew(b);return a.borderStyle=c,a},setBorderStyleAsJson:function(a,b,c){var d;return b!==c&&(d=this.getBorderStyle(b,c),a.borderStyle=d),a},toPvjson:function(a,b,c){var d=this.addIsContainedByAttribute(this.makeExplicit(d3.select(a)));console.log("GPML"),console.log(a);var e=this.model;if(e.xmlns=d.attr("xmlns"),e.elements=[],-1===pathvisiojs.data.gpml.namespaces.indexOf(e.xmlns))throw alert("Pathvisiojs does not support the data format provided. Please convert to GPML and retry."),new Error("Pathvisiojs does not support the data format provided. Please convert to GPML and retry.");0!==pathvisiojs.data.gpml.namespaces.indexOf(e.xmlns)?(console.warn("GPML namespace is not one pathvisiojs can handle."),c("fail")):async.parallel({"@context":function(a){e["@context"]={"@vocab":"http://vocabularies.wikipathways.org/gpml#","@base":b,gpml:"http://vocabularies.wikipathways.org/gpml#",id:"@id",xsd:"http://www.w3.org/2001/XMLSchema#",wp:"http://vocabularies.wikipathways.org/wp#",biopax:"http://www.biopax.org/release/biopax-level3.owl#",schema:"http://schema.org/",hMDB:"http://www.hmdb.ca/metabolites/HMDB",entrezGene:"http://www.ncbi.nlm.nih.gov/gene/",ChEBI:"http://www.ebi.ac.uk/chebi/searchId.do?chebiId=",media:"http://www.w3.org/TR/mediaont-10/",ex:"http://www.example.com/",pathwayIri:b,PublicationXref:"biopax:PublicationXref",gpmlFolder:"file://Users/andersriutta/Sites/pathvisiojs/test/gpml/",name:"http://xmlns.com/foaf/0.1/name",dcterms:"http://puri.org/dc/terms/",css2:"http://www.w3.org/TR/CSS2/",css3Ui:"http://www.w3.org/TR/css3-ui/#",cssTransform:"http://www.w3.org/TR/css-transforms-1/#",svg:"http://www.w3.org/TR/SVG11/",boxSizing:{"@id":"css3Ui:box-sizing","@value":"border-box"},rotate:"cssTransform:funcdef-rotate",position:"css2:visuren.html#propdef-position",color:"css2:colors.html#propdef-color",backgroundColor:"css2:colors.html#propdef-background-color",backgroundImage:"css2:colors.html#propdef-background-image",borderColor:"css2:box.html#propdef-border-color",borderWidth:"css2:box.html#propdef-border-width",borderStyle:"css2:box.html#propdef-border-style",x:{"@id":"css2:visuren.html#propdef-left","@type":"xsd:integer"},y:"css2:visuren.html#propdef-top",width:"css2:visudet.html#propdef-width",height:"css2:visudet.html#propdef-height",padding:"css2:box.html#propdef-padding",fontFamily:"css2:fonts.html#font-family-prop",fontStyle:"css2:fonts.html#propdef-font-style",textAlign:"css2:text.html#propdef-text-align",verticalAlign:"css2:visudet.html#propdef-vertical-align",fontSize:"css2:fonts.html#propdef-font-size",fontWeight:"css2:fonts.html#propdef-font-weight",zIndex:{"@id":"css2:z-index","@type":"xsd:integer"},DatasourceReference:"wp:DatasourceReference",DataSource:"gpml:Data-Source",LastModified:"gpml:Last-Modified",Pathway:"biopax:Pathway",shapeLibrary:"http://shapelibrary.example.org/",shapeName:"shapeLibrary:shapeName",image:"schema:image",dataNodeType:"gpml:Type",author:"schema:author",organism:"biopax:organism",stroke:"svg:painting.html#StrokeProperty",strokeWidth:"svg:painting.html#StrokeWidthProperty",line:{"@id":"svg:text.html#TSpanElement","@container":"@set"},Group:{"@id":"gpml:Group","@container":"@list"},pathwayElements:{"@id":"ex:pathwayElements/","@container":"@list"},contains:{"@id":"ex:contains","@type":"@id"},isContainedBy:{"@reverse":"ex:contains","@type":"@id"},edge:{"@type":"@id","@container":"@list",InteractionGraph:{"@type":"@id","@container":"@list"}},InteractionGraph:{"@type":"@id","@container":"@list"},interactsWith:{"@id":"ex:interactsWith","@type":"@id"},Interaction:{"@id":"biopax:Interaction","@type":"@id"},Point:{"@id":"gpml:Point","@container":"@list"}},a(null,e["@context"])},PublicationXref:function(a){pathvisiojs.data.gpml.biopaxRef.getAllAsPvjson(d,function(b){b?(e.PublicationXref=b,a(null,"BiopaxRefs are all converted.")):a(null,"No biopaxRefs to convert.")})},DataSource:function(a){var b=d.attr("Data-Source");b?(e.DataSource=b,a(null,"DataSource converted.")):a(null,"No DataSource to convert.")},Version:function(a){var b=d.attr("Version");b?(e.Version=b,a(null,"Version converted.")):a(null,"No Version to convert.")},Author:function(a){var b=d.attr("Author");b?(e.Author=b,a(null,"Author converted.")):a(null,"No Author to convert.")},Maintainer:function(a){var b=d.attr("Maintainer");b?(e.Maintainer=b,a(null,"Maintainer converted.")):a(null,"No Maintainer to convert.")},Email:function(a){var b=d.attr("Email");b?(e.Email=b,a(null,"Email converted.")):a(null,"No Email to convert.")},LastModified:function(a){var b=d.attr("Last-Modified");b?(e.LastModified=b,a(null,"LastModified converted.")):a(null,"No LastModified to convert.")},License:function(a){var b=d.attr("License");b?(e.License=b,a(null,"License converted.")):a(null,"No License to convert.")},Name:function(a){var b=d.attr("Name");b?(e.Name=b,a(null,"Name converted.")):a(null,"No Name to convert.")},Organism:function(a){var b=d.attr("Organism");b?(e.Organism=b,a(null,"Organism converted.")):a(null,"No Organism to convert.")},image:function(a){e.image={"@context":{"@vocab":"http://schema.org/"},width:parseFloat(d.select("Graphics").attr("BoardWidth")),height:parseFloat(d.select("Graphics").attr("BoardHeight"))},a(null,e.image)},Biopax:function(a){var b=d.selectAll("Biopax");b[0].length>0?(pathvisiojs.data.biopax.toPvjson(b,function(a){e.Biopax=a}),a(null,"Biopax all converted.")):a(null,"No Biopax to convert.")},DataNode:function(a){var b,c=d.selectAll("DataNode");c[0].length>0?(c.each(function(){b=d3.select(this),pathvisiojs.data.gpml.dataNode.toPvjson(e,d,b,function(a){e.elements=e.elements.concat(a)})}),a(null,"DataNodes are all converted.")):a(null,"No dataNodes to convert.")},Label:function(a){var b,c=d.selectAll("Label");c[0].length>0?(d.selectAll("Label").each(function(){b=d3.select(this),pathvisiojs.data.gpml.label.toPvjson(d,b,function(a){e.elements=e.elements.concat(a)})}),a(null,"Labels are all converted.")):a(null,"No labels to convert.")},Shape:function(a){var b,c=d.selectAll("Shape");c[0].length>0?(d.selectAll("Shape").each(function(){b=d3.select(this),pathvisiojs.data.gpml.shape.toPvjson(d,b,function(a){e.elements=e.elements.concat(a)})}),a(null,"Shapes are all converted.")):a(null,"No shapes to convert.")},State:function(a){var b,c=d.selectAll("State");c[0].length>0?(e.states=[],c.each(function(){b=d3.select(this),pathvisiojs.data.gpml.state.toPvjson(d,b,function(a){e.states=a,e.elements=e.elements.concat(a)})}),a(null,"States are all converted.")):a(null,"No states to convert.")},GraphicalLine:function(b){var c,f=d.selectAll("GraphicalLine");f[0].length>0?(d.selectAll("GraphicalLine").each(function(){c=d3.select(this),pathvisiojs.data.gpml.graphicalLine.toPvjson(a,c,function(a){e.elements=e.elements.concat(a)})}),b(null,"GraphicalLines are all converted.")):b(null,"No graphicalLines to convert.")},Interaction:function(b){var c,f=d.selectAll("Interaction");f[0].length>0?(d.selectAll("Interaction").each(function(){c=d3.select(this),pathvisiojs.data.gpml.interaction.toPvjson(a,c,function(a){e.elements=e.elements.concat(a)})}),b(null,"Interactions are all converted.")):b(null,"No interactions to convert.")}},function(){var a,b=d.selectAll("Group");if(b[0].length>0){d.selectAll("Group").each(function(){a=d3.select(this),pathvisiojs.data.gpml.group.toPvjson(e.elements,d,a,function(a){e.elements=e.elements.concat(a)})})}e.elements.sort(function(a,b){return a.zIndex-b.zIndex}),c(e)})}},pathvisiojs.data.gpml.node=pathvisiojs.data.gpml.node||{},pathvisiojs.data.gpml.graphics={defaults:{FontSize:{Type:"FontSize",Value:10}},toPvjson:function(a,b,c,d){function e(a){var b;return"transparent"===a.toLowerCase()?"transparent":(b=new RGBColor(a),b.ok?b.toHex():(console.warn('Could not convert GPML Color value of "'+a+'" to a valid CSS color. Using "#c0c0c0" as a fallback.'),"#c0c0c0"))}var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=b.select("Graphics")[0][0],v="",w="",x=(this.model,["LineStyle","ShapeType","FillColor","Color","LineThickness","Width","Height","RelX","RelY","CenterX","CenterY"]),y={LineStyle:function(a){var b;return"Broken"===a?(b="5,3",c.strokeDasharray=b):"Double"===a&&(v="-double"),b},ShapeType:function(a){return w=a,l=strcase.paramCase(w)+v,c.shape=l,l},ConnectorType:function(a){var b=a;return l=strcase.paramCase("line-"+b)+v,c.connectorType=b,c.shape=l,l},FillColor:function(a){var b=e(a);c.backgroundColor="none"!==w.toLowerCase()?b:"transparent"},FillOpacity:function(a){var b=parseFloat(a);c.fillOpacity=b},Color:function(a){var b=e(a);c.color=b},Padding:function(a){var b;b=pathvisiojs.utilities.isNumber(a)?parseFloat(a):a,c.padding=b},FontSize:function(a){var b;b=pathvisiojs.utilities.isNumber(a)?parseFloat(a):a,c.fontSize=b},FontName:function(a){var b=a;c.fontFamily=b},FontStyle:function(a){var b=a.toLowerCase();c.fontStyle=b},FontWeight:function(a){var b=a.toLowerCase();c.fontWeight=b},Rotation:function(a){a=parseFloat(a);var b=180*a/Math.PI;return c.rotation=b,b},LineThickness:function(a){return k=parseFloat(a),c.borderWidth=k,c.strokeWidth=k,k},Position:function(a){var b=parseFloat(a);return c.position=b,b},Width:function(a){return a=parseFloat(a),j=a+k,c.width=j,j},Height:function(a){return a=parseFloat(a),i=a+k,c.height=i,i},CenterX:function(a){return a=parseFloat(a),p=a-j/2,c.x=p,p},CenterY:function(a){return a=parseFloat(a),q=a-i/2,c.y=q,q},RelX:function(d){var e=parseFloat(d);c.relX=e,f=a.select("[GraphId="+b.attr("GraphRef")+"]");var g=parseFloat(f.select("Graphics").attr("CenterX")),h=parseFloat(f.select("Graphics").attr("Width")),i=parseFloat(f.select("Graphics").attr("ZOrder")),k=g+d*h/2;return p=k-j/2,c.x=p,c.zIndex=i+.2,p},RelY:function(a){var b=parseFloat(a);c.relY=b;var d=parseFloat(f.select("Graphics").attr("CenterY")),e=parseFloat(f.select("Graphics").attr("Height")),g=d+b*e/2;return q=g-i/2,c.y=q,q},Align:function(a){return n=strcase.paramCase(a),c.textAlign=n,n},Valign:function(a){return o=strcase.paramCase(a),c.verticalAlign=o,o},ZOrder:function(a){return m=parseFloat(a),c.zIndex=m,m}},z=[];if(u){for(h=0;h<u.attributes.length;h++)g=u.attributes[h],r=g.name,s={name:r,value:g.value,dependencyOrder:x.indexOf(r)},z.push(s);z.sort(function(a,b){return a.dependencyOrder-b.dependencyOrder}),z.forEach(function(a){t=a.name,y.hasOwnProperty(t)?y[t](a.value):(console.warn('Pathvisiojs has no handler for attribute "'+t+'"'),t=strcase.camelCase(t),c[t]=a.value)})}d(c)}},pathvisiojs.data.gpml.element=function(){"use strict";var a=function(a,b){var c;return a!==b?a?(c=new RGBColor(a),c.ok?c.toHex():"black"):"black":null},b=function(b,c,d){var e;return c!==d&&(e=a(c,d),b.color=e,b.borderColor=e,b.hasOwnProperty("text")&&(b.text.color=e)),b},c=function(a){var b,c,d=a.select("Graphics");return d?(b=d.attr("LineStyle"),b?b:(c=a.selectAll("Attribute"),c.length>0?(b=c.filter(function(){return"org.pathvisiojs.DoubleLineProperty"===d3.select(this).attr("Key")&&"Double"===d3.select(this).attr("Value")}),b[0].length>0?"double":null):null)):void 0},d=function(a,b){var c,d={Solid:"solid",Double:"solid",Broken:"dashed"};return a!==b?a?(c=d[a],c?c:(console.warn('LineStyle "'+a+'" does not have a corresponding borderStyle. Using "solid"'),"solid")):"solid":"whatever the default value is"},e=function(a,b,c){var e;return b!==c&&(e=d(b,c),a.borderStyle=e),a},f=function(a,b,c,d){var e,f,g,h;c.gpmlType=b[0][0].tagName,c.graphicalType="path";var i=["GraphId","GraphRef","IsContainedBy","TextLabel","Type","CellularComponent"],j={GraphId:function(a){return c.id=a,a},Style:function(a){return c.groupStyle=a,a},Href:function(a){return h=encodeURI(he.decode(a)),c.href=h,h},TextLabel:function(a){return g=he.decode(a),c.textContent=g,g},Type:function(a){return c.biologicalType=a,a},CellularComponent:function(a){return c.cellularComponent=a,a},IsContainedBy:function(a){return c.isContainedBy=a,a},GraphRef:function(a){return c.isAttachedTo=a,a}};pathvisiojs.data.gpml.biopaxRef.getAllAsPvjson(b,function(a){a&&(c.publicationXrefs=a);var g,h,k,l=[];for(f=0;f<b[0][0].attributes.length;f++)e=b[0][0].attributes[f],g=e.name,h={name:g,value:e.value,dependencyOrder:i.indexOf(g)},l.push(h);l.sort(function(a,b){return a.dependencyOrder-b.dependencyOrder}),l.forEach(function(a){k=a.name,j.hasOwnProperty(k)?j[k](a.value):(console.warn('Pathvisiojs has no handler for attribute "'+k+'"'),k=strcase.camelCase(k),c[k]=a.value)}),d(c)})};return{toPvjson:f,gpmlColorToCssColor:a,setColorAsJson:b,getLineStyle:c,getBorderStyle:d,setBorderStyleAsJson:e}}(),pathvisiojs.data.gpml.text=function(){"use strict";function a(a,c,d){var e,f,g,h,i,j,k,l=pathvisiojs.utilities.collect(b.text,c),m=a.attr("TextLabel");if(m){e={},e.id="id"+uuid.v4(),e.line=m.split(/\r\n|\r|\n|&#xA;/g);var f,h,i,j,k,n=a.select("Graphics");n[0][0]&&(f=a.select("Graphics").attr("Align")||"center",e.textAlign=f.toLowerCase(),g=a.select("Graphics").attr("Valign")||"middle",e.verticalAlign=g.toLowerCase(),h=a.select("Graphics").attr("FontStyle"),h!==l.FontStyle&&h&&(e.fontStyle=h.toLowerCase()),i=a.select("Graphics").attr("FontWeight"),i!==l.FontWeight&&i&&(e.fontWeight=i.toLowerCase()),j=a.select("Graphics").attr("FontSize")||10,parseFloat(j)!==l.FontSize&&j&&(e.fontSize=parseFloat(j)),k=a.select("Graphics").attr("FontName"),k!==l.FontName&&k&&(e.fontFamily=k)),d(e)
}else d(null)}var b={text:{Align:null,Valign:"Middle",FontStyle:null,FontName:null}};return{toPvjson:a}}(),pathvisiojs.data.gpml.namespaces=["http://pathvisio.org/GPML/2013a","http://genmapp.org/GPML/2010a","http://genmapp.org/GPML/2008a","http://genmapp.org/GPML/2007"],pathvisiojs.data.gpml.biopaxRef=function(){"use strict";function a(a,b){var c,d,e=a[0][0].tagName,f=a.selectAll(e+" > BiopaxRef");f[0].length>0?(c=[],f.each(function(){d=d3.select(this)[0][0].textContent,c.push(d)}),b(c)):b(null)}return{getAllAsPvjson:a}}(),pathvisiojs.data.gpml.group={getGroupDimensions:function(a,b){var c={};c.topLeftCorner={},c.topLeftCorner.x=1/0,c.topLeftCorner.y=1/0,c.bottomRightCorner={},c.bottomRightCorner.x=0,c.bottomRightCorner.y=0;var d=parseFloat(a.padding),e=a.contains;e=pathvisiojs.utilities.convertToArray(e),c.zIndex=1/0,async.each(e,function(b,e){b.hasOwnProperty("points")?(c.topLeftCorner.x=Math.min(c.topLeftCorner.x,b.points[0].x,b.points[b.points.length-1].x),c.topLeftCorner.y=Math.min(c.topLeftCorner.y,b.points[0].y,b.points[b.points.length-1].y),c.bottomRightCorner.x=Math.max(c.bottomRightCorner.x,b.points[0].x,b.points[b.points.length-1].x),c.bottomRightCorner.y=Math.max(c.bottomRightCorner.y,b.points[0].y,b.points[b.points.length-1].y)):(c.topLeftCorner.x=Math.min(c.topLeftCorner.x,b.x),c.topLeftCorner.y=Math.min(c.topLeftCorner.y,b.y),c.bottomRightCorner.x=Math.max(c.bottomRightCorner.x,b.x+b.width),c.bottomRightCorner.y=Math.max(c.bottomRightCorner.y,b.y+b.height)),c.x=c.topLeftCorner.x-d-a.strokeWidth,c.y=c.topLeftCorner.y-d-a.strokeWidth,c.width=c.bottomRightCorner.x-c.topLeftCorner.x+2*(d+a.strokeWidth),c.height=c.bottomRightCorner.y-c.topLeftCorner.y+2*(d+a.strokeWidth),c.zIndex=Math.min(c.zIndex,b.zIndex),e(null)},function(){c.zIndex=c.zIndex-.1,b(c)})},toPvjson:function(a,b,c,d){{var e,f={},g=[];this.model}f.renderableType="GroupNode",f.networkType="node",f.nodeType="GroupNode",e=c.attr("Style")||"None",f.groupType=e,pathvisiojs.data.gpml.element.toPvjson(b,c,f,function(e){pathvisiojs.data.gpml.graphics.toPvjson(b,c,e,function(b){var c=a.filter(function(a){return a.isContainedBy===b.id});c.length>0&&(b.contains=c,pathvisiojs.data.gpml.group.getGroupDimensions(b,function(a){b.x=a.x,b.y=a.y,b.width=a.width,b.height=a.height,b.zIndex=a.zIndex}),g.push(b)),d(g)})})}},pathvisiojs.data.gpml.dataNode=function(){"use strict";var a=function(a,b,c,d){var e={},f=c.attr("Type");f||(f="Unknown"),e.networkType="node",e.nodeType="DataNode",e.dataNodeType=f,e["@type"]=e["@type"]||[],e["@type"].push("DataNode"),e["@type"].push(f),pathvisiojs.data.gpml.element.toPvjson(b,c,e,function(a){pathvisiojs.data.gpml.graphics.toPvjson(b,c,a,function(a){var e,f,g,h=c.select("Xref");h&&(e=h.attr("Database"),f=h.attr("ID"),e&&f&&(g={},g.database=e,g.id=f,g.organism=b.attr("Organism"),a.datasourceReference=g));var i=[a];d(i)})})};return{toPvjson:a}}(),pathvisiojs.data.gpml.label=function(){"use strict";var a=function(a,b,c){var d={};d.networkType="node",d.nodeType="Label",pathvisiojs.data.gpml.element.toPvjson(a,b,d,function(d){pathvisiojs.data.gpml.graphics.toPvjson(a,b,d,function(a){var b=[a];c(b)})})};return{toPvjson:a}}(),pathvisiojs.data.gpml.shape=function(){"use strict";function a(a,b,c){var d={};d.networkType="node",d.nodeType="Shape",pathvisiojs.data.gpml.element.toPvjson(a,b,d,function(d){pathvisiojs.data.gpml.graphics.toPvjson(a,b,d,function(a){var b=[a];c(b)})})}return{toPvjson:a}}(),pathvisiojs.data.gpml.state=function(){"use strict";var a=function(a,b,c){var d={};d.networkType="node",d.nodeType="State",pathvisiojs.data.gpml.element.toPvjson(a,b,d,function(d){pathvisiojs.data.gpml.graphics.toPvjson(a,b,d,function(a){var b=[a];c(b)})})};return{toPvjson:a}}(),pathvisiojs.data.gpml.anchor=function(){"use strict";function a(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=c.points,n=m.length,o=m[0],p=m[n-1];b.selectAll("Anchor").each(function(){e=this,f=d3.select(this),g={},g.gpmlType="Anchor",g.isAttachedTo=c.id,g.zIndex=c.zIndex+.1,g.networkType="node",pathvisiojs.data.gpml.element.toPvjson(a,f,g,function(b){pathvisiojs.data.gpml.graphics.toPvjson(a,f,b,function(b){h=d3.select(a).select("Point[GraphRef="+b.id+"]"),j=b.width,k=b.height,h[0][0]?(b.x=parseFloat(h.attr("X"))-j/2,b.y=parseFloat(h.attr("Y"))-k/2):(i=b.position,b.x=o.x+i*(p.x-o.x)-j/2,b.y=o.y+i*(p.y-o.y)-k/2,console.warn("No cached X and Y data available for this gpml Anchor element. Assuming LineType of Straight for anchor position calculation.")),l.push(b)})})}),d(l)}function b(a){self.jsonNode=a;var b,c,d,e,f,g,h,i,j,k=[],l=[{side:"top",dx:0,dy:-1},{side:"right",dx:1,dy:0},{side:"bottom",dx:0,dy:1},{side:"left",dx:-1,dy:0}],m=[.25,.5,.75];return b=a.id,c="anchor",l.forEach(function(b){g=Math.max(b.dx,0)*a.width,h=Math.max(b.dy,0)*a.height,m.forEach(function(c){d=String(a.id)+String(b.side)+String(c),i=Math.abs(b.dy)*c*a.width,j=Math.abs(b.dx)*c*a.height,e=a.x+g+i,f=a.y+h+j,k.push({parentId:a.id,renderableType:"anchor",side:b.side,dx:b.dx,dy:b.dy,id:d,position:c,x:e,y:f})})}),k}return{toPvjson:a,getAllFromNode:b}}(),pathvisiojs.data.gpml.interaction={gpmlArrowHeadsToSemanticMappings:{Arrow:"Activity",ArrowArrow:"BidirectionalActivity",TBar:"InhibitoryActivity","mim-catalysis":"Catalysis","mim-inhibition":"Inhibition","mim-branching-left":"mim-branching-left","mim-branching-right":"mim-branching-right","mim-necessary-stimulation":"NecessaryStimulation","mim-binding":"Binding","mim-conversion":"Conversion","mim-stimulation":"Stimulation","mim-modification":"Modification","mim-cleavage":"Cleavage","mim-covalent-bond":"CovalentBond","mim-transcription-translation":"TranscriptionTranslation","mim-gap":"Gap",Line:"Unspecified"},getGpmlArrowHeadNameFromSemanticName:function(a){for(var b in this.gpmlArrowHeadsToSemanticMappings)if(this.gpmlArrowHeadsToSemanticMappings[b]===a)return b;return b||(b=a,console.warn('No GPML ArrowHead name found for semantic name "'+a+'". Returning original semantic name as GPML ArrowHead name. PathVisio-Java will delete this ArrowHead from the GPML file if it edits this file.')),b},getSemanticNameFromGpmlArrowHeadName:function(a){var b;return a?(b=this.gpmlArrowHeadsToSemanticMappings[a],b||(b=a,console.warn('No semantic name found for GPML ArrowHead name "'+a+'". Returning original GPML ArrowHead name as semantic name.'))):b="Unspecified",b},toPvjson:function(a,b,c){var d,e=(this.model,{});e.networkType="edge",e.gpmlType="Interaction",pathvisiojs.data.gpml.element.toPvjson(a,b,e,function(e){pathvisiojs.data.gpml.graphics.toPvjson(a,b,e,function(e){pathvisiojs.data.gpml.point.toPvjson(a,b,e,function(e){pathvisiojs.data.gpml.anchor.toPvjson(a,b,e,function(a){d=[e].concat(a),c(d)})})})})}},pathvisiojs.data.gpml.graphicalLine=function(){"use strict";function a(a,b,c){var d,e={};e.networkType="edge",pathvisiojs.data.gpml.element.toPvjson(a,b,e,function(e){pathvisiojs.data.gpml.graphics.toPvjson(a,b,e,function(e){pathvisiojs.data.gpml.point.toPvjson(a,b,e,function(e){pathvisiojs.data.gpml.anchor.toPvjson(a,b,e,function(a){d=[e].concat(a),c(d)})})})})}return{toPvjson:a}}(),pathvisiojs.data.gpml.point=function(){"use strict";function a(a,c,d,e){var f,g,h,i,k,l,m,n,o=[];c.selectAll("Point").each(function(b,c){f=this,g=d3.select(this),h={};for(var e,i,p,q,r=["GraphRef","RelX","RelY","X","Y"],s={X:function(a){return k=parseFloat(a),h.x=k,k},Y:function(a){return l=parseFloat(a),h.y=l,l},RelX:function(b){var c=(b.toString(),parseFloat(b));h.RelX=c;var d=j(c,"RelX",a,n);return h.anchor=h.anchor||[],h.anchor[0]=d.position,h.anchor[2]=d.orientation,d.offset&&(h.anchor[4]=d.offset),h.anchor[2]=d.orientation,c},RelY:function(b){var c=(b.toString(),parseFloat(b));h.RelY=c;var d=j(c,"RelY",a,n);return h.anchor=h.anchor||[],h.anchor[1]=d.position,h.anchor[3]=d.orientation,d.offset&&(h.anchor[5]=d.offset),c},GraphRef:function(a){return n=a,h.isAttachedTo=a,a},ArrowHead:function(a){return m=strcase.camelCase(a),0===c?d.markerStart=m:d.markerEnd=m,m}},t=[],u=0;u<f.attributes.length;u++)e=f.attributes[u],i=e.name,p={name:i,value:e.value,dependencyOrder:r.indexOf(i)},t.push(p);t.sort(function(a,b){return a.dependencyOrder-b.dependencyOrder}),t.forEach(function(a){q=a.name,s.hasOwnProperty(q)?s[q](a.value):(console.warn('Pathvisiojs has no handler for attribute "'+q+'"'),q=strcase.camelCase(q),d[q]=a.value)}),o.push(h)});var p=c.select("Graphics").attr("ConnectorType");"Straight"===p?(o.length<2&&console.warn("Too many points for a straight line!"),i=o):"Segmented"===p?i=o:"Elbow"===p?i=b(o):"Curved"===p?i=b(o):console.warn("Unknown connector type: "+p),d.points=i,e(d)}function b(a){2==a.length&&(a=c(a));var b=[];b[0]=a[0];var d,e=h(a[0]);for(d=1;d<a.length;d++){var f=a[d].y-a[d-1].y,g=a[d].x-a[d-1].x;b[d]=1==e?{x:a[d-1].x,y:a[d-1].y+f}:{x:a[d-1].x+g,y:a[d-1].y},e=(e+1)%2}return b[a.length]=a[a.length-1],b}function c(a){var b=e(a),c=20,f=a[0],g=a[1],j=[];return j[0]=f,0===b||(1==b?j[1]=d(f,g,h(f),i(g)):2==b?(j[1]=d(f,{x:g.x+c*i(g),y:g.y+c*i(g)},h(f),i(f)),j[2]=d(g,j[1],h(g),i(g))):3==b?(j[2]={x:f.x+(g.x-f.x)/2,y:f.y+(g.y-f.y)/2},j[1]=d(f,j[2],h(f),i(f)),j[3]=d(g,j[2],h(g),i(g))):console.log("Too many waypoint estimated!!!")),j[b+1]=g,j}function d(a,b,c,d){var e=20,f=0,g=0;return 1===c?(f=a.x+(b.x-a.x)/2,g=a.y+e*d):(f=a.x+e*d,g=a.y+(b.y-a.y)/2),{x:f,y:g}}function e(a){var b=a[0],c=a[1],d=f(c.x-b.x)>0,e=d?b:c,h=d?c:b,i=f(e.y-h.y)<0,j=i?1:0,k=g(d?b:c),l=g(d?c:b),m=[[[1,1],[2,2],[1,3],[0,2]],[[2,0],[1,1],[0,2],[1,1]],[[3,1],[2,2],[1,1],[2,0]],[[2,2],[3,3],[2,2],[1,1]]];return m[k][l][j]}function f(a){return a?0>a?-1:1:0}function g(a){return Math.abs(a.RelX)>Math.abs(a.RelY)?a.RelX>0?1:3:a.RelY>0?2:0}function h(a){return Math.abs(a.RelX)>Math.abs(a.RelY)?0:1}function i(a){return Math.abs(a.RelX)>Math.abs(a.RelY)?a.RelX>0?1:-1:a.RelY>0?1:-1}var j=function(a,b,c,d){var e,f,g,h={},i=(a+1)/2;return 0>i||i>1?(f=d3.select(c).select("*[GraphId="+d+"]"),g=f.attr("RelX"===b?"Width":"Height"),0>i?(e=0,h.offset=i*g):(e=1,h.offset=(i-1)*g)):e=i,h.orientation=0===e?-1:1===e?1:0,h.position=e,h};return{toPvjson:a}}(),pathvisiojs.view=pathvisiojs.view||{},diagramAnnotation=function(){"use strict";function a(a){self.annotationData=a;var b=d3.select("#annotation").data([a]),c=d3.behavior.drag().on("drag",function(){var a=parseInt(b.style("right")),c=parseInt(b.style("top"));a-=d3.event.dx,c+=d3.event.dy,b.style("right",a+"px"),b.style("top",c+"px")}),d=(b.select("#annotation-header-text").text(function(a){return a.header}),b.select("#annotation-header-search").select("a").attr("href",function(a){return pathvisiojs.config.pathwaySearchUriStub+a.header}).attr("title",function(a){return"Search for pathways containing "+a.header}),b.select("i.icon-move").on("mousedown",function(){b.call(c)}).on("mouseup",function(){b.on("mousedown.drag",null)}),b.select("i.icon-remove").on("click",function(){b[0][0].style.visibility="hidden"}),b.select("#annotation-description").text(function(a){return a.description})),e=b.selectAll("#annotation-items-container").data(function(a){return"string"==typeof a.listItems[0]?("gif"==a.listItems[0].split(".").pop()?(d.append("br"),d.append("br"),d.append("img").attr("src",a.listItems[0]).attr("style","width: 20px")):d.append("p").html('<font color="red">'+a.listItems[0]+"</font>"),[{key:"clear",values:[{clear:"clear"}]}]):[a.listItems]}),f=e.selectAll("li").data(function(a){return a});f.enter().append("li"),f.exit().remove();var g=f.selectAll(".annotation-item-title").data(function(a){return[a.key]}).text(function(a){return a+": "});g.enter().append("span").attr("class","annotation-item-title").text(function(a){return a+": "}),g.exit().remove();var h=f.selectAll("span.annotation-item-text").data(function(a){return a.values.filter(function(a){return a.hasOwnProperty("uri")?void 0:a})}).text(function(a){return" "+a.text});h.enter().append("span").attr("class","annotation-item-text").text(function(a){return" "+a.text}),h.exit().remove();var i=f.selectAll("a.annotation-item-text").data(function(a){return a.values.filter(function(a){return a.hasOwnProperty("uri")?a:void 0})}).attr("href",function(a){return a.uri}).attr("class","annotation-item-text").text(function(a){return" "+a.text});i.enter().append("a").attr("href",function(a){return a.uri}).attr("class","annotation-item-text").text(function(a){return" "+a.text}),i.exit().remove(),b[0][0].style.visibility="visible"}return{render:a}}(),diagramAnnotation.citation=function(){"use strict";function a(){}return{render:a}}(),diagramAnnotation.xRef=function(){"use strict";function a(a,d,e,f,g){var h=b(a,f,d,e);if(h)diagramAnnotation.render(h);else{var h={header:f,description:g,listItems:[pathvisiojs.config.diagramLoadingIconUri]};diagramAnnotation.render(h);{pathvisiojs.data.bridgedb.getXrefAnnotationDataByDataNode(a,d,e,f,g,function(b){c(a,f,d,e,b),diagramAnnotation.render(b)})}}}function b(a,b,c,e){return d[a+b+c+e]}function c(a,b,c,e,f){d[a+b+c+e]=f}var d={};return{render:a}}(),pathvisiojs.view.pathwayDiagram=function(){"use strict";function a(a){var c,d,f,g=b(),h=0;do c=a[h],d=e[c.fileType],f=pathvisiojs.utilities.intersect(d,g),h+=1;while(f.length<1&&h<a.length+1);return c.selectedViewMethod=f[0],c}function b(){var a=["img"];return Modernizr.inlinesvg&&a.push("svg"),a}function c(a,b){a.html(pathvisioNS["src/pathvisiojs.html"]);var c=a.select("#diagram-container");b(c)}function d(b){{var d,e,f=b.container,g=b.sourceData,h=b.fitToContainer,i=(b.cssUri,b.customMarkers,b.highlights);b.hiddenElements}if(!g[0].uri)throw new Error("No sourceData uri specified.");if(!f)throw new Error("No container selector specified as container for pathvisiojs.");if(d=d3.select(f),1!==d.length)throw new Error("Container selector must be matched by exactly one element.");async.waterfall([function(a){c(d,function(b){e=b,a(null)})},function(b){var c=pathvisiojs.config.diagramLoadingIconUri,f=(e.append("img").attr("id","loading-icon").attr("src",c).attr("width",50),a(g)),h=d[0][0].getBoundingClientRect(),i=h.width-3,j=h.height-3;b(null,i,j,f)},function(a,b,c,d){var f,g={};g.container=e,g.renderableSourceDataElement=c,g.containerWidth=a,g.containerHeight=b,g.fitToContainer=h,g.highlights=i,pathvisiojs.data.pvjson.get(c,function(e){if(pathvisiojs.context=e["@context"],!e||"fail"===e)throw d(null),new Error("Could not convert input source data to pathvisioJsJson.");f=e,self.myPathway=e;var g=Object.create(crossPlatformShapes);g.init({targetSelector:"#diagram-container",id:"my-svg2",format:c.selectedViewMethod,width:a,height:b,backgroundColor:"white",customShapes:{arc:{href:"http://upload.wikimedia.org/wikipedia/commons/5/5c/Triangular_arch.svg"},brace:{href:"http://farm2.staticflickr.com/1175/1331501691_931c8a09d1_z.jpg"},mitochondria:{href:"http://farm1.staticflickr.com/128/393913249_f0a61946dc_n.jpg"}}},function(){var a=Object.create(crossPlatformText);a.init({targetSelector:"#my-svg2"});var b,c;async.each(f.elements,function(d,e){var f=d;if(f.containerSelector="#viewport",c=strcase.camelCase(d.shape),"none"!==d.shape){if(!g.hasOwnProperty(c)){var h=/double$/gi;c=c.replace(h,""),g.hasOwnProperty(c)?console.warn('Requested path "'+d.shape+'" is not available with linetype of "Double". Using linetype of "Solid" instead'):(console.warn('Requested path "'+d.shape+'" is not available. Using path "rounded-rectangle" instead'),c="roundedRectangle")}b=g[c](f)}if(d.textContent){var i=d;i.id="text-for-"+d.id,i.containerSelector="#viewport",a.render(f)}e(null)})}),d(null,e)})},function(a,b){e.select("#loading-icon").remove(),d3.select("body").append("span").attr("id","pathvisiojs-is-loaded"),b(null)}])}var e={gpml:["svg"],biopax:["svg"],pdf:["pdf"],png:["img"],jpg:["img"],jpeg:["img"],jpe:["img"],jif:["img"],jfif:["img"],jfi:["img"],gif:["img"],ico:["img"],bmp:["img"],dib:["img"]};return{load:d}}(),pathvisiojs.view.pathwayDiagram.svg={renderableTypeToSvgElementMappings:{entityNode:"g",groupNode:"g",interaction:"path",graphicalLine:"path"},fitAndCenterDiagramWithinViewport:function(a,b,c,d,e){var f=Math.min(b/d,c/e),g=f*d,h=f*e,i=b/2-g/2+10,j=c/2-h/2+20,k="matrix("+f+", 0, 0, "+f+", "+i+", "+j+") ";a.attr("transform",k)},load:function(a,b){var c,d=a.container,e=a.containerWidth,f=a.containerHeight,g=a.cssUri,h=a.renderableSourceDataElement,i=a.fitToContainer,j=a.customMarkers,k=a.highlights,l=this;async.waterfall([function(a){async.parallel({preloadSvg:function(a){var b={};b.container=d,b.customMarkers=j,b.cssUri=g,l.loadPartials(b,function(b){if(!b)throw new Error("Could not load SVG template.");var c={};c.svgSelection=b,a(null,c)})},pathway:function(a){pathvisiojs.data.pvjson.get(h,function(d){if(pathvisiojs.context=d["@context"],!d||"fail"===d)throw b(null),new Error("Could not convert input source data to pathvisioJsJson.");c=d,self.myPathway=d,a(null,d)})}},function(b,c){a(null,c.preloadSvg.svgSelection,c.pathway)})},function(a,b,c){l.renderWithCachedData(a,b,function(){a.attr("style","display:inline"),c(null,a)})},function(a,b){k&&k.forEach(function(a){l.node.highlight(a)});var d=a.select("#viewport");i&&l.fitAndCenterDiagramWithinViewport(d,e,f,c.image.width,c.image.height);d3.select("#reset-pan-zoom").on("click",function(){l.fitAndCenterDiagramWithinViewport(d,e,f,c.image.width,c.image.height)});svgPanZoom.init({selector:"svg",zoomEnabled:!1,minZoom:"0.1",maxZoom:"8.0"});var g=!1;a.on("click",function(){svgPanZoom.enableZoom(),g=!0}).on("mouseenter",function(){g&&svgPanZoom.enableZoom()}).on("mouseleave",function(){g&&(svgPanZoom.disableZoom(),g=!1)}),b(null,a)},function(a,b){var d,e;c&&(d=[],c.hasOwnProperty("DataNode")&&(c.DataNode.forEach(function(a){a.hasOwnProperty("text")&&(e=a.text.line[0],-1===d.indexOf(e)&&d.push(a.text.line[0]))}),$("#highlight-by-label-input").typeahead({name:"Highlight node in pathway",local:d,limit:10})),$("#highlight-by-label-input").bind("typeahead:selected",function(){if(e=$("#highlight-by-label-input").val(),!e)throw new Error("No data node value entered for type-ahead node highlighter.");l.node.highlightByLabel(a,c,e)}),d3.select("#clear-highlights-from-typeahead").on("click",function(){l.node.clearHighlightsFromTypeahead()}),b(null,a))}],function(a,c){b(c)})},generateSvgTemplate:function(a){var b=document.createDocumentFragment(),c=d3.select(b).append("svg").attr("id","pathvisiojs-diagram").attr("version","1.1").attr("baseProfile","full").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xmlns:xlink","http://www.w3.org/1999/xlink").attr("xmlns:xmlns:ev","http://www.w3.org/2001/xml-events").attr("width","100%").attr("height","100%").attr("style","display: none; "),d=c.append("g"),e=(c.append("title").text("pathvisiojs diagram"),d.append("desc").text("This SVG file contains all the graphical elements (markers and symbols in defs as well as\nstyle data) used by the program pathvisiojs, which has two components:\n1) a viewer for transforming GPML biological pathway data into an SVG visual representation and\n2) an editor for creating both views and models for biological pathways."),c.append("defs"),c.append("filter").attr("id","highlight").attr("width","150%").attr("height","150%"));e.append("feOffset").attr("result","offOut").attr("in","SourceGraphic").attr("dx","30").attr("dy","30"),e.append("feGaussianBlur").attr("result","blurOut").attr("in","offOut").attr("stdDeviation","10"),e.append("feBlend").attr("in","SourceGraphic").attr("in2","blurOut").attr("mode","normal");c.append("g").attr("id","viewport");a(b)},loadPartials:function(a,b){var c=this,d=this.generateSvgTemplate,e=a.container,f=a.customMarkers,g=a.cssUri;async.waterfall([function(a){var b=e.append("div").html(pathvisioNS["tmp/pathvisiojs.svg"]).select("#pathvisiojs-diagram").attr("preserveAspectRatio","xMidYMid");d(function(c){console.log("svgTemplate"),console.log(c),console.log("svgSelection"),console.log(b),a(null,b)})},function(b,d){a.customMarkers?c.marker.loadAllCustom(b,f,function(){d(null,b)}):d(null,b)},function(a,b){g?d3.text(g,"text/css",function(c){var d=a.select("defs"),e=d.append("style").attr("type","text/css");e.text(c),b(null,a)}):b(null,a)}],function(a,c){b(c)})},convertToId:function(a){var b=strcase.paramCase(a);return/^[a-zA-Z]/.test(b)||(b="id-"+b),b},convertToCssClassName:function(a){var b=strcase.paramCase(a);return/^[a-zA-Z]/.test(b)||(b="class-"+b),b},renderWithCachedData:function(a,b,c){var d=this;if(!a)throw new Error("No svgSelection specified.");if(!b)throw new Error("No data entered to render.");var e=a.select("#viewport"),f=Object.create(crossPlatformShapes);f.init({targetSelector:"svg",backgroundColor:"gray",customShapes:{arc:{href:"http://upload.wikimedia.org/wikipedia/commons/5/5c/Triangular_arch.svg"},brace:{href:"http://farm2.staticflickr.com/1175/1331501691_931c8a09d1_z.jpg"},mitochondria:{href:"http://farm1.staticflickr.com/128/393913249_f0a61946dc_n.jpg"}}}),d.infoBox.render(e,b);var g={};g.svgSelection=a,g.container=e,g.pathway=b,async.waterfall([function(c){var g;async.each(b.elements,function(a,b){if("path"===a.graphicalType){if(d.path.render(e,a),"Interaction"===a.gpmlType){g=f[strcase.camelCase(a.shape)](a);var c=e.append(g.elementName);g.attributes.forEach(function(a){c.attr(a.name,a.value)})}}else"text"===a.graphicalType?d.text.render(e,a):"image"===a.graphicalType;b(null)},function(){c(null,a)})},function(a,c){var f=b.elements.filter(function(a){return!!a.publicationXrefs});f.length>0&&f.forEach(function(a){console.log("elementWithPublicationXrefs"),console.log(a),d.publicationXref.render(e,a)}),c(null,a)},function(a){c(a)}])}},pathvisiojs.view.pathwayDiagram.svg.infoBox=function(){"use strict";function a(a,b){if(!a||!b)return console.warn("Error: Missing input parameters.");var c=[];b.hasOwnProperty("Name")&&c.push({key:"Title",value:b.Name}),b.hasOwnProperty("License")&&c.push({key:"Availability",value:b.License}),b.hasOwnProperty("LastModified")&&c.push({key:"Last modified",value:b.LastModified}),b.hasOwnProperty("Organism")&&c.push({key:"Organism",value:b.Organism});{var c=a.selectAll("g.info-box").data([c]).enter().append("g").attr("id",function(a,b){return"info-box-"+b}).attr("class","text-area info-box"),d=c.selectAll("text").data(function(a){return a}).enter().append("text").attr("id",function(a,b){return"info-box-text"+b}).attr("class","item").attr("x",0).attr("y",function(a,b){return 14+14*b});d.append("tspan").attr("class","info-box-item-property-name").text(function(a){return a.key+": "}),d.append("tspan").attr("class","info-box-item-property-value").text(function(a){return a.value})}}return{render:a}}(),pathvisiojs.view.pathwayDiagram.svg.symbol=function(){"use strict";function a(a,b){var c,e,f,g,h=strcase.paramCase(a),i=d.select("defs"),j=i.select("#"+h);j[0][0]?j.selectAll("*").remove():j=i.append("symbol").attr("id",h).attr("preserveAspectRatio","none"),d3.xml(a,"image/svg+xml",function(a){c=d3.select(a.documentElement),e=c.attr("width"),f=c.attr("height"),j.attr("viewBox","0 0 "+e+" "+f),g=c[0][0].children;do j[0][0].appendChild(g[0]);while(g.length>0);b(null)})}function b(b,c,f){d=b;var g=[];c.forEach(function(a){e[a.semanticName]=strcase.paramCase(a.uri),-1===g.indexOf(a.uri)&&g.push(a.uri)}),async.each(g,a,function(){f(null)})}function c(a,b){var c=a.selectAll("symbol")[0].map(function(a){return strcase.paramCase(a.id)});b(c)}var d,e={datanode:"shape-library-symbols-rectangle-svg"};return{loadAllCustom:b,semanticNameToIdMapping:e,getAllSymbolNames:c}}(),pathvisiojs.view.pathwayDiagram.svg.publicationXref={getReferenceNumberForDisplay:function(a){var b,c=this,d=c.model,e=null,f=-1,g=!1;do f+=1,b=d.Biopax.PublicationXref[f],"undefined"!=typeof b&&b.rdfId===a&&(g=!0,e=f+1);while(g===!1&&f<d.Biopax.PublicationXref.length);return e},createPublicationXrefString:function(a){var b;if(1===a.length)b=a[0];else{a.sort(function(a,b){return a-b});var c=0;if(b=a[c].toString(),a.length>2)do c+=1,(a[c-1]+1!==a[c]||a[c]+1!==a[c+1])&&(b+=1!==c&&a[c-2]+2===a[c]?"-"+a[c].toString():", "+a[c].toString());while(c<a.length-2);c+=1,b+=a[c-2]+2===a[c]?"-"+a[c].toString():", "+a[c].toString()}return b},getPublicationXrefString:function(a,b){var c=this,d=(c.model,[]),e="";a=pathvisiojs.utilities.convertToArray(a),a.forEach(function(a){var b=c.getReferenceNumberForDisplay(a);b&&d.push(b)}),d.length>0&&(e=c.createPublicationXrefString(d)),b(e)},render:function(a,b){var c,d,e,f=this;f.getPublicationXrefString(b.publicationXrefs,function(f){var g=f.toString().length;if("node"===b.networkType){var h=b.width,i=h-3*g/2-2;c=b.x+i,d=b.y-4,a.append("text").attr("class","citation").attr("transform",function(){return"translate("+c+" "+d+")"}).text(f)}else{if("edge"!==b.networkType)throw new Error("Pathvisiojs cannot render a citation for targets of this type: "+b.networkType);var j=.5,k=d3.select("#"+b.id)[0][0],l=k.getTotalLength(),m=k.getPointAtLength(j*l),n=-4;c=m.x+n-3*g,d=m.y+n,e=a.append("text").attr("class","citation").attr("transform",function(){return"translate("+c+" "+d+")"}).text(f)}})}},pathvisiojs.view.pathwayDiagram.svg.node=function(){"use strict";function a(a){a.x=d3.event.x,a.y=d3.event.y}function b(b,c){if(!b)throw new Error("Need input args to render a node.");var d,e,f,g=b.element,h=b.data,i=b.pathway;if(!i)throw new Error("Need a pathway to render a node.");if(!g)throw new Error("Need a nodeContainer to render a node.");if(!h)throw new Error("Need input data to render a node.");h.hasOwnProperty("isContainedBy")?(d=i.elements.filter(function(a){return a.id===h.isContainedBy})[0],e=h.x-d.x,f=h.y-d.y):(e=h.x,f=h.y);var j=d3.behavior.drag().origin(Object).on("drag",a);g.attr("transform",function(){return"translate("+e+" "+f+")"}).attr("style",function(a){var b="";return a.hasOwnProperty("backgroundColor")&&(b="brace"==a.ShapeType||"arc"==a.ShapeType?"fill-opacity:0; ":"Label"==a.nodeType&&"#ffffff"==a.backgroundColor?"":"fill:"+a.backgroundColor+"; fill-opacity:1; "),b}).call(j);strcase.paramCase(h.ShapeType);pathvisiojs.view.pathwayDiagram.svg.node.pathShape.render(g,h),h.hasOwnProperty("text")&&pathvisiojs.view.pathwayDiagram.svg.node.text.render(g,h),h.hasOwnProperty("PublicationXref")&&pathvisiojs.view.pathwayDiagram.svg.publicationXref.render(g,"node",b.pathway,h.PublicationXref),c(g)}function c(a,b,c){var d={};return d.x=a.x+b*a.width,d.y=a.y+c*a.height,d}function d(a){var b,c,d,e={selector:function(a){return a},label:function(a){var b="."+pathvisiojs.view.pathwayDiagram.svg.convertToCssClassName("label-"+decodeURIComponent(a));return b},xref:function(a){var b="."+pathvisiojs.view.pathwayDiagram.svg.convertToCssClassName("xref-"+decodeURIComponent(a));return b}},f=d3.map(a).entries(),g=d3.map(e).keys(),h=0;do d=g.indexOf(f[h].key),-1!==d&&(c=g[d],b=e[c](f[h].value)),h+=1;while(!b&&h<f.length);var i,j=a.cssClass||"highlighted-node",k=a.style,l=a.svgId||"pathvisiojs-diagram",m=d3.select("#"+l),n="";k&&(i=d3.map(k).entries(),i.forEach(function(a){n+=strcase.paramCase(a.key)+":"+a.value+"; "}));var o=m.selectAll(b);o.each(function(){{var a=d3.select(this),b=a[0][0].getBBox().height,c=a[0][0].getBBox().width;a.append("rect").attr("x",-2.5).attr("y",-2.5).attr("class",j).attr("style",n).attr("width",c+5).attr("height",b+5)}})}function e(a,b,c){var e=a.attr("id")||"pathvisiojs-diagram";a.selectAll(".highlighted-from-typeahead").remove();var f={};f.svgId=e,f.label=c,f.cssClass="highlighted-node highlighted-from-typeahead",d(f),d3.select("#clear-highlights-from-typeahead")[0][0].style.visibility="visible"}function f(a){a=a||"pathvisiojs-diagram";var b=d3.select("#"+a);b.selectAll(".highlighted-from-typeahead").remove();var c=d3.select("#highlight-by-label-input");c[0][0].value="",c.attr("placeholder",""),d3.select("#clear-highlights-from-typeahead")[0][0].style.visibility="hidden"}return{render:b,getPortCoordinates:c,highlight:d,highlightByLabel:e,clearHighlightsFromTypeahead:f}}(),pathvisiojs.view.pathwayDiagram.svg.node.anchor=function(){"use strict";function a(a,b,c){if(!a)throw new Error("container element not specified for rendering anchors.");if(!b)throw new Error("parentEdgeId missing for rendering anchors.");if(!c)throw new Error("anchor data missing for rendering anchors.");c=pathvisiojs.utilities.convertToArray(c);{var d=10,e=10;a.selectAll(".node.anchor.parent-edge-"+pathvisiojs.view.pathwayDiagram.svg.convertToId(b)).data(c).enter().append("g").attr("transform",function(a){var c=pathvisiojs.view.pathwayDiagram.svg.edge.getPointAtPositionById(b,a.anchorPosition),f=c.x-d/2,g=c.y-e/2;return"translate("+f+" "+g+")"}).attr("class","node anchor parent-edge-"+pathvisiojs.view.pathwayDiagram.svg.convertToId(b)).attr("style",function(a){var b;return a.hasOwnProperty("backgroundColor")&&(b="brace"==a.ShapeType||"arc"==a.ShapeType?"fill-opacity:0; ":"Label"==a.nodeType&&"#ffffff"==a.backgroundColor?"":"fill:"+a.backgroundColor+"; fill-opacity:1; "),b}).each(function(a){var b=d3.select(this);a.width||(a.width=d),a.height||(a.height=e),pathvisiojs.view.pathwayDiagram.svg.node.pathShape.render(b,a)})}}return{render:a}}(),pathvisiojs.view.pathwayDiagram.svg.node.groupNode=function(){"use strict";function a(a,b){if(!a.container)throw new Error("Error: container element not specified for rendering groupNode.");if(!a.data)throw new Error("Error: group data missing for rendering groupNode.");pathvisiojs.view.pathwayDiagram.svg.node.render(a,function(c){c.attr("class",function(a){var b="node group-node "+pathvisiojs.view.pathwayDiagram.svg.convertToCssClassName(a.groupType)+" ";return b});var d=a.data.contains;b(c,d)})}return{render:a}}(),pathvisiojs.view.pathwayDiagram.svg.node.useElement=function(){"use strict";function a(a,b){a.append("use").data([b]).attr("id",function(a){return"node-"+pathvisiojs.view.pathwayDiagram.svg.convertToId(a.id)}).attr("class",function(){return"symbol "}).attr("transform",function(a){var b="scale(1)";return a.hasOwnProperty("rotation")&&(b="rotate("+a.rotation+" "+a.width/2+" "+a.height/2+")"),b}).attr("x",0).attr("y",0).attr("width",function(a){return a.width}).attr("height",function(a){return a.height}).attr("style",function(a){var b="";a.hasOwnProperty("borderColor")&&(b+="stroke:"+a.borderColor+"; ");var c;return c=a.hasOwnProperty("borderWidth")?2*a.borderWidth:2,b+="stroke-width:"+c+"; "}).attr("xlink:xlink:href",function(a){var b=strcase.paramCase(a.ShapeType),c=pathvisiojs.view.pathwayDiagram.svg.symbol.semanticNameToIdMapping[b];return"#"+c})}function b(a,b,c){var d={};return d.x=a.x+b*a.width,d.y=a.y+c*a.height,d}function c(a,b,c){a.selectAll(".highlighted-node").remove();var d=b.elements.filter(function(a){return"data-node"===a.nodeType&&!!a.textLabel}),e=d.filter(function(a){return-1!==a.textLabel.text.indexOf(c)});e.forEach(function(b){var c=a.select("#node-"+b.id),d=c[0][0].getBBox().height,e=c[0][0].getBBox().width;c.append("rect").attr("class","highlighted-node").attr("x",-2.5).attr("y",-2.5).attr("width",e+5).attr("height",d+5)})}return{render:a,getPortCoordinates:b,highlightByLabel:c}}(),pathvisiojs.view.pathwayDiagram.svg.edge=function(){"use strict";function a(a,b){var c=d3.select("#"+pathvisiojs.view.pathwayDiagram.svg.convertToId(a))[0][0],d=c.getTotalLength(),e=b*d,f=c.getPointAtLength(e);return f}function b(a,b){var c,d=a.svg,e=a.element;if(!d)throw new Error("svg missing");var f=a.pathway;if(!f)throw new Error("pathway missing");var g=a.data;if(!g)throw new Error("data missing");var h=a.container;if(!h)throw new Error("container missing");var i=a.data.markerStart,j=a.data.markerEnd,k=pathvisiojs.view.pathwayDiagram.svg.convertToId(g.id);g.hasOwnProperty("isContainedBy")&&(c=f.elements.filter(function(a){return a.id===g.isContainedBy})[0],g.Point.forEach(function(a){a.x=a.x-c.x,a.y=a.y-c.y}));var l,m,n=g.stroke;async.series({markerStartAttributeValue:function(a){var b=pathvisiojs.view.pathwayDiagram.svg.marker.semanticNameToIdMapping[i];b?n?"none"===i?(l="none",a(null,l)):-1===pathvisiojs.view.pathwayDiagram.svg.marker.colorsAvailable[b].indexOf(n)?pathvisiojs.view.pathwayDiagram.svg.marker.appendNonDefaultColorMarkerBothEnds(d,b,n,function(){l="url(#"+strcase.paramCase(b+"-start-"+n)+")",a(null,l)
}):(l="url(#"+strcase.paramCase(b+"-start-"+n)+")",a(null,l)):(l="url(#"+strcase.paramCase(b+"-start-default")+")",a(null,l)):(console.warn('Pathvisiojs does not have access to a marker (arrowhead) of the requested type: "'+i+'"'),l="none",a(null,l))},markerEndAttributeValue:function(a){var b=pathvisiojs.view.pathwayDiagram.svg.marker.semanticNameToIdMapping[j];b?n?"none"===j?(m="none",a(null,m)):-1===pathvisiojs.view.pathwayDiagram.svg.marker.colorsAvailable[b].indexOf(n)?pathvisiojs.view.pathwayDiagram.svg.marker.appendNonDefaultColorMarkerBothEnds(d,b,n,function(){m="url(#"+strcase.paramCase(b+"-end-"+n)+")",a(null,m)}):(m="url(#"+strcase.paramCase(b+"-end-"+n)+")",a(null,m)):(m="url(#"+strcase.paramCase(b+"-end-default")+")",a(null,m)):(console.warn('Pathvisiojs does not have access to a marker (arrowhead) of the requested type: "'+j+'"'),m="none",a(null,m))},path:function(){e.attr("marker-start",l).attr("marker-end",m).attr("style",function(a){var b="stroke-width:"+a.strokeWidth+"; ";return a.hasOwnProperty("stroke")&&(b+="stroke:#"+a.stroke+"; "),a.hasOwnProperty("strokeStyle")&&"double"===a.strokeStyle&&(b+="stroke-width:"+3*a.strokeWidth+"; "),b}).attr("fill","none").attr("d",function(a){return pathvisiojs.view.pathwayDiagram.svg.edge.path.getPath(a)}),g.hasOwnProperty("Anchor")&&pathvisiojs.view.pathwayDiagram.svg.node.anchor.render(h,k,g.Anchor),g.hasOwnProperty("PublicationXref")?(pathvisiojs.view.pathwayDiagram.svg.publicationXref.render(k,"edge",f,g.PublicationXref),b(e)):b(e)}})}return{render:b,getPointAtPositionById:a}}(),pathvisiojs.view.pathwayDiagram.svg.marker={semanticNameToIdMapping:{arrow:"shape-library-markers-arrow-svg","necessary-stimulation":"shape-library-markers-mim-necessary-stimulation-svg",binding:"shape-library-markers-mim-binding-svg",conversion:"shape-library-markers-mim-conversion-svg",stimulation:"shape-library-markers-mim-stimulation-svg",modification:"shape-library-markers-mim-modification-svg",catalysis:"shape-library-markers-mim-catalysis-svg",inhibition:"shape-library-markers-mim-inhibition-svg",cleavage:"shape-library-markers-mim-cleavage-svg","covalent-bond":"shape-library-markers-mim-covalent-bond-svg","transcription-translation":"shape-library-markers-mim-transcription-translation-svg",gap:"shape-library-markers-mim-gap-svg","inhibitory-activity":"shape-library-markers-t-bar-svg",unspecified:"shape-library-markers-none-svg",activity:"shape-library-markers-arrow-svg","mim-branching-left":"shape-library-markers-mim-branching-left-svg","mim-branching-right":"shape-library-markers-mim-branching-right-svg","mim-necessary-stimulation":"shape-library-markers-mim-necessary-stimulation-svg","mim-binding":"shape-library-markers-mim-binding-svg","mim-conversion":"shape-library-markers-mim-conversion-svg","mim-stimulation":"shape-library-markers-mim-stimulation-svg","mim-modification":"shape-library-markers-mim-modification-svg","mim-catalysis":"shape-library-markers-mim-catalysis-svg","mim-inhibition":"shape-library-markers-mim-inhibition-svg","mim-cleavage":"shape-library-markers-mim-cleavage-svg","mim-covalent-bond":"shape-library-markers-mim-covalent-bond-svg","mim-transcription-translation":"shape-library-markers-mim-transcription-translation-svg","mim-gap":"shape-library-markers-mim-gap-svg","t-bar":"shape-library-markers-t-bar-svg",none:"shape-library-markers-none-svg"},colorsAvailable:{"shape-library-markers-arrow-svg":["default"],"shape-library-markers-mim-necessary-stimulation-svg":["default"],"shape-library-markers-mim-binding-svg":["default"],"shape-library-markers-mim-conversion-svg":["default"],"shape-library-markers-mim-stimulation-svg":["default"],"shape-library-markers-mim-modification-svg":["default"],"shape-library-markers-mim-catalysis-svg":["default"],"shape-library-markers-mim-inhibition-svg":["default"],"shape-library-markers-mim-cleavage-svg":["default"],"shape-library-markers-mim-covalent-bond-svg":["default"],"shape-library-markers-mim-transcription-translation-svg":["default"],"shape-library-markers-mim-gap-svg":["default"],"shape-library-markers-t-bar-svg":["default"],"shape-library-markers-mim-branching-left-svg":["default"],"shape-library-markers-mim-branching-right-svg":["default"],"shape-library-markers-none-svg":["default"]},processSvg:function(a,b,c,d){var e=d3.select("svg");return d3.xml(a,"image/svg+xml",function(a){var f=d3.select(a.documentElement),g=f.attr("width"),h=f.attr("height"),i=f.attr("class"),j=f.attr("refXstart"),k=f.attr("refYstart"),l=f.attr("refXend"),m=f.attr("refYend"),n=f.attr("viewBox");b.attr("viewBox",n).attr("markerWidth",g).attr("markerHeight",h).attr("markerUnits","strokeWidth").attr("orient","auto"),d?(b.attr("refX",l).attr("refY",m),b.append("g").attr("id","g-"+c).attr("class",i).attr("transform","rotate(180, "+g/2+", "+h/2+")")):(b.attr("refX",j).attr("refY",k),b.append("g").attr("id","g-"+c).attr("class",i));var o=e[0][0].querySelector("#g-"+c),p=f[0][0].childNodes;do o.appendChild(p[0]);while(p.length>0)}),e},loadAllCustom:function(a,b,c){var d,e,f,g=this,h=this.semanticNameToIdMapping,i=this.colorsAvailable,j=function(a,b){var c=d3.select("svg"),d=strcase.paramCase(a),e=d+"-start-default",f=d+"-end-default",h=c.select("defs").select("#"+e);h=c.select("defs").append("marker").attr("id",e).attr("preserveAspectRatio","none"),g.processSvg(a,h,e,!1);var i=c.select("defs").select("#"+f);i=c.select("defs").append("marker").attr("id",f).attr("preserveAspectRatio","none"),g.processSvg(a,i,f,!0),b(null)},k=[];b.forEach(function(a){d=a.semanticName,e=a.uri,f=strcase.paramCase(e),h[d]=f,i[f]=["default"],-1===k.indexOf(e)&&k.push(e)}),async.each(k,j,function(){c(null)})},appendNonDefaultColorMarkerBothEnds:function(a,b,c,d){var e=this.colorsAvailable,f=this.appendNonDefaultColorMarker;f(a,b,"start",c,function(){f(a,b,"end",c,function(){e[b].push(c),d()})})},appendNonDefaultColorMarker:function(a,b,c,d,e){var f,g,h,i,j,k=b+"-"+c+"-default",l=pathvisiojs.utilities.cloneNode("#"+k);"end"===c&&(f=d3.select("#"+b+"-"+c+"-default"),g=parseFloat(f.attr("refX")),h=parseFloat(f.attr("refY")),i=f.attr("viewBox"),i&&(j=i.split(" "),l.attr("viewBox",i)),l.attr("refX",g),l.attr("refY",h));var m=l.select("g"),n=m.attr("style")||"";m.attr("class").match(/default-stroke-color/)&&(n+="stroke:#"+d+"; "),m.attr("class").match(/default-fill-color/)&&(n+="fill:#"+d+"; ");var o=b+"-"+c+"-"+d;l.attr("id",o),m.attr("id",strcase.paramCase("g-"+o)),m.attr("style",n),e(o)}},pathvisiojs.view.pathwayDiagram.img=function(){"use strict";function a(a,b){if(!a)throw new Error("Missing input data.");var c=a.container,d=parseFloat(a.containerWidth),e=parseFloat(a.containerHeight),f=a.fitToContainer,g=a.renderableSourceDataElement.uri;g||(console.warn("No uri specified for sourceData element."),g=a.renderableSourceDataElement.uri||pathvisiojs.config.diagramNotAvailableIconUri),loadImage(g,function(a){"error"===a.type?(console.warn("Error loading image "+g),loadImage(pathvisiojs.config.diagramNotAvailableIconUri,function(a){c[0][0].appendChild(a),b(null,a)},{maxWidth:d,maxHeight:e})):(c[0][0].appendChild(a),a.setAttribute("style","margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0;"),b(null,a))},{maxWidth:d,maxHeight:e,contain:f})}return{load:a}}(),pathvisiojs.view.pathwayDiagram.svg.path=function(){"use strict";function a(a,b){var c,d;if(b.shape){d=strcase.camelCase(b.shape),pathvisiojs.view.pathwayDiagram.svg.path.hasOwnProperty(d)||(c=/double$/gi,d=d.replace(c,""),pathvisiojs.view.pathwayDiagram.svg.path.hasOwnProperty(d)?console.warn('Requested path "'+b.shape+'" is not available with linetype of "Double". Using linetype of "Solid" instead'):(console.warn('Requested path "'+b.shape+'" is not available. Using path "rounded-rectangle" instead'),d="roundedRectangle"));{var e,f,g=a.append("path"),h={id:function(a){g.attr("id",a)},strokeDasharray:function(a){g.attr("stroke-dasharray",a)},fill:function(a){g.attr("fill",a)},fillOpacity:function(a){g.attr("fill-opacity",a)},stroke:function(a){g.attr("stroke",a)},markerStart:function(a){g.attr("marker-start","url(#src-shape-library-markers-"+a+"-svg-start-default)")},markerEnd:function(a){g.attr("marker-end","url(#src-shape-library-markers-"+a+"-svg-end-default)")},datasourceReference:function(a){var c=!0;g.on("mousedown",function(){c=!0}).on("mousemove",function(){c=!1}).on("mouseup",function(){if(c){var d=a.id,e=a.database,f=a.organism;diagramAnnotation.xRef.render(f,d,e,b.textContent,b.dataNodeType)}})},rotation:function(a){var c="rotate("+a+","+(b.x+b.width/2)+","+(b.y+b.height/2)+")";g.attr("transform",c)},strokeWidth:function(a){g.attr("stroke-width",a)}};d3.map(b).entries()}d3.map(b).entries().forEach(function(a){e=a.key,f=a.value,h.hasOwnProperty(e)&&h[e](f)});var i=pathvisiojs.view.pathwayDiagram.svg.path[d].getAttributes(b);i.forEach(function(a){g.attr(a.name,a.value)})}}return{render:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.arc=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=e*(2/3),g="M "+b+" "+c+" C "+b+" "+(c+f)+" "+(b+d)+" "+(c+f)+" "+(b+d)+" "+c,h=[{name:"d",value:g}];return h}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.brace=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="m"+b+","+(c+e)+"C"+b+" "+c+" "+(b+d/2)+" "+(c+e)+" "+(b+d/2)+" "+c+"C"+(b+d/2)+" "+(c+e)+" "+(b+d)+" "+c+" "+(b+d)+" "+(c+e),g=[{name:"d",value:f}];return g}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.complex=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[{name:"d",value:"M "+(b+18)+" "+c+" L "+(b+d-18)+" "+c+" L "+(b+d)+" "+(c+18)+" L "+(b+d)+" "+(c+e-18)+" L "+(b+d-18)+" "+(c+e)+" L "+(b+18)+" "+(c+e)+" L "+b+" "+(c+e-18)+" L "+b+" "+(c+18)+" Z"}];return f}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.endoplasmicReticulum=function(){"use strict";function a(a){var b=(a.x,a.y,a.width,a.height,[{name:"d",value:"m73.52756,56.60967c-5.62457,-18.60675 23.51463,-32.43358 23.40173,-45.06604c-0.34426,-4.86102 -10.48934,-8.89743 -18.28974,-5.33395c-17.04119,7.87556 -15.64949,29.30503 -21.20533,42.23387c-0.35661,3.60951 -7.36274,2.46926 -7.74964,-0.48694c-5.8512,-11.38871 17.13534,-24.48692 5.96075,-29.42586c-19.63467,-8.16979 -28.75184,21.15346 -22.0682,28.81784c7.4956,14.17602 -2.17949,24.40679 -6.74689,15.49637c-2.44209,-5.30613 6.06605,-11.08445 -0.80351,-16.17689c-4.31991,-2.79993 -11.75555,-0.64618 -16.15468,3.0943c-12.89117,10.73799 4.72957,40.98145 20.96467,36.14635c4.69833,-1.95989 -3.23603,-8.70151 3.90717,-9.59951c7.29767,-0.81255 5.17628,6.18889 7.68745,9.22691c2.3071,4.0509 4.83232,8.35538 10.7626,11.6237c4.78642,2.53724 15.29437,2.11225 16.77148,-1.95795c2.0318,-9.26291 -26.11129,-28.35848 -10.68903,-31.2815c18.55524,-2.71473 4.74866,23.84573 24.31006,29.69419c9.50188,2.02824 15.63902,-0.62194 14.81255,-4.03272c-2.74586,-11.26327 -25.13557,-22.6802 -24.96441,-33.14968"}]);return b}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.golgiApparatus=function(){"use strict";function a(a){var b=(a.x,a.y,a.width,a.height,"m58.4671,16.99297c-22.2053,-19.30712 37.3101,-19.538 25.5673,-3.1145c-8.8077,11.998 -17.0665,37.53828 -0.9417,64.06707c13.3147,17.47735 -41.7485,17.92546 -27.7555,-0.94919c11.3458,-18.99656 10.2868,-51.87342 3.1299,-60.00338l0,0z"),c="m31.2144,22.48219c-10.7917,-13.83614 29.8976,-12.81612 18.4075,0.4332c-4.067,4.79263 -5.7828,39.75796 1.1607,48.44653c8.5294,12.0082 -32.853,12.49764 -20.5002,-1.45349c6.9528,-11.2083 10.4738,-33.76451 0.932,-47.42624l0,0z",d="m29.80396,32.77896c1.58418,7.4093 2.72346,10.80737 -1.48298,24.77019c-3.73195,8.38708 -3.6004,10.5513 -11.73233,12.53496c-6.6833,1.07092 -11.86483,-6.32111 -4.7933,-10.40477c4.85573,-3.63095 6.14109,-7.02681 6.65889,-14.82198c-0.23922,-6.14805 0.8145,-10.21755 -5.36692,-12.88742c-7.62432,-1.41744 -6.08804,-10.67651 4.82406,-8.95195c5.84935,0.66319 10.2824,5.52823 11.89258,9.76096z",e=b+" "+c+" "+d,f=[{name:"d",value:e}];return f}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.gridSquare=function(){"use strict";function a(a){var b=(a.x,a.y,a.width,a.height,[{name:"d",value:"m1,1l99,0l0,99l-99,0l0,-99z"}]);return b}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.hexagon=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="M"+(b+.25*d)+","+c+"l"+.5*d+",0l"+.25*d+","+.5*e+"l"+-.25*d+","+.5*e+"l"+-.5*d+",0l"+-.25*d+","+-.5*e+"z",g=[{name:"d",value:f}];return g}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.mimDegradation=function(){"use strict";function a(a){var b=(a.x,a.y,a.width,a.height,"m8,50c0,-23.20442 18.79558,-42 42,-42c23.20442,0 42,18.79558 42,42c0,23.20442 -18.79558,42 -42,42c-23.20442,0 -42,-18.79558 -42,-42z"),c="m1,1l99,99",d=b+" "+c,e=[{name:"d",value:d}];return e}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.lineStraight=function(){"use strict";function a(a){var b=a.points[0].x,c=a.points[0].y,d=a.points[1].x,e=a.points[1].y,f=[{name:"d",value:"M"+b+","+c+" L"+d+","+e}];return f}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.lineSegmented=function(){"use strict";function a(a){var c=b(a.points),d=[{name:"d",value:c}];return d}var b=d3.svg.line().x(function(a){return a.x}).y(function(a){return a.y}).interpolate("linear");return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.lineElbow=function(){"use strict";function a(a){var c=b(a.points),d=[{name:"d",value:c}];return d}var b=d3.svg.line().x(function(a){return a.x}).y(function(a){return a.y}).interpolate("linear");return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.lineCurved=function(){"use strict";function a(a){var c=b(a.points),d=[{name:"d",value:c}];return d}var b=d3.svg.line().x(function(a){return a.x}).y(function(a){return a.y}).interpolate("basis");return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.mitochondria=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=b+d/2,g=c+e/2,h=pathvisiojs.view.pathwayDiagram.svg.path.oval.drawEllipse(f,g,d,e),i="M"+(b+14.894899)+","+(c+26.347357)+"c4.363817,-0.741571 3.827518,17.036169 8.182638,16.183825c8.27347,0.030762 2.982006,-28.148991 9.899754,-28.336687c6.967995,-0.187704 2.246651,29.947527 9.204983,29.43981c7.632813,-0.560024 0.507309,-32.935357 8.136253,-33.623082c7.698521,-0.689259 2.919197,32.039941 10.628349,32.224557c6.546684,0.160011 3.026451,-27.642808 9.56057,-26.921232c7.192177,0.79388 0.664818,29.842905 7.781624,31.667604c4.748405,1.215439 4.420822,-18.257757 9.204018,-17.440804c11.128883,7.577278 8.628105,37.698658 -2.179977,44.645138c-3.138542,0.698479 -3.965698,-10.502029 -7.112938,-9.905075c-5.59005,1.058502 -3.982124,22.284088 -9.603096,21.799461c-5.239281,-0.456947 -2.226364,-21.636383 -7.47047,-21.730232c-6.961235,-0.116928 -3.357895,28.924408 -10.316231,28.495148c-6.140846,-0.375397 -1.73064,-24.950363 -7.825104,-26.191963c-5.681847,-1.156982 -5.378429,22.170242 -11.027426,20.680939c-6.249069,-1.644684 -0.469624,-26.673519 -6.759275,-27.865887c-3.728954,-0.706188 -2.647665,14.400654 -6.403677,14.545292c-14.016198,-5.938736 -15.748776,-39.707981 -3.899994,-47.666811z",j=h+" "+i,k=[{name:"d",value:j}];return k}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.none=function(){"use strict";function a(){var a=[{name:"d",value:"M0 0"}];return a}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.oval=function(){"use strict";function a(a,b,c,d){var e=2*c/3,f=d/2,g="M "+a+" "+(b-f)+" C "+(a+e)+" "+(b-f)+" "+(a+e)+" "+(b+f)+" "+a+" "+(b+f)+"C "+(a-e)+" "+(b+f)+" "+(a-e)+" "+(b-f)+" "+a+" "+(b-f);return g}function b(b){var c=b.x,d=b.y,e=b.width,f=b.height,g=c+e/2,h=d+f/2,i=a(g,h,e,f),j=[{name:"d",value:i}];return j}return{drawEllipse:a,getAttributes:b}}(),pathvisiojs.view.pathwayDiagram.svg.path.ovalDouble=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=2*a.strokeWidth||6,g=b+d/2,h=c+e/2,i=pathvisiojs.view.pathwayDiagram.svg.path.oval.drawEllipse(g,h,d,e),j=pathvisiojs.view.pathwayDiagram.svg.path.oval.drawEllipse(g,h,d-2*f,e-2*f),k=[{name:"d",value:i+" "+j}];return k}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.pentagon=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[{name:"d",value:"M"+b+","+(c+.81*e)+"l0,-"+.62*e+"l"+.62*d+",-"+.19*e+"l"+.38*d+","+.5*e+"l-"+.38*d+","+.5*e+"l-"+.62*d+",-"+.19*e+"z"}];return f}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.rectangle=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="M "+b+" "+c+"L"+(b+d)+" "+c+"L"+(b+d)+" "+(c+e)+"L"+b+" "+(c+e)+"Z",g=[{name:"d",value:f}];return g}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.roundedRectangle=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="M"+b+","+(c+10)+" c0,-5.43379 4.56621,-10 10,-10l"+(d-20)+",0c5.43379,0 10,4.56621 10,10l0,"+(e-20)+"c0,5.43379 -4.56621,10 -10,10l"+(20-d)+",0c-5.43379,0 -10,-4.56621 -10,-10l0,"+(20-e)+"z",g=[{name:"d",value:f}];return g}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.roundedRectangleDouble=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="M"+b+","+(c+10)+" c0,-5.43379 4.56621,-10 10,-10l"+(d-20)+",0c5.43379,0 10,4.56621 10,10l0,"+(e-20)+"c0,5.43379 -4.56621,10 -10,10l"+(20-d)+",0c-5.43379,0 -10,-4.56621 -10,-10l0,"+(20-e)+"z",g="M"+(b+6)+","+(c+13)+" c0,-3.80365 3.19635,-7 7,-7l"+(d-26)+",0c3.80365,0 7,3.19635 7,7l0,"+(e-26)+"c0,3.80365 -3.19635,7 -7,7l"+(26-d)+",0c-3.80365,0 -7,-3.19635 -7,-7l0,"+(26-e)+"z",h=[{name:"d",value:g+" "+f}];return h}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.sarcoplasmicReticulum=function(){"use strict";function a(a){var b=(a.x,a.y,a.width,a.height,[{name:"d",value:"m46.60182,1.40724c-32.37224,1.34138 -36.32004,22.77011 -26.50318,38.12777c9.31826,18.3425 -18.7656,30.15016 2.56955,49.37807c16.82126,13.11594 46.33175,6.10508 52.12638,-8.56826c5.89916,-15.24847 -10.95099,-26.0272 -3.29316,-40.96135c10.85342,-19.88432 -0.77615,-38.13043 -24.89959,-37.97624z"}]);return b}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.path.triangle=function(){"use strict";function a(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[{name:"d",value:"M"+b+","+c+"L"+(b+d)+","+(c+e/2)+"L"+b+","+(c+e)+"z"}];return f}return{getAttributes:a}}(),pathvisiojs.view.pathwayDiagram.svg.text=function(){"use strict";function a(a,b){var c,d;return pathvisiojs.utilities.isNumber(a)?d=a:(c=a.toLowerCase(),d=c.indexOf("em")>-1?c.slice(0,c.length-2)*b:c.indexOf("px")>-1?c.slice(0,c.length-2):c.indexOf("pt")>-1?c.slice(0,c.length-2)*(4/3):c.indexOf("%")>-1?c.slice(0,c.length-1)/100*b:a),d}function b(b,c){var d,e=c.containerPadding||0,f=c.containerWidth(),g=c.containerHeight,h=c.fontSize,i=a(e,h);d="left"==c.textAlign?"start":"right"==c.textAlign?"end":"middle";var j;j="left"===c.textAlign?i:"right"===c.textAlign?f-i:f/2;var k,l=c.textContent.split(/\r\n|\r|\n/g),m=l.length,n=1.1*(m-1)*h;k="top"===c.verticalAlign?i+n/2+h:"bottom"===c.verticalAlign?g-i-n/2-h/3:g/2+h/3;{var o,p=c.containerX+j,q=c.containerY+k,r=b.append("g").attr("id",function(){return"text-container"+pathvisiojs.view.pathwayDiagram.svg.convertToId(c.id)}).attr("transform",function(){return"translate("+p+" "+q+")"}).attr("class","text-area"),s=r.selectAll("text").data(function(){return l}).enter().append("text").attr("id",function(a,b){return"text-line"+b}).attr("x",0).attr("y",function(a,b){return 1.1*(b-(m-1)/2)+"em"}).attr("text-anchor",d).text(function(a){return a}),t={fontStyle:function(a){s.attr("font-style",a)},fontWeight:function(a){s.attr("font-weight",a)},fontSize:function(a){s.attr("font-size",a)},fontFamily:function(a){s.attr("font-family",a)},strokeDasharray:function(a){s.attr("stroke-dasharray",a)},fill:function(a){s.attr("fill",a)},stroke:function(a){s.attr("stroke",a)},datasourceReference:function(a){var b=!0;s.on("mousedown",function(){b=!0}).on("mousemove",function(){b=!1}).on("mouseup",function(){if(b){var d=a.id,e=a.database,f=a.organism;diagramAnnotation.xRef.render(f,d,e,c.textContent,c.dataNodeType)}})},rotation:function(a){var b="rotate("+a+","+(c.x+c.width/2)+","+(c.y+c.height/2)+")";s.attr("transform",b)},strokeWidth:function(a){s.attr("stroke-width",a)}};d3.map(c).entries()}return d3.map(c).entries().forEach(function(a){o=a.key,t.hasOwnProperty(o)&&t[o](a.value)}),b}return{render:b}}();
