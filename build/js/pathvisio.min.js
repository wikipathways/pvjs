var pathvisioNS=pathvisioNS||{};pathvisioNS["tmp/pathvisiojs.html"]='<div id="pathvisio-js-container" style="width: inherit; min-width: inherit; max-width: inherit; height: inherit; min-height: inherit; max-height: inherit; position: absolute; ">\n\n    <!-- **********************************************************************\n    Pathway Container (JavaScript inserts pathway image inside this div)\n    *********************************************************************** -->\n\n    <div id="pathway-container" style="width: inherit; min-width: inherit; max-width: inherit; height: inherit; min-height: inherit; max-height: inherit; " class="y-mid">\n      \n\n\n      <svg id="pathway-svg" version="1.1" baseProfile="full" xmlns="http://www.w3.org/1999/xlink" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" width="500px" height="500px" style="display: inline; width: NaNpx; height: NaNpx; " class="x-mid" onmouseup="svgPanZoom.handleMouseUp(evt)" onmousedown="svgPanZoom.handleMouseDown(evt)" onmousemove="svgPanZoom.handleMouseMove(evt)" xlink="http://www.w3.org/1999/xlink" ev="http://www.w3.org/2001/xml-events">\n\n        <g>\n        <title>pathvisiojs pathway diagram</title>\n        <desc>\n          This SVG file contains all the graphical elements (markers and symbols in defs as well as\n          style data) used by the program pathvisiojs, which has two components: \n          1) a viewer for transforming GPML biological pathway data into an SVG visual representation and \n          2) an editor for creating both views and models for biological pathways.\n        </desc>\n        </g>\n        <defs>\n\n          <filter id="highlight" width="150%" height="150%">\n            <feOffset result="offOut" in="SourceGraphic" dx="30" dy="30"></feOffset>\n              <feGaussianBlur result="blurOut" in="offOut" stdDeviation="10"></feGaussianBlur>\n            <feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend>\n          </filter>\n\n        <marker id="shape-library-markers-arrow-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="arrow" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- arrow markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</svg></marker><marker id="shape-library-markers-arrow-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-arrow-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="arrow" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- arrow markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-necessary-stimulation-svg-start-default" preserveAspectRatio="none" viewBox="0 0 15 12" markerWidth="15" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-necessary-stimulation" version="1.1" baseProfile="full" width="15" height="12" class="board-fill-color default-stroke-color solid-stroke" viewBox="0 0 15 12">\n\n	<!-- mim-necessary-stimulation markers: triangular polygons, drawing-board fill, default color stroke; and vertical line -->\n\n	<rect stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="0" x2="14" y2="12"></line>\n	<polygon stroke-width="1" points="9,11 0,6 9,1"></polygon>\n\n</svg></marker><marker id="shape-library-markers-mim-necessary-stimulation-svg-end-default" viewBox="-15 -12 15 12" markerWidth="15" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-necessary-stimulation-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-necessary-stimulation" version="1.1" baseProfile="full" width="15" height="12" class="board-fill-color default-stroke-color solid-stroke" viewBox="0 0 15 12">\n\n	<!-- mim-necessary-stimulation markers: triangular polygons, drawing-board fill, default color stroke; and vertical line -->\n\n	<rect stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="0" x2="14" y2="12"></line>\n	<polygon stroke-width="1" points="9,11 0,6 9,1"></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-binding-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-binding" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- mim-binding markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</svg></marker><marker id="shape-library-markers-mim-binding-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-binding-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-binding" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- mim-binding markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-conversion-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-conversion" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- mim-conversion markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="11,11 0,6 11,1"></polygon>\n\n</svg></marker><marker id="shape-library-markers-mim-conversion-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-conversion-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-conversion" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- mim-conversion markers: triangular polygons, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="11,11 0,6 11,1"></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-stimulation-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-stimulation" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke" viewBox="0 0 12 12">\n\n	<!-- mim-stimulation markers: triangular polygons, drawing-board fill, default color stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="1" points="11,11 0,6 11,1"></polygon>\n\n</svg></marker><marker id="shape-library-markers-mim-stimulation-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-stimulation-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-stimulation" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke" viewBox="0 0 12 12">\n\n	<!-- mim-stimulation markers: triangular polygons, drawing-board fill, default color stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="1" points="11,11 0,6 11,1"></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-modification-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-modification" version="1.1" baseProfile="full" width="12" height="12" class="default-fill-color solid-stroke" viewBox="0 0 12 12">\n\n	<!-- mim-modification markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</svg></marker><marker id="shape-library-markers-mim-modification-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-modification-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-modification" version="1.1" baseProfile="full" width="12" height="12" class="default-fill-color solid-stroke" viewBox="0 0 12 12">\n\n	<!-- mim-modification markers: four-point polygon, no stroke -->\n\n	<rect class="board-fill-color" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-catalysis-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-catalysis" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke" viewBox="-6 -6 12 12">\n\n	<!-- mim-catalysis markers: circle, drawing-board fill and default color stroke -->\n\n	<circle cx="0" cy="0" r="5.3px" stroke-width="1px"></circle>\n\n</svg></marker><marker id="shape-library-markers-mim-catalysis-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-catalysis-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-catalysis" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke" viewBox="-6 -6 12 12">\n\n	<!-- mim-catalysis markers: circle, drawing-board fill and default color stroke -->\n\n	<circle cx="0" cy="0" r="5.3px" stroke-width="1px"></circle>\n\n</svg></g></marker><marker id="shape-library-markers-mim-inhibition-svg-start-default" preserveAspectRatio="none" viewBox="0 0 20 20" markerWidth="20" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-inhibition" version="1.1" baseProfile="full" width="20" height="20" class="board-fill-color default-stroke-color solid-stroke">\n\n        <!-- t-bar markers: vertical line; and extended drawing-board rect -->\n\n        <rect stroke="none" x="0" y="9.4" width="5" height="1.2"></rect>\n        <line fill="none" stroke-width="1.8" x1="5" y1="0" x2="5" y2="20"></line>\n\n</svg></marker><marker id="shape-library-markers-mim-inhibition-svg-end-default" viewBox="-20 -20 20 20" markerWidth="20" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="0" refY="-10"><g id="g-shape-library-markers-mim-inhibition-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-inhibition" version="1.1" baseProfile="full" width="20" height="20" class="board-fill-color default-stroke-color solid-stroke">\n\n        <!-- t-bar markers: vertical line; and extended drawing-board rect -->\n\n        <rect stroke="none" x="0" y="9.4" width="5" height="1.2"></rect>\n        <line fill="none" stroke-width="1.8" x1="5" y1="0" x2="5" y2="20"></line>\n\n</svg></g></marker><marker id="shape-library-markers-mim-cleavage-svg-start-default" preserveAspectRatio="none" viewBox="0 0 24 24" markerWidth="24" markerHeight="24" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-cleavage" version="1.1" baseProfile="full" width="24" height="24" viewBox="12 0 12 24" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-cleavage markers: two lines and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="11.4" width="10.4" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="11" y1="12" x2="11" y2="24"></line>	\n	<line fill="none" stroke-width="1" x1="11" y1="24" x2="-11" y2="0"></line>	\n\n</svg></marker><marker id="shape-library-markers-mim-cleavage-svg-end-default" viewBox="-24 -24 24 24" markerWidth="24" markerHeight="24" markerUnits="strokeWidth" orient="auto" refX="0" refY="-12"><g id="g-shape-library-markers-mim-cleavage-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-cleavage" version="1.1" baseProfile="full" width="24" height="24" viewBox="12 0 12 24" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-cleavage markers: two lines and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="11.4" width="10.4" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="11" y1="12" x2="11" y2="24"></line>	\n	<line fill="none" stroke-width="1" x1="11" y1="24" x2="-11" y2="0"></line>	\n\n</svg></g></marker><marker id="shape-library-markers-mim-covalent-bond-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-covalent-bond" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- mim-covalent-bond markers: not much to see here! -->\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</svg></marker><marker id="shape-library-markers-mim-covalent-bond-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-covalent-bond-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-covalent-bond" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke default-fill-color" viewBox="0 0 12 12">\n\n	<!-- mim-covalent-bond markers: not much to see here! -->\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</svg></g></marker><marker id="shape-library-markers-mim-transcription-translation-svg-start-default" preserveAspectRatio="none" viewBox="0 0 18 18" markerWidth="18" markerHeight="18" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-transcription-translation" version="1.1" baseProfile="full" width="18" height="18" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-transcription-translation markers: two lines and an open trigular polygon, plus extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="8.4" width="10" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="9" x2="14" y2="4"></line>\n	<line fill="none" stroke-width="1" x1="14.5" y1="4" x2="7" y2="4"></line>\n	<polygon stroke-width="1" points="0,4 7,1 7,7"></polygon>\n\n</svg></marker><marker id="shape-library-markers-mim-transcription-translation-svg-end-default" viewBox="-18 -18 18 18" markerWidth="18" markerHeight="18" markerUnits="strokeWidth" orient="auto" refX="0" refY="-9"><g id="g-shape-library-markers-mim-transcription-translation-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-transcription-translation" version="1.1" baseProfile="full" width="18" height="18" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-transcription-translation markers: two lines and an open trigular polygon, plus extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="8.4" width="10" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="9" x2="14" y2="4"></line>\n	<line fill="none" stroke-width="1" x1="14.5" y1="4" x2="7" y2="4"></line>\n	<polygon stroke-width="1" points="0,4 7,1 7,7"></polygon>\n\n</svg></g></marker><marker id="shape-library-markers-mim-gap-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-gap" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color solid-stroke" viewBox="0 0 12 12">\n\n	<!-- mim-gap markers: just an extended drawing-board rect -->\n	<!-- \n	TODO This could be refactored to make the shape match the viewbox.\n	It can overlap the side of the shape, blanking out a small part of it when the edge is at an angle.\n	-->\n\n	<rect stroke="none" x="0" y="5.3" width="8" height="1.4"></rect>\n\n</svg></marker><marker id="shape-library-markers-mim-gap-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-gap-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-gap" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color solid-stroke" viewBox="0 0 12 12">\n\n	<!-- mim-gap markers: just an extended drawing-board rect -->\n	<!-- \n	TODO This could be refactored to make the shape match the viewbox.\n	It can overlap the side of the shape, blanking out a small part of it when the edge is at an angle.\n	-->\n\n	<rect stroke="none" x="0" y="5.3" width="8" height="1.4"></rect>\n\n</svg></g></marker><marker id="shape-library-markers-t-bar-svg-start-default" preserveAspectRatio="none" viewBox="0 0 20 20" markerWidth="20" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="t-bar" version="1.1" baseProfile="full" width="20" height="20" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- t-bar markers: vertical line; and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="9.4" width="5" height="1.2"></rect>\n	<line fill="none" stroke-width="1.8" x1="5" y1="0" x2="5" y2="20"></line>\n\n</svg></marker><marker id="shape-library-markers-t-bar-svg-end-default" viewBox="-20 -20 20 20" markerWidth="20" markerHeight="20" markerUnits="strokeWidth" orient="auto" refX="0" refY="-10"><g id="g-shape-library-markers-t-bar-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="t-bar" version="1.1" baseProfile="full" width="20" height="20" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- t-bar markers: vertical line; and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="9.4" width="5" height="1.2"></rect>\n	<line fill="none" stroke-width="1.8" x1="5" y1="0" x2="5" y2="20"></line>\n\n</svg></g></marker><marker id="shape-library-markers-none-svg-start-default" preserveAspectRatio="none" viewBox="0 0 0 0" markerWidth="0" markerHeight="0" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="none" version="1.1" baseProfile="full" width="0" height="0" viewBox="0 0 0 0" preserveAspectRatio="none" class="board-fill-color board-stroke-color node shape">\n\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</svg></marker><marker id="shape-library-markers-none-svg-end-default" viewBox="0 0 0 0" markerWidth="0" markerHeight="0" markerUnits="strokeWidth" orient="auto" refX="0" refY="0"><g id="g-shape-library-markers-none-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="none" version="1.1" baseProfile="full" width="0" height="0" viewBox="0 0 0 0" preserveAspectRatio="none" class="board-fill-color board-stroke-color node shape">\n\n	<rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect>\n\n</svg></g></marker><marker id="shape-library-markers-mim-branching-left-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-branching-left" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-branching-left markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="3.7" y1="6" x2="0" y2="0"></line>	\n\n</svg></marker><marker id="shape-library-markers-mim-branching-left-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-branching-left-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-branching-left" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-branching-left markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="3.7" y1="6" x2="0" y2="0"></line>	\n\n</svg></g></marker><marker id="shape-library-markers-mim-branching-right-svg-start-default" preserveAspectRatio="none" viewBox="0 0 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-branching-right" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-branching-right markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="0" y1="12" x2="3.7" y2="6"></line>	\n\n</svg></marker><marker id="shape-library-markers-mim-branching-right-svg-end-default" viewBox="-12 -12 12 12" markerWidth="12" markerHeight="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="-6"><g id="g-shape-library-markers-mim-branching-right-svg-end-default" style="-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-branching-right" version="1.1" baseProfile="full" width="12" height="12" class="board-fill-color default-stroke-color solid-stroke">\n\n	<!-- mim-branching-right markers: line and extended drawing-board rect -->\n\n	<rect stroke="none" x="0" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="0" y1="12" x2="3.7" y2="6"></line>	\n\n</svg></g></marker><symbol id="shape-library-symbols-arc-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><path d="m99.5,50c0,27.338341 -22.162117,49.5 -49.5,49.5s-49.5,-22.161659 -49.5,-49.5" vector-effect="non-scaling-stroke" class="node shape"></path></symbol><symbol id="shape-library-symbols-brace-svg" preserveAspectRatio="none" viewBox="0 0 100 50"><clipPath id="brace-clip-path">\n		<path d="m1.5,49.499996c0,-16.166668 8.166666,-24.249996 24.499998,-24.249996s24.499998,-8.083336 24.499998,-24.250002c0,16.166666 8.166664,24.250002 24.499996,24.250002s24.5,8.083328 24.5,24.249996" vector-effect="non-scaling-stroke"></path>\n        </clipPath><path d="m1.5,49.499996c0,-16.166668 8.166666,-24.249996 24.499998,-24.249996s24.499998,-8.083336 24.499998,-24.250002c0,16.166666 8.166664,24.250002 24.499996,24.250002s24.5,8.083328 24.5,24.249996" style="clip-path: url(#brace-clip-path); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="shape-library-symbols-endoplasmic-reticulum-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="endoplasmic-reticulum-clip-path">\n		<path d="m73.52756,56.60967c-5.62457,-18.60675 23.51463,-32.43358 23.40173,-45.06604c-0.34426,-4.86102 -10.48934,-8.89743 -18.28974,-5.33395c-17.04119,7.87556 -15.64949,29.30503 -21.20533,42.23387c-0.35661,3.60951 -7.36274,2.46926 -7.74964,-0.48694c-5.8512,-11.38871 17.13534,-24.48692 5.96075,-29.42586c-19.63467,-8.16979 -28.75184,21.15346 -22.0682,28.81784c7.4956,14.17602 -2.17949,24.40679 -6.74689,15.49637c-2.44209,-5.30613 6.06605,-11.08445 -0.80351,-16.17689c-4.31991,-2.79993 -11.75555,-0.64618 -16.15468,3.0943c-12.89117,10.73799 4.72957,40.98145 20.96467,36.14635c4.69833,-1.95989 -3.23603,-8.70151 3.90717,-9.59951c7.29767,-0.81255 5.17628,6.18889 7.68745,9.22691c2.3071,4.0509 4.83232,8.35538 10.7626,11.6237c4.78642,2.53724 15.29437,2.11225 16.77148,-1.95795c2.0318,-9.26291 -26.11129,-28.35848 -10.68903,-31.2815c18.55524,-2.71473 4.74866,23.84573 24.31006,29.69419c9.50188,2.02824 15.63902,-0.62194 14.81255,-4.03272c-2.74586,-11.26327 -25.13557,-22.6802 -24.96441,-33.14968" vector-effect="non-scaling-stroke"></path>\n	</clipPath><path d="m73.52756,56.60967c-5.62457,-18.60675 23.51463,-32.43358 23.40173,-45.06604c-0.34426,-4.86102 -10.48934,-8.89743 -18.28974,-5.33395c-17.04119,7.87556 -15.64949,29.30503 -21.20533,42.23387c-0.35661,3.60951 -7.36274,2.46926 -7.74964,-0.48694c-5.8512,-11.38871 17.13534,-24.48692 5.96075,-29.42586c-19.63467,-8.16979 -28.75184,21.15346 -22.0682,28.81784c7.4956,14.17602 -2.17949,24.40679 -6.74689,15.49637c-2.44209,-5.30613 6.06605,-11.08445 -0.80351,-16.17689c-4.31991,-2.79993 -11.75555,-0.64618 -16.15468,3.0943c-12.89117,10.73799 4.72957,40.98145 20.96467,36.14635c4.69833,-1.95989 -3.23603,-8.70151 3.90717,-9.59951c7.29767,-0.81255 5.17628,6.18889 7.68745,9.22691c2.3071,4.0509 4.83232,8.35538 10.7626,11.6237c4.78642,2.53724 15.29437,2.11225 16.77148,-1.95795c2.0318,-9.26291 -26.11129,-28.35848 -10.68903,-31.2815c18.55524,-2.71473 4.74866,23.84573 24.31006,29.69419c9.50188,2.02824 15.63902,-0.62194 14.81255,-4.03272c-2.74586,-11.26327 -25.13557,-22.6802 -24.96441,-33.14968" style="clip-path: url(#endoplasmic-reticulum-clip-path); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="shape-library-symbols-golgi-apparatus-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="golgi-apparatus-clip-path1">\n	<path d="m58.46714,27.713327c-22.205345,-29.90079 37.310066,-30.258356 25.567245,-4.823446c-8.807655,18.581238 -17.066429,58.135235 -0.941673,99.22044c13.31469,27.066696 -41.748463,27.760925 -27.755554,-1.469849c11.345825,-29.420242 10.286858,-80.336422 3.129982,-92.927145z" vector-effect="non-scaling-stroke"></path>\n   	</clipPath><clipPath id="golgi-apparatus-clip-path2">\n   	<path d="m31.214371,36.214363c-10.791712,-21.427903 29.897598,-19.848164 18.407501,0.670895c-4.066933,7.422386 -5.782803,61.572803 1.160713,75.028805c8.52943,18.597427 -32.852985,19.355408 -20.500162,-2.250633c6.952761,-17.358604 10.473742,-52.291187 0.931948,-73.449066z" vector-effect="non-scaling-stroke"></path>\n	</clipPath><clipPath id="golgi-apparatus-clip-path3">\n   	<path d="m29.803959,52.160912c1.584177,11.474716 2.723461,16.737267 -1.482977,38.361366c-3.731956,12.989006 -3.600399,16.340691 -11.732334,19.412781c-6.683298,1.658531 -11.864832,-9.789436 -4.793299,-16.11377c4.855728,-5.623222 6.141087,-10.882362 6.658888,-22.954659c-0.239212,-9.521427 0.814508,-15.823826 -5.36692,-19.958626c-7.624315,-2.195171 -6.088041,-16.534611 4.824059,-13.863804c5.849354,1.027065 10.282408,8.561516 11.892582,15.116711z" vector-effect="non-scaling-stroke"></path>\n	</clipPath><path d="m58.46714,27.713327c-22.205345,-29.90079 37.310066,-30.258356 25.567245,-4.823446c-8.807655,18.581238 -17.066429,58.135235 -0.941673,99.22044c13.31469,27.066696 -41.748463,27.760925 -27.755554,-1.469849c11.345825,-29.420242 10.286858,-80.336422 3.129982,-92.927145z" style="clip-path: url(#golgi-apparatus-clip-path1); " vector-effect="non-scaling-stroke"></path><path d="m31.214371,36.214363c-10.791712,-21.427903 29.897598,-19.848164 18.407501,0.670895c-4.066933,7.422386 -5.782803,61.572803 1.160713,75.028805c8.52943,18.597427 -32.852985,19.355408 -20.500162,-2.250633c6.952761,-17.358604 10.473742,-52.291187 0.931948,-73.449066z" style="clip-path: url(#golgi-apparatus-clip-path2); " vector-effect="non-scaling-stroke"></path><path d="m29.803959,52.160912c1.584177,11.474716 2.723461,16.737267 -1.482977,38.361366c-3.731956,12.989006 -3.600399,16.340691 -11.732334,19.412781c-6.683298,1.658531 -11.864832,-9.789436 -4.793299,-16.11377c4.855728,-5.623222 6.141087,-10.882362 6.658888,-22.954659c-0.239212,-9.521427 0.814508,-15.823826 -5.36692,-19.958626c-7.624315,-2.195171 -6.088041,-16.534611 4.824059,-13.863804c5.849354,1.027065 10.282408,8.561516 11.892582,15.116711z" style="clip-path: url(#golgi-apparatus-clip-path3); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="shape-library-symbols-hexagon-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="hexagon-clip-path">\n		<path d="m1.42004,50.99635l21.07262,-42.13943l56.19152,0l21.0667,42.13943l-21.0667,42.14507l-56.19152,0l-21.07262,-42.14507z" vector-effect="non-scaling-stroke"></path>\n        </clipPath><path d="m1.42004,50.99635l21.07262,-42.13943l56.19152,0l21.0667,42.13943l-21.0667,42.14507l-56.19152,0l-21.07262,-42.14507z" style="clip-path: url(#hexagon-clip-path); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="shape-library-symbols-mim-degradation-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="mim-degradation-circle-clip-path">\n		<circle cx="50" cy="50" r="49" vector-effect="non-scaling-stroke"></circle>\n  	</clipPath><circle cx="50" cy="50" r="49" style="clip-path: url(#mim-degradation-circle-clip-path); " vector-effect="non-scaling-stroke"></circle><line x1="1" y1="1" x2="100" y2="100" stroke-width="1" vector-effect="non-scaling-stroke"></line></symbol><symbol id="shape-library-symbols-mitochondria-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="mitochondria-oval-clip-path">\n		<ellipse cx="50" cy="50" rx="50" ry="50" vector-effect="non-scaling-stroke"></ellipse>\n        </clipPath><clipPath id="mitochondria-clip-path">\n		<path d="m14.894899,26.347357c4.363817,-0.741571 3.827518,17.036169 8.182638,16.183825c8.27347,0.030762 2.982006,-28.148991 9.899754,-28.336687c6.967995,-0.187704 2.246651,29.947527 9.204983,29.43981c7.632813,-0.560024 0.507309,-32.935357 8.136253,-33.623082c7.698521,-0.689259 2.919197,32.039941 10.628349,32.224557c6.546684,0.160011 3.026451,-27.642808 9.56057,-26.921232c7.192177,0.79388 0.664818,29.842905 7.781624,31.667604c4.748405,1.215439 4.420822,-18.257757 9.204018,-17.440804c11.128883,7.577278 8.628105,37.698658 -2.179977,44.645138c-3.138542,0.698479 -3.965698,-10.502029 -7.112938,-9.905075c-5.59005,1.058502 -3.982124,22.284088 -9.603096,21.799461c-5.239281,-0.456947 -2.226364,-21.636383 -7.47047,-21.730232c-6.961235,-0.116928 -3.357895,28.924408 -10.316231,28.495148c-6.140846,-0.375397 -1.73064,-24.950363 -7.825104,-26.191963c-5.681847,-1.156982 -5.378429,22.170242 -11.027426,20.680939c-6.249069,-1.644684 -0.469624,-26.673519 -6.759275,-27.865887c-3.728954,-0.706188 -2.647665,14.400654 -6.403677,14.545292c-14.016198,-5.938736 -15.748776,-39.707981 -3.899994,-47.666811z" vector-effect="non-scaling-stroke"></path>\n	</clipPath><ellipse cx="50" cy="50" rx="50" ry="50" style="clip-path: url(#mitochondria-oval-clip-path); " vector-effect="non-scaling-stroke"></ellipse><path d="m14.894899,26.347357c4.363817,-0.741571 3.827518,17.036169 8.182638,16.183825c8.27347,0.030762 2.982006,-28.148991 9.899754,-28.336687c6.967995,-0.187704 2.246651,29.947527 9.204983,29.43981c7.632813,-0.560024 0.507309,-32.935357 8.136253,-33.623082c7.698521,-0.689259 2.919197,32.039941 10.628349,32.224557c6.546684,0.160011 3.026451,-27.642808 9.56057,-26.921232c7.192177,0.79388 0.664818,29.842905 7.781624,31.667604c4.748405,1.215439 4.420822,-18.257757 9.204018,-17.440804c11.128883,7.577278 8.628105,37.698658 -2.179977,44.645138c-3.138542,0.698479 -3.965698,-10.502029 -7.112938,-9.905075c-5.59005,1.058502 -3.982124,22.284088 -9.603096,21.799461c-5.239281,-0.456947 -2.226364,-21.636383 -7.47047,-21.730232c-6.961235,-0.116928 -3.357895,28.924408 -10.316231,28.495148c-6.140846,-0.375397 -1.73064,-24.950363 -7.825104,-26.191963c-5.681847,-1.156982 -5.378429,22.170242 -11.027426,20.680939c-6.249069,-1.644684 -0.469624,-26.673519 -6.759275,-27.865887c-3.728954,-0.706188 -2.647665,14.400654 -6.403677,14.545292c-14.016198,-5.938736 -15.748776,-39.707981 -3.899994,-47.666811z" style="clip-path: url(#mitochondria-clip-path); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="shape-library-symbols-oval-svg" preserveAspectRatio="none" viewBox="0 0 100 50"><clipPath id="oval-clip-path">\n		<ellipse id="oval-clip-path-ellipse" cx="50" cy="25" rx="50" ry="25" vector-effect="non-scaling-stroke"></ellipse>\n        </clipPath><ellipse id="oval-shape" cx="50" cy="25" rx="50" ry="25" style="clip-path: url(#oval-clip-path); " vector-effect="non-scaling-stroke"></ellipse></symbol><symbol id="shape-library-symbols-pentagon-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="pentagon-clip-path">\n		<polygon points="59.159732818603516,99.61322021484375 95,50.28331756591797 59.159732818603516,0.9534196853637695 1.168962001800537,19.795764923095703 1.168962001800537,80.7708740234375 " vector-effect="non-scaling-stroke"></polygon>\n	</clipPath><polygon points="59.159732818603516,99.61322021484375 95,50.28331756591797 59.159732818603516,0.9534196853637695 1.168962001800537,19.795764923095703 1.168962001800537,80.7708740234375 " style="clip-path: url(#pentagon-clip-path); " vector-effect="non-scaling-stroke"></polygon></symbol><symbol id="shape-library-symbols-rectangle-svg" preserveAspectRatio="none" viewBox="0 0 100 50"><clipPath id="rectangle-clip-path">\n		<rect x="0" y="0" width="100" height="50" vector-effect="non-scaling-stroke"></rect>\n	</clipPath><desc>Rectangle</desc><rect x="0" y="0" width="100" height="50" style="clip-path: url(#rectangle-clip-path); " vector-effect="non-scaling-stroke"></rect></symbol><symbol id="shape-library-symbols-sarcoplasmic-reticulum-svg" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="sarcoplasmic-reticulum-clip-path">\n		<path d="m46.60182,1.40724c-32.37224,1.34138 -36.32004,22.77011 -26.50318,38.12777c9.31826,18.3425 -18.7656,30.15016 2.56955,49.37807c16.82126,13.11594 46.33175,6.10508 52.12638,-8.56826c5.89916,-15.24847 -10.95099,-26.0272 -3.29316,-40.96135c10.85342,-19.88432 -0.77615,-38.13043 -24.89959,-37.97624z" vector-effect="non-scaling-stroke"></path>	\n	</clipPath><path d="m46.60182,1.40724c-32.37224,1.34138 -36.32004,22.77011 -26.50318,38.12777c9.31826,18.3425 -18.7656,30.15016 2.56955,49.37807c16.82126,13.11594 46.33175,6.10508 52.12638,-8.56826c5.89916,-15.24847 -10.95099,-26.0272 -3.29316,-40.96135c10.85342,-19.88432 -0.77615,-38.13043 -24.89959,-37.97624z" style="clip-path: url(#sarcoplasmic-reticulum-clip-path); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="shape-library-symbols-triangle-svg" preserveAspectRatio="none" viewBox="0 0 50 50"><clipPath id="triangle-clip-path">\n		<polygon points="1,49 49,24 1,1" vector-effect="non-scaling-stroke"></polygon>\n        </clipPath><polygon points="1,49 49,24 1,1" style="clip-path: url(#triangle-clip-path);" vector-effect="non-scaling-stroke"></polygon></symbol><symbol id="shape-library-symbols-none-svg" preserveAspectRatio="none" viewBox="0 0 0 0"><rect x="0" y="0" width="0" height="0" stroke="none" fill="none" stroke-width="0"></rect></symbol><style type="text/css">	svg {\n		color-interpolation: auto;\n		image-rendering: auto;\n		shape-rendering: auto;\n		vector-effect: non-scaling-stroke;\n                background: white;\n	/* removed fill and stroke since they override marker specs */\n	/*	fill: white;\n    		stroke: black; */\n	}\n\n	/* default color for pathway elements */\n	.default-fill-color {\n		fill: black; \n	}\n	.default-stroke-color {\n		stroke: black;\n	}\n	\n	/* default color of the background drawing board */ 	\n	.board-fill-color {\n		fill: white;\n	}\n	.board-stroke-color {\n		stroke: white;\n	}\n\n	.text-area {\n		font-family: Sans-Serif, Helvetica, Arial;\n		text-align: center;\n		vertical-align: middle;\n		font-size: 10px;\n		fill: black;\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	.citation {\n		font-family: Sans-Serif, Helvetica, Arial;\n		text-align: center;\n		vertical-align: top;\n		font-size: 8px;\n		fill: lightgray;\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	.info-box {\n		font-family: Sans-Serif;\n		font-size: 10px;\n		fill: black;\n		stroke: none;\n		text-align: left;\n		vertical-align: top;\n	}\n\n	.info-box-item-property-name {\n		font-weight: bold;\n	}\n\n	.info-box-item-property-value {\n	}\n\n	.data-node {\n		text-align: right;\n		fill-opacity: 1;\n		fill: white;\n		stroke: black;\n		stroke-width: 2;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n    pointer-events:auto;\n	}\n	\n	.has-xref:hover {\n		cursor: pointer;\n	}\n\n	.data-node.gene-product {\n	}\n\n	.metabolite {\n		stroke: blue;\n	}\n\n	.data-node.metabolite &gt; .text-area {\n		cursor:pointer;\n		fill: blue;\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	.data-node.pathway {\n		stroke: none;\n		fill-opacity: 0;\n	}\n\n	.data-node.pathway &gt; .text-area {\n		fill: rgb(20,150,30);\n		fill-opacity: 1;\n		font-size: 12px;\n		font-weight: bold;\n	}\n\n	.data-node.protein {\n	}\n\n	.data-node.rna {\n	}\n\n	.data-node.unknown {\n	}\n\n	.label {\n		stroke: black;\n		stroke-width: 0;\n		fill-opacity: 0;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	.shape {\n		fill-opacity: 1;\n		fill: white;\n		stroke: black;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	.shape.none {\n		fill: none;\n		fill-opacity: 0;\n		stroke: none;\n	}\n\n	g.group-node &gt; .shape {\n		fill-opacity: 0.098;\n		stroke: gray;\n		stroke-miterlimit: 1;\n		stroke-width: 1px;\n    pointer-events:none;\n	}\n\n	.group-node {\n		fill-opacity: 0.098;\n		stroke: gray;\n		stroke-miterlimit: 1;\n		stroke-width: 1px;\n    pointer-events:none;\n	}\n\n	.group-node &gt; .text-area {\n		fill-opacity: 0.4;\n		font-family: Serif, Times;\n		font-size: 32px;\n		fill: black;\n		stroke-width: 0;\n		font-weight: bold;\n  }\n\n	.group-node:hover {\n		fill-opacity: 0.2;\n		stroke-width: 1px;\n	}\n\n	.group-node.none {\n		fill: rgb(180,180,100);\n		stroke-dasharray: 5,3;\n	}\n\n	.group-node.none &gt; .text-area {\n		display: none;\n  }\n\n	.group-node.group {\n		fill-opacity: 0;\n		stroke-width: 0;\n	}\n\n	.group-node.group &gt; .text-area {\n		display: none;\n  }\n\n	.group-node.complex {\n		fill: rgb(180,180,100);\n	}\n\n	.group-node.complex &gt; .text-area {\n		display: none;\n  }\n\n  .group-node.pathway {\n		fill: lightgreen;\n		stroke-dasharray: 5,3;\n	}\n\n	.group-node.pathway &gt; .text-area {\n		fill: rgb(20,150,30);\n		stroke: rgb(20,150,30);\n  }\n\n  .cellular-component {\n		fill-opacity: 0;\n		stroke: lightgray;\n	}\n\n  .graphical-line {\n		fill:none;\n		stroke: black; \n		stroke-width: 1px; \n	}\n\n	.interaction {\n		fill:none;\n		stroke: black; \n		stroke-width: 1px; \n	}\n\n	marker {\n		/* this is what should work per the spec\n		   stroke-dasharray: none; */\n		/* but I need to add this to make it work in Safari */\n		stroke-dasharray: 9999999999999999999999999;\n	}\n\n  .marker-end {\n    -webkit-transform: rotate(180deg);\n    -webkit-transform-origin: 50% 50%;\n\n    -o-transform: rotate(180deg); \n    -o-transform-origin: 50% 50%;\n\n    transform: rotate(180deg);\n    transform-origin: 50% 50%;\n  }\n\n	.solid-stroke {\n		/* this is what should work per the spec\n		   stroke-dasharray: none; */\n		/* but I need to add this to make it work in Safari */\n		stroke-dasharray: 9999999999999999999999999;\n	}\n\n	.dashed-stroke {\n		stroke-dasharray: 5,3;\n	}\n\n  .highlighted-node {\n		fill: yellow;\n    fill-opacity: 0.2;\n		stroke: orange; \n    stroke-width: 3px;\n  }\n</style></defs>\n\n        <g id="viewport" transform="matrix(0.19926023483276367,0,0,0.19926023483276367,-35.99999661861512,-25.000019373372197)">\n        </g>\n\n      </svg>\n\n    \n      \n    </div>\n    \n    <div id="typeahead" style="position: absolute; top: 5px; right: 5px;">\n    <!-- **********************************************************************\n      Highlight Element by Label Control\n      *********************************************************************** -->\n\n      <span class="twitter-typeahead" style="position: relative; display: inline-block;"><input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled="" style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; background-attachment: scroll; background-clip: border-box; background-color: rgb(255, 255, 255); background-image: none; background-origin: padding-box; background-size: auto; background-position: 0% 0%; background-repeat: repeat repeat;"><input id="highlight-by-label-input" placeholder="Enter node name to highlight." role="textbox" aria-autocomplete="list" aria-haspopup="true" class="tt-query" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top; background-color: transparent;"><span style="position: absolute; left: -9999px; visibility: hidden; white-space: nowrap; font-family: \'Lucida Grande\'; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></span><span class="tt-dropdown-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;"></span></span>\n\n      </div> \n     \n   \n      <!-- **********************************************************************\n      Pan Zoom Control\n      see http://bumbu.github.io/cytoscape.js/debug/ for example of cytoscape.js \n      *********************************************************************** -->\n\n      <div id="pan-zoom-control" class="ui-cytoscape-panzoom">\n        <div class="ui-cytoscape-panzoom-zoom-in ui-cytoscape-panzoom-zoom-button">\n          <span class="icon icon-plus"></span>\n        </div>\n        <div class="ui-cytoscape-panzoom-zoom-out ui-cytoscape-panzoom-zoom-button">\n          <span class="icon icon-minus"></span>\n        </div>\n        <div class="ui-cytoscape-panzoom-reset ui-cytoscape-panzoom-zoom-button">\n          <span class="icon icon-resize-full"></span>\n        </div>\n        <div class="ui-cytoscape-panzoom-slider">\n          <div class="ui-cytoscape-panzoom-slider-background">\n          </div>\n          <div class="ui-cytoscape-panzoom-slider-handle" style="top: 42.80000001192093px;">\n            <span class="icon icon-minus"></span>\n          </div>\n          <div class="ui-cytoscape-panzoom-no-zoom-tick" style="top: 42.80000001192093px;">\n          </div>\n        </div>\n        <div class="ui-cytoscape-panzoom-panner">\n          <div class="ui-cytoscape-panzoom-panner-handle">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-up ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-down ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-left ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-right ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-indicator" style="display: none; left: 22.424611085682006px; top: 0.12287108520014556px; background-color: rgb(127, 127, 127); background-position: initial initial; background-repeat: initial initial;">\n          </div>\n        </div>\n      </div>\n\n      <!-- **********************************************************************\n      Fullscreen Control \n      *********************************************************************** -->\n\n      <div id="fullscreen-control" style="position: absolute; bottom: 5px; right: 5px;">\n        <i class="icon-fullscreen" style="color:#aaa"></i>\n      </div>\n   \n\n    <div id="viewer-toolbar" style="position: absolute; top: 0px; right: 0px; height: inherit">\n    </div>\n      \n    <!-- **********************************************************************\n    Details Frame\n    *********************************************************************** -->\n\n    <div id="annotation" class="annotation ui-draggable" style="visibility: hidden; position: absolute; right: 75px; top: 100px;">\n      <header class="annotation-header">\n      <span id="annotation-move" class="annotation-header-move">\n        <i class="icon-move"></i>\n      </span>\n      <span id="annotation-header-text" class="annotation-header-text">\n        Header\n      </span> \n      <span id="annotation-header-search" class="annotation-header-search" title="Search for pathways containing \'Header Text\'">\n        <a href="http://wikipathways.org//index.php?title=Special:SearchPathways">\n          <i class="icon-search" style="color:blue; font-size:50% ; text-decoration:none"></i>\n        </a>\n      </span>\n      <span class="annotation-header-close">\n        <i class="icon-remove"></i>\n      </span>\n      <div id="annotation-description" class="annotation-description">\n        <h2>description</h2>\n      </div>\n      </header>\n      <span class="annotation-items-container">\n        <ul id="annotation-items-container">\n          <!-- List items inside this ul element are generated automatically by JavaScript.\n          Each item will be composed of a title and text. The text can be set to be an href.\n          You can edit the styling of the title by editing CSS class "annotation-item-title"\n          and the styling of the text by editing CSS class "annotation-item-text.\n          -->\n        </ul>\n      </span>\n    </div>\n  </div>\n';
var pathvisiojs=function(){function getUrisForWikiPathwaysId(wikiPathwaysId,revision){var results={},re=/wikipathways\.org/,isOnWikiPathwaysDomain=re.test(document.location.origin),PathwayViewer_viewers=PathwayViewer_viewers||[];if(!pathvisiojs.utilities.isWikiPathwaysId(wikiPathwaysId))throw new Error("Pathvisiojs cannot handle the data source type entered.");return PathwayViewer_viewers.length>0&&isOnWikiPathwaysDomain?results.uri=PathwayViewer_viewers[0].gpml.gpmlUrl:(console.warn("WikiPathways does not yet support CORS, so until we get CORS support, we are using Pointer as a proxy to enable CORS for getting GPML from http://www.wikipathways.org//wpi/wpi.php?action=downloadFile&type=gpml&pwTitle=Pathway:"+wikiPathwaysId+"&rev="+revision),results.uri="http://pointer.ucsf.edu/d3/r/data-sources/gpml.php?id="+wikiPathwaysId+"&rev="+revision),results.type="GPML",results.pathwayIri="wpId:"+wikiPathwaysId+"#",results}function parseInputData(inputData){var parsedInputData={};if("Object"===pathvisiojs.utilities.getObjectType(inputData))inputData.revision=inputData.revision||0,parsedInputData=getUrisForWikiPathwaysId(inputData.wikiPathwaysId,0),parsedInputData.wikiPathwaysId=inputData.wikiPathwaysId,parsedInputData.revision=inputData.revision;else{if(pathvisiojs.utilities.isUrl(inputData)){if(parsedInputData.uri=inputData,parsedInputData.uri.indexOf(".gpml")>-1)return parsedInputData.type="GPML",parsedInputData.pathwayIri=inputData+"#",parsedInputData;throw new Error("Pathvisiojs cannot handle the data source type entered.")}parsedInputData=getUrisForWikiPathwaysId(inputData,0),parsedInputData.wikiPathwaysId=inputData,parsedInputData.revision=0}return parsedInputData}function getJson(parsedInputData,callback){return!parsedInputData.uri||parsedInputData.type&&"GPML"!==parsedInputData.type?new Error("No data source specified or pathvisio.js cannot handle the data source specified."):(d3.xml(parsedInputData.uri,function(gpml){pathvisiojs.data.gpml.toRenderableJson(gpml,parsedInputData.pathwayIri,function(json){callback(json)})}),void 0)}function load(args){if(!args.container)throw new Error("No container selector specified as container for pathvisiojs.");if(!args.data)throw new Error("No input data source (URL or WikiPathways ID) specified.");var parsedInputData=parseInputData(args.data);console.log("parsedInputData"),console.log(parsedInputData),args.data=parsedInputData,pathvisiojs.view.pathwayDiagram.load(args)}return{load:load,getJson:getJson}}();pathvisiojs.utilities=function(){function collect(){for(var ret={},len=arguments.length,i=0;len>i;i++)for(p in arguments[i])arguments[i].hasOwnProperty(p)&&(ret[p]=arguments[i][p]);return ret}function getTextDirection(text){var direction,x=new RegExp("[\0-]+"),isAscii=x.test(text);return direction=isAscii?"ltr":"rtl"}function strToHtmlId(str){var re=/\W/gi,id=str.replace(re,"");return id}function isUrl(str){var urlPattern=/(?:(?=[\s`!()\[\]{};:'".,<>?])|\b)((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/|[a-z0-9.\-]+[.](?:com|org|net))(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))*(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]|\b))/gi;return urlPattern.test(str)}function splitStringByNewLine(str){return str.split(/\r\n|\r|\n/g)}function cloneNode(selector){console.log("selector"),console.log(selector);var node=d3.select(selector).node();return d3.select(node.parentNode.insertBefore(node.cloneNode(!0),node.nextSibling))}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function clone(src){function mixin(dest,source,copyFunc){var name,s,empty={};for(name in source)s=source[name],name in dest&&(dest[name]===s||name in empty&&empty[name]===s)||(dest[name]=copyFunc?copyFunc(s):s);return dest}if(!src||"object"!=typeof src||"[object Function]"===Object.prototype.toString.call(src))return src;if(src.nodeType&&"cloneNode"in src)return src.cloneNode(!0);if(src instanceof Date)return new Date(src.getTime());if(src instanceof RegExp)return new RegExp(src);var r,i,l;if(src instanceof Array)for(r=[],i=0,l=src.length;l>i;++i)i in src&&r.push(clone(src[i]));else r=src.constructor?new src.constructor:{};return mixin(r,src,clone)}function getUrlParam(name){var parameter=decodeURIComponent((new RegExp("[?|&]"+name+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null;return parameter?parameter:(console.warn('Warning: URL parameter "'+name+'" is null.'),null)}function isWikiPathwaysId(data){return data=data.trim(),"WP"===data.substr(0,2).toUpperCase()&&isNumber(data.substr(data.length-1))?!0:!1}function convertToArray(object){var array=null;return"Object"===getObjectType(object)?(array=[],array.push(object),array):"Array"===getObjectType(object)?object:"String"===getObjectType(object)?(array=[],array.push(object),array):void 0}function getObjectType(object){var result;return"[object Object]"===Object.prototype.toString.call(object)?result="Object":"[object Array]"===Object.prototype.toString.call(object)?result="Array":"[object String]"===Object.prototype.toString.call(object)&&(result="String"),result}function getWindowDimensions(){var winW=630,winH=460;return document.body&&document.body.width&&(winW=document.body.width,winH=document.body.height),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.width&&(winW=document.documentElement.width,winH=document.documentElement.height),window.innerWidth&&window.innerHeight&&(winW=window.innerWidth,winH=window.innerHeight),{width:winW,height:winH}}function moveArrayItem(arr,old_index,new_index){if(new_index>=arr.length)for(var k=new_index-arr.length;k--+1;)arr.push(void 0);return arr.splice(new_index,0,arr.splice(old_index,1)[0]),arr}function isOdd(num){return num%2}return Element.prototype.getElementWidth=function(){return"undefined"!=typeof this.clip?this.clip.width:this.style.pixelWidth?this.style.pixelWidth:this.width},Element.prototype.getElementHeight=function(){return"undefined"!=typeof this.clip?this.clip.width:this.style.pixelHeight?this.style.pixelHeight:this.height},{collect:collect,isUrl:isUrl,splitStringByNewLine:splitStringByNewLine,getUrlParam:getUrlParam,cloneNode:cloneNode,clone:clone,convertToArray:convertToArray,getWindowDimensions:getWindowDimensions,moveArrayItem:moveArrayItem,isOdd:isOdd,isWikiPathwaysId:isWikiPathwaysId,isNumber:isNumber,strToHtmlId:strToHtmlId,getObjectType:getObjectType,getTextDirection:getTextDirection}}(),pathvisiojs.data={},pathvisiojs.data.bridgedb=function(){function getXrefAnnotationDataByDataNode(singleSpecies,id,datasource,label,desc,callback){getDataSources(function(dataSources){var dataSourceRowCorrespondingToDataNodeXrefDatabase=getDataSourceRowByName(datasource,dataSources),systemCode=dataSourceRowCorrespondingToDataNodeXrefDatabase.systemCode;getXrefAliases(singleSpecies,systemCode,id,function(xRefAliases){var currentDataSourceRow,listItems=xRefAliases.map(function(xRefAlias){var listItem={};return listItem.title=xRefAlias.dataSourceName,listItem.text=xRefAlias.xRefId,currentDataSourceRow=getDataSourceRowByName(xRefAlias.dataSourceName,dataSources),listItem.priority=currentDataSourceRow.priority,currentDataSourceRow.hasOwnProperty("linkoutPattern")&&""!==currentDataSourceRow.linkoutPattern&&null!==currentDataSourceRow.linkoutPattern&&(listItem.uri=currentDataSourceRow.linkoutPattern.replace("$id",listItem.text)),listItem});listItems.sort(function(a,b){if(a.priority===b.priority){var x=a.title.toLowerCase(),y=b.title.toLowerCase();return y>x?-1:x>y?1:0}return b.priority-a.priority});var nestedListItems=d3.nest().key(function(d){return d.title}).entries(listItems);if(0==nestedListItems.length){var uri="",ds=getDataSourceRowByName(datasource,dataSources);ds.hasOwnProperty("linkoutPattern")&&""!==ds.linkoutPattern&&null!==ds.linkoutPattern&&(uri=ds.linkoutPattern.replace("$id",id)),nestedListItems=[{key:datasource,values:[{priority:"1",text:id,title:datasource,uri:uri}]}]}var specifiedListItem=nestedListItems.filter(function(element){return element.key==datasource})[0],currentListItemIndex=nestedListItems.indexOf(specifiedListItem);nestedListItems=pathvisiojs.utilities.moveArrayItem(nestedListItems,currentListItemIndex,0);var specifiedXRefId=specifiedListItem.values.filter(function(element){return element.text==id})[0],currentXRefIdIndex=specifiedListItem.values.indexOf(specifiedXRefId);specifiedListItem.values=pathvisiojs.utilities.moveArrayItem(specifiedListItem.values,currentXRefIdIndex,0);var annotationData={header:label,description:desc,listItems:nestedListItems};callback(annotationData)})})}function getDataSourceRowByName(dataSourceName,dataSources){var regexp=/[^\w]/gi,dataSourceRow=dataSources.filter(function(row){return row.dataSourceName===dataSourceName})[0];return dataSourceRow||(dataSourceRow=dataSources.filter(function(row){return row.dataSourceName.replace(regexp,"").toLowerCase()===dataSourceName.replace(regexp,"").toLowerCase()})[0]),dataSourceRow}function getDataSources(callback){d3.tsv(bridgedbDatasources+"datasources.txt").response(function(request){return d3.tsv.parseRows(request.responseText,function(d){return{dataSourceName:d[0],systemCode:d[1],websiteUrl:d[2],linkoutPattern:d[3],exampleIdentifier:d[4],entityIdentified:d[5],singleSpecies:d[6],priority:d[7],uri:d[8],regex:d[9],officialName:d[10]}})}).get(function(error,rows){callback(rows)})}function getXrefAliases(singleSpecies,systemCode,xRefId,callback){var bridgedbUrl=bridgedbPhp+"bridgedb.php/"+encodeURIComponent(singleSpecies)+"/xrefs/"+encodeURIComponent(systemCode)+"/"+encodeURIComponent(xRefId);console.log(bridgedbUrl),d3.tsv(bridgedbUrl).response(function(request){return d3.tsv.parseRows(request.responseText,function(d){return{xRefId:d[0],dataSourceName:d[1]}})}).get(function(error,rows){callback(rows)})}var bridgedbPhp="../external-data/bridgedb/",bridgedbDatasources="../external-data/bridgedb/";return{getXrefAnnotationDataByDataNode:getXrefAnnotationDataByDataNode}}(),pathvisiojs.data.bridgedb.dataSources=[{database:"Affy",id:"X",homePage:"http://www.affymetrix.com/",linkOut:"https://www.affymetrix.com/LinkServlet?probeset=$id",example:"1851_s_at",dataNodeType:"probe",species:"",priority:0,unknown:"urn:miriam:affy.probeset",regex:"d{4,}((_[asx])?_at)?",fullName:"Affymetrix Probeset"},{database:"Agilent",id:"Ag",homePage:"http://agilent.com",linkOut:"",example:"A_24_P98555",dataNodeType:"probe",species:"",priority:0,unknown:"Ag",regex:"A_d+_.+",fullName:"Agilent"},{database:"BIND",id:"Bi",homePage:"http://www.bind.ca/",linkOut:"http://www.bind.ca/Action?identifier=bindid&idsearch=$id",example:"",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:bind",regex:"^d+$",fullName:"BIND"},{database:"BioCyc",id:"Bc",homePage:"http://biocyc.org",linkOut:"http://biocyc.org/getid?id=$id",example:"ECOLI:CYT-D-UBIOX-CPLX",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:biocyc",regex:"^w+:[A-Za-z0-9-]+$",fullName:"BioCyc"},{database:"BioGrid",id:"Bg",homePage:"http://thebiogrid.org/",linkOut:"http://thebiogrid.org/$id",example:"31623",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:biogrid",regex:"^d+$",fullName:"BioGRID"},{database:"BioModels Database",id:"Bm",homePage:"http://www.ebi.ac.uk/biomodels/",linkOut:"http://www.ebi.ac.uk/biomodels-main/$id",example:"BIOMD0000000048",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:biomodels.db",regex:"^((BIOMD|MODEL)d{10})|(BMIDd{12})$",fullName:"BioModels Database"},{database:"BioSystems",id:"Bs",homePage:"http://www.ncbi.nlm.nih.gov/biosystems/",linkOut:"http://www.ncbi.nlm.nih.gov/biosystems/$id",example:"1",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:biosystems",regex:"^d+$",fullName:"BioSystems"},{database:"BRENDA",id:"Br",homePage:"http://www.brenda-enzymes.org/",linkOut:"http://www.brenda-enzymes.org/php/result_flat.php4?ecno=$id",example:"1.1.1.1",dataNodeType:"",species:"",priority:1,unknown:"urn:miriam:brenda",regex:"^((d+.-.-.-)|(d+.d+.-.-)|(d+.d+.d+.-)|(d+.d+.d+.d+))$",fullName:"BRENDA"},{database:"CAS",id:"Ca",homePage:"http://commonchemistry.org",linkOut:"http://commonchemistry.org/ChemicalDetail.aspx?ref=$id",example:"50-00-0",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:cas",regex:"^d{1,7}-d{2}-d$",fullName:"CAS"},{database:"CCDS",id:"Cc",homePage:"http://identifiers.org/ccds/",linkOut:"http://www.ncbi.nlm.nih.gov/CCDS/CcdsBrowse.cgi?REQUEST=ALLFIELDS&DATA=$id",example:"CCDS33337",dataNodeType:"gene",species:"",priority:0,unknown:"",regex:"^CCDSd+.d+$",fullName:"Consensus CDS"},{database:"ChEBI",id:"Ce",homePage:"http://www.ebi.ac.uk/chebi/",linkOut:"http://www.ebi.ac.uk/chebi/searchId.do?chebiId=$id",example:"CHEBI:36927",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:obo.chebi",regex:"^CHEBI:d+$",fullName:"ChEBI"},{database:"Chemspider",id:"Cs",homePage:"http://www.chemspider.com/",linkOut:"http://www.chemspider.com/Chemical-Structure.$id.html",example:"56586",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:chemspider",regex:"^d+$",fullName:"ChemSpider"},{database:"CodeLink",id:"Ge",homePage:"http://www.appliedmicroarrays.com/",linkOut:"",example:"GE86325",dataNodeType:"probe",species:"",priority:0,unknown:"Ge",regex:"",fullName:"CodeLink"},{database:"Database of Interacting Proteins",id:"Dip",homePage:"http://dip.doe-mbi.ucla.edu/",linkOut:"http://dip.doe-mbi.ucla.edu/dip/DIPview.cgi?ID=$id",example:"DIP-743N",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:dip",regex:"^DIP[:-]d{3}[EN]$",fullName:"Database of Interacting Proteins"},{database:"dbSNP",id:"Sn",homePage:"http://www.ncbi.nlm.nih.gov/sites/entrez?db=snp",linkOut:"http://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs=$id",example:"121909098",dataNodeType:"gene",species:"",priority:1,unknown:"",regex:"^d+$",fullName:"dbSNP"},{database:"DrugBank",id:"Dr",homePage:"http://www.drugbank.ca/",linkOut:"http://www.drugbank.ca/drugs/$id",example:"DB00001",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:drugbank",regex:"^DBd{5}$",fullName:"DrugBank"},{database:"EcoCyc",id:"Eco",homePage:"http://ecocyc.org/",linkOut:"http://ecocyc.org/ECOLI/NEW-IMAGE?type=NIL&object=$id",example:"325-BISPHOSPHATE-NUCLEOTIDASE-RXN",dataNodeType:"interaction",species:"Escherichia coli",priority:1,unknown:"Eco",regex:"",fullName:"EcoCyc"},{database:"EcoGene",id:"Ec",homePage:"http://ecogene.org/",linkOut:"http://ecogene.org/geneInfo.php?eg_id=$id",example:"EG10173",dataNodeType:"gene",species:"Escherichia coli",priority:1,unknown:"urn:miriam:ecogene",regex:"^EGd+$",fullName:"EcoGene"},{database:"EMBL",id:"Em",homePage:"http://www.ebi.ac.uk/embl/",linkOut:"http://www.ebi.ac.uk/ena/data/view/$id",example:"X58356",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ena.embl",regex:"^[A-Z]+[0-9]+$",fullName:"European Nucleotide Archive"},{database:"Ensembl",id:"En",homePage:"http://www.ensembl.org/",linkOut:"http://www.ensembl.org/id/$id",example:"ENSG00000139618",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ensembl",regex:"^ENS[A-Z]*[FPTG]d{11}$",fullName:"Ensembl"},{database:"Ensembl B. subtilis",id:"EnBs",homePage:"http://www.ensembl.org",linkOut:"http://bacteria.ensembl.org/Bacillus/B_subtilis/Gene/Summary?g=$id",example:"EBBACG00000000013",dataNodeType:"gene",species:"Bacillus subtilis",priority:1,unknown:"EnBs",regex:"EBBACGd{11}",fullName:"Ensembl"},{database:"Ensembl C. elegans",id:"EnCe",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Caenorhabditis_elegans/Gene/Summary?g=$id",example:"Y42H9B.1",dataNodeType:"gene",species:"Caenorhabditis elegans",priority:1,unknown:"EnCe",regex:"",fullName:"Ensembl"},{database:"Ensembl Chicken",id:"EnGg",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Gallus_gallus/Gene/Summary?g=$id",example:"ENSGALG00000021736",dataNodeType:"gene",species:"Gallus gallus",priority:1,unknown:"EnGg",regex:"ENSGALGd{11}",fullName:"Ensembl"},{database:"Ensembl Chimp",id:"EnPt",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Pan_troglodytes/Gene/Summary?g=$id",example:"ENSPTRG00000036034",dataNodeType:"gene",species:"Pan troglodytes",priority:1,unknown:"EnPt",regex:"ENSPTRGd{11}",fullName:"Ensembl"},{database:"Ensembl Cow",id:"EnBt",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Bos_taurus/Gene/Summary?g=$id",example:"ENSBTAG00000043548",dataNodeType:"gene",species:"Bos taurus",priority:1,unknown:"EnBt",regex:"ENSBTAGd{11}",fullName:"Ensembl"},{database:"Ensembl Dog",id:"EnCf",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Canis_familiaris/Gene/Summary?g=$id",example:"ENSCAFG00000025860",dataNodeType:"gene",species:"Canis familiaris",priority:1,unknown:"EnCf",regex:"ENSCAFGd{11}",fullName:"Ensembl"},{database:"Ensembl E. coli",id:"EnEc",homePage:"http://www.ensembl.org",linkOut:"http://bacteria.ensembl.org/Escherichia_Shigella/E_coli_K12/Gene/Summary?g=$id",example:"EBESCG00000000010",dataNodeType:"gene",species:"Escherichia coli",priority:1,unknown:"EnEc",regex:"EBESCGd{11}",fullName:"Ensembl"},{database:"Ensembl Fruitfly",id:"EnDm",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Drosophila_melanogaster/Gene/Summary?g=$id",example:"FBgn0032956",dataNodeType:"gene",species:"Drosophila melanogaster",priority:1,unknown:"EnDm",regex:"FBgnd{7}",fullName:"Ensembl"},{database:"Ensembl Horse",id:"EnQc",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Equus_caballus/Gene/Summary?g=$id",example:"ENSECAG00000026160",dataNodeType:"gene",species:"Equus caballus",priority:1,unknown:"EnQc",regex:"ENSECAGd{11}",fullName:"Ensembl"},{database:"Ensembl Human",id:"EnHs",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g=$id",example:"ENSG00000139618",dataNodeType:"gene",species:"Homo sapiens",priority:1,unknown:"EnHs",regex:"ENSGd{11}",fullName:"Ensembl"},{database:"Ensembl M. tuberculosis",id:"EnMx",homePage:"http://www.ensembl.org",linkOut:"http://bacteria.ensembl.org/Mycobacterium/M_tuberculosis_H37Rv/Gene/Summary?g=$id",example:"EBMYCG00000003122",dataNodeType:"gene",species:"Mycobacterium tuberculosis",priority:1,unknown:"EnMx",regex:"EBMYCGd{11}",fullName:"Ensembl"},{database:"Ensembl Mosquito",id:"EnAg",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Anopheles_gambiae/Gene/Summary?_q=$id",example:"AGAP006864",dataNodeType:"gene",species:"Anopheles gambiae",priority:1,unknown:"EnAg",regex:"AGAPd{6}",fullName:"Ensembl"},{database:"Ensembl Mouse",id:"EnMm",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Mus_musculus/Gene/Summary?g=$id",example:"ENSMUSG00000017167",dataNodeType:"gene",species:"Mus musculus",priority:1,unknown:"EnMm",regex:"ENSMUSGd{11}",fullName:"Ensembl"},{database:"Ensembl Pig",id:"EnSs",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Sus_scrofa/Gene/Summary?g=$id",example:"ENSSSCG00000004244",dataNodeType:"gene",species:"Sus scrofa",priority:1,unknown:"EnSs",regex:"ENSSSCGd{11}",fullName:"Ensembl"},{database:"Ensembl Plants",id:"EP",homePage:"http://plants.ensembl.org/",linkOut:"http://plants.ensembl.org/id/$id",example:"AT1G73965",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ensembl.plant",regex:"^w+$",fullName:"Ensembl Plants"},{database:"Ensembl Rat",id:"EnRn",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Rattus_norvegicus/Gene/Summary?g=$id",example:"ENSRNOG00000016648",dataNodeType:"gene",species:"Rattus norvegicus",priority:1,unknown:"EnRn",regex:"ENSRNOGd{11}",fullName:"Ensembl"},{database:"Ensembl Xenopus",id:"EnXt",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Xenopus_tropicalis/Gene/Summary?g=$id",example:"ENSXETG00000029448",dataNodeType:"gene",species:"Xenopus tropicalis",priority:1,unknown:"EnXt",regex:"ENSXETGd{11}",fullName:"Ensembl"},{database:"Ensembl Yeast",id:"EnSc",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Saccharomyces_cerevisiae/Gene/Summary?g=$id",example:"YGR147C",dataNodeType:"gene",species:"Saccharomyces cerevisiae",priority:1,unknown:"EnSc",regex:"Y[A-Z][RL]d{3}[WC](?:-[A-Z])?",fullName:"Ensembl"},{database:"Ensembl Zebrafish",id:"EnDr",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Danio_rerio/Gene/Summary?g=$id",example:"ENSDARG00000024771",dataNodeType:"gene",species:"Danio rerio",priority:1,unknown:"EnDr",regex:"ENSDARGd{11}",fullName:"Ensembl"},{database:"Entrez Gene",id:"L",homePage:"http://www.ncbi.nlm.nih.gov/gene",linkOut:"http://www.ncbi.nlm.nih.gov/gene/$id",example:"100010",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ncbigene",regex:"^d+$",fullName:"Entrez Gene"},{database:"Enzyme Nomenclature",id:"E",homePage:"http://www.ebi.ac.uk/intenz/",linkOut:"http://www.ebi.ac.uk/intenz/query?cmd=SearchEC&ec=$id",example:"1.1.1.1",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ec-code",regex:"^d+.-.-.-|d+.d+.-.-|d+.d+.d+.-|d+.d+.d+.(n)?d+$",fullName:"Enzyme Nomenclature"},{database:"FlyBase",id:"F",homePage:"http://flybase.org/",linkOut:"http://flybase.org/reports/$id.html",example:"FBgn0011293",dataNodeType:"gene",species:"Drosophila melanogaster",priority:1,unknown:"urn:miriam:flybase",regex:"^FBw{2}d{7}$",fullName:"FlyBase"},{database:"GenBank",id:"G",homePage:"http://www.ncbi.nlm.nih.gov/genbank/",linkOut:"http://www.ncbi.nlm.nih.gov/nuccore/$id",example:"NW_004190323",dataNodeType:"gene",species:"",priority:0,unknown:"G",regex:"(wd{5})|(w{2}d{6})|(w{3}d{5})",fullName:"GenBank"},{database:"Gene Wiki",id:"Gw",homePage:"http://en.wikipedia.org/wiki/Portal:Gene_Wiki",linkOut:"http://plugins.biogps.org/cgi-bin/wp.cgi?id=$id",example:"1017",dataNodeType:"gene",species:"",priority:0,unknown:"Gw",regex:"d+",fullName:"Gene Wiki"},{database:"GeneOntology",id:"T",homePage:"http://www.ebi.ac.uk/QuickGO/",linkOut:"http://www.ebi.ac.uk/QuickGO/GTerm?id=$id",example:"GO:0006915",dataNodeType:"gene",species:"",priority:0,unknown:"urn:miriam:obo.go",regex:"^GO:d{7}$",fullName:"Gene Ontology"},{database:"Gramene Arabidopsis",id:"EnAt",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/Arabidopsis_thaliana/Gene/Summary?g=$id",example:"ATMG01360-TAIR-G",dataNodeType:"gene",species:"Arabidopsis thaliana",priority:1,unknown:"EnAt",regex:"AT[dCM]Gd{5}-TAIR-G",fullName:"Grameen Arabidopsis"},{database:"Gramene Genes DB",id:"Gg",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/db/genes/search_gene?acc=$id",example:"GR:0060184",dataNodeType:"gene",species:"",priority:1,unknown:"Gg",regex:"GR:d+",fullName:"Gramene Genes"},{database:"Gramene Literature",id:"Gl",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/db/literature/pub_search?ref_id=$id",example:"6200",dataNodeType:"gene",species:"",priority:0,unknown:"Gl",regex:"",fullName:"Gramene Literature"},{database:"Gramene Maize",id:"EnZm",homePage:"http://www.ensembl.org",linkOut:"http://www.maizesequence.org/Zea_mays/Gene/Summary?g=$id",example:"GRMZM2G174107",dataNodeType:"gene",species:"",priority:1,unknown:"EnZm",regex:"",fullName:"Gramene Maize"},{database:"Gramene Pathway",id:"Gp",homePage:"http://www.gramene.org/pathway",linkOut:"",example:"AAH72400",dataNodeType:"pathway",species:"",priority:1,unknown:"Gp",regex:"",fullName:"Gramene Pathway"},{database:"Gramene Rice",id:"EnOj",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/Oryza_sativa/Gene/Summary?db=core;g=$id",example:"osa-MIR171a",dataNodeType:"gene",species:"",priority:1,unknown:"EnOj",regex:"",fullName:"Gramene Rice"},{database:"HGNC",id:"H",homePage:"http://www.genenames.org",linkOut:"http://www.genenames.org/data/hgnc_data.php?match=$id",example:"DAPK1",dataNodeType:"gene",species:"Homo sapiens",priority:1,unknown:"urn:miriam:hgnc.symbol",regex:"^[A-Za-z0-9]+",fullName:"HGNC Symbol"},{database:"HGNC Accession number",id:"Hac",homePage:"http://www.genenames.org",linkOut:"http://www.genenames.org/data/hgnc_data.php?hgnc_id=$id",example:"HGNC:2674",dataNodeType:"gene",species:"Homo sapiens",priority:1,unknown:"urn:miriam:hgnc",regex:"^(HGNC:)?d{1,5}$",fullName:"HGNC"},{database:"HMDB",id:"Ch",homePage:"http://www.hmdb.ca/",linkOut:"http://www.hmdb.ca/metabolites/$id",example:"HMDB00001",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:hmdb",regex:"^HMDBd{5}$",fullName:"HMDB"},{database:"HomoloGene",id:"Hg",homePage:"http://www.ncbi.nlm.nih.gov/homologene/",linkOut:"http://www.ncbi.nlm.nih.gov/homologene/$id",example:"1000",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:homologene",regex:"^d+$",fullName:"HomoloGene"},{database:"HPRD",id:"Hp",homePage:"http://www.hprd.org/",linkOut:"",example:"",dataNodeType:"interaction",species:"Homo sapiens",priority:1,unknown:"urn:miriam:hprd",regex:"",fullName:"HPRD"},{database:"Illumina",id:"Il",homePage:"http://www.illumina.com/",linkOut:"",example:"ILMN_5668",dataNodeType:"probe",species:"",priority:0,unknown:"Il",regex:"ILMN_d+",fullName:"Illumina"},{database:"IntAct",id:"Ia",homePage:"http://www.ebi.ac.uk/intact/",linkOut:"http://www.ebi.ac.uk/intact/pages/details/details.xhtml?interactionAc=$id",example:"EBI-2307691",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:intact",regex:"^EBI-[0-9]+$",fullName:"IntAct"},{database:"InterPro",id:"I",homePage:"http://www.ebi.ac.uk/interpro/",linkOut:"http://www.ebi.ac.uk/interpro/DisplayIproEntry?ac=$id",example:"IPR000100",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:interpro",regex:"^IPRd{6}$",fullName:"InterPro"},{database:"IPI",id:"Ip",homePage:"http://www.ebi.ac.uk/IPI",linkOut:"http://www.ebi.ac.uk/cgi-bin/dbfetch?db=IPI&id=$id&format=default",example:"IPI00000001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:ipi",regex:"^IPId{8}$",fullName:"IPI"},{database:"IRGSP Gene",id:"Ir",homePage:"http://rgp.dna.affrc.go.jp/IRGSP/",linkOut:"",example:"Os12g0561000",dataNodeType:"gene",species:"",priority:1,unknown:"Ir",regex:"Osd{2}gd+",fullName:"IRGSP Gene"},{database:"Kegg Compound",id:"Ck",homePage:"http://www.genome.jp/kegg/ligand.html",linkOut:"http://www.genome.jp/dbget-bin/www_bget?cpd:$id",example:"C12345",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:kegg.compound",regex:"^Cd+$",fullName:"KEGG Compound"},{database:"KEGG Drug",id:"Kd",homePage:"http://www.genome.jp/kegg/drug/",linkOut:"http://www.genome.jp/dbget-bin/www_bget?dr:$id",example:"D00123",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:kegg.drug",regex:"^Dd+$",fullName:"KEGG Drug"},{database:"KEGG Genes",id:"Kg",homePage:"http://www.genome.jp/kegg/genes.html",linkOut:"http://www.genome.jp/dbget-bin/www_bget?$id",example:"syn:ssr3451",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:kegg.genes",regex:"^w+:[wd.-]*$",fullName:"KEGG Genes"},{database:"KEGG Glycan",id:"Kgl",homePage:"http://www.genome.jp/kegg/glycan/",linkOut:"http://www.genome.jp/dbget-bin/www_bget?gl:$id",example:"G00123",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:kegg.glycan",regex:"^Gd+$",fullName:"KEGG Glycan"},{database:"KEGG Pathway",id:"Kp",homePage:"http://www.genome.jp/kegg/pathway.html",linkOut:"http://www.genome.jp/dbget-bin/www_bget?pathway+$id",example:"hsa00620",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:kegg.pathway",regex:"^w{2,4}d{5}$",fullName:"KEGG Pathway"},{database:"KEGG Reaction",id:"Kr",homePage:"http://www.genome.jp/kegg/reaction/",linkOut:"http://www.genome.jp/dbget-bin/www_bget?rn:$id",example:"R00100",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:kegg.reaction",regex:"^Rd+$",fullName:"KEGG Reaction"},{database:"LIPID MAPS",id:"Lm",homePage:"http://www.lipidmaps.org",linkOut:"http://www.lipidmaps.org/data/get_lm_lipids_dbgif.php?LM_ID=$id",example:"LMPR0102010012",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:lipidmaps",regex:"^LM(FA|GL|GP|SP|ST|PR|SL|PK)[0-9]{4}([0-9a-zA-Z]{4,6})?$",fullName:"LIPID MAPS"},{database:"LipidBank",id:"Lb",homePage:"http://lipidbank.jp/index.html",linkOut:"http://lipidbank.jp/cgi-bin/detail.cgi?id=$id",example:"BBA0001",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:lipidbank",regex:"^w+d+$",fullName:"LipidBank"},{database:"MACiE",id:"Ma",homePage:"http://www.ebi.ac.uk/thornton-srv/databases/MACiE/index.html",linkOut:"http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/MACiE/entry/getPage.pl?id=$id",example:"M0001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:macie",regex:"^Md{4}$",fullName:"MACiE"},{database:"MaizeGDB",id:"Mg",homePage:"",linkOut:"http://www.maizegdb.org/cgi-bin/displaylocusresults.cgi?term=$id",example:"acc1",dataNodeType:"gene",species:"Zea mays",priority:1,unknown:"Mg",regex:"",fullName:"MaizeGDB"},{database:"MatrixDB",id:"Md",homePage:"http://matrixdb.ibcp.fr/",linkOut:"http://matrixdb.ibcp.fr/cgi-bin/model/report/default?name=$id&class=Association",example:"P00747_P07355",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:matrixdb.association",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])_.*|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9]_.*)|(GAG_.*)|(MULT_.*)|(PFRAG_.*)|(LIP_.*)|(CAT_.*)$",fullName:"MatrixDB"},{database:"MetaCyc",id:"Mc",homePage:"http://www.metacyc.org/",linkOut:"http://www.metacyc.org/META/NEW-IMAGE?type=NIL&object=$id",example:"D-GLUTAMATE-OXIDASE-RXN",dataNodeType:"interaction",species:"",priority:1,unknown:"Mc",regex:"",fullName:"MetaCyc"},{database:"MGI",id:"M",homePage:"http://www.informatics.jax.org/",linkOut:"http://www.informatics.jax.org/marker/$id",example:"MGI:2442292",dataNodeType:"gene",species:"Mus musculus",priority:1,unknown:"urn:miriam:mgd",regex:"^MGI:d+$",fullName:"Mouse Genome Database"},{database:"MINT",id:"Mi",homePage:"http://mint.bio.uniroma2.it/mint/",linkOut:"http://mint.bio.uniroma2.it/mint/search/inFrameInteraction.do?interactionAc=$id",example:"MINT-10000",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:mint",regex:"^MINT-d{1,5}$",fullName:"MINT"},{database:"miRBase mature sequence",id:"Mbm",homePage:"http://www.mirbase.org/",linkOut:"http://www.mirbase.org/cgi-bin/mature.pl?mature_acc=$id",example:"MIMAT0000001",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:mirbase.mature",regex:"MIMATd{7}",fullName:"miRBase mature sequence"},{database:"miRBase Sequence",id:"Mb",homePage:"http://microrna.sanger.ac.uk/",linkOut:"http://microrna.sanger.ac.uk/cgi-bin/sequences/mirna_entry.pl?acc=$id",example:"MI0000001",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:mirbase",regex:"MId{7}",fullName:"miRBase Sequence"},{database:"NASC Gene",id:"N",homePage:"http://arabidopsis.info/",linkOut:"",example:"ATMG00960-TAIR-G",dataNodeType:"gene",species:"Arabidopsis thaliana",priority:1,unknown:"N",regex:"AT[dCM]Gd{5}-TAIR-G",fullName:"NASC Gene"},{database:"NCBI Protein",id:"Np",homePage:"http://www.ncbi.nlm.nih.gov/protein",linkOut:"http://www.ncbi.nlm.nih.gov/protein/$id",example:"CAA71118.1",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:ncbiprotein",regex:"^w+d+(.d+)?$",fullName:"NCBI Protein"},{database:"NCI Pathway Interaction Database",id:"Pid",homePage:"http://pid.nci.nih.gov/",linkOut:"http://pid.nci.nih.gov/search/pathway_landing.shtml?what=graphic&jpg=on&pathway_id=$id",example:"pi3kcipathway",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:pid.pathway",regex:"^w+$",fullName:"NCI Pathway Interaction Database"},{database:"NuGO wiki",id:"Nw",homePage:"http://wiki.nugo.org",linkOut:"http://wiki.nugo.org/index.php/$id",example:"HMDB00001",dataNodeType:"metabolite",species:"",priority:0,unknown:"Nw",regex:"",fullName:"NuGO wiki"},{database:"OMIM",id:"Om",homePage:"http://omim.org/",linkOut:"http://omim.org/entry/$id",example:"603903",dataNodeType:"gene",species:"",priority:0,unknown:"urn:miriam:omim",regex:"^[*#+%^]?d{6}$",fullName:"OMIM"},{database:"Oryzabase",id:"Ob",homePage:"http://www.shigen.nig.ac.jp/rice/oryzabase",linkOut:"http://www.shigen.nig.ac.jp/rice/oryzabase/gateway/gatewayAction.do?target=symbol&id=$id",example:"468",dataNodeType:"gene",species:"Oryza sativa",priority:1,unknown:"Ob",regex:"",fullName:"Oryzabase"},{database:"Other",id:"O",homePage:"",linkOut:"",example:"",dataNodeType:"gene",species:"",priority:1,unknown:"O",regex:"",fullName:"Other"},{database:"Pathway Commons",id:"Pc",homePage:"http://www.pathwaycommons.org/pc/",linkOut:"http://www.pathwaycommons.org/pc/record2.do?id=$id",example:"485991",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:pathwaycommons",regex:"^d+$",fullName:"Pathway Commons"},{database:"PDB",id:"Pd",homePage:"http://www.pdb.org/",linkOut:"http://www.rcsb.org/pdb/explore/explore.do?structureId=$id",example:"2gc4",dataNodeType:"protein",species:"",priority:0,unknown:"urn:miriam:pdb",regex:"^[0-9][A-Za-z0-9]{3}$",fullName:"Protein Data Bank"},{database:"Pfam",id:"Pf",homePage:"http://pfam.sanger.ac.uk/",linkOut:"http://pfam.sanger.ac.uk/family/$id/",example:"PF01234",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:pfam",regex:"^PFd{5}$",fullName:"Pfam"},{database:"PharmGKB Drug",id:"Pgd",homePage:"http://www.pharmgkb.org/",linkOut:"http://www.pharmgkb.org/drug/$id",example:"PA448710",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pharmgkb.drug",regex:"^PAd+$",fullName:"PharmGKB Drug"},{database:"PharmGKB Gene",id:"Pgg",homePage:"http://www.pharmgkb.org/",linkOut:"http://www.pharmgkb.org/gene/$id",example:"PA131",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:pharmgkb.gene",regex:"^PAw+$",fullName:"PharmGKB Gene"},{database:"PharmGKB Pathways",id:"Pgp",homePage:"http://www.pharmgkb.org/",linkOut:"http://www.pharmgkb.org/pathway/$id",example:"PA146123006",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:pharmgkb.pathways",regex:"^PAd+$",fullName:"PharmGKB Pathways"},{database:"PhosphoSite Protein",id:"Pp",homePage:"http://www.phosphosite.org/homeAction.do",linkOut:"http://www.phosphosite.org/proteinAction.do?id=$id",example:"12300",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:phosphosite.protein",regex:"^d{5}$",fullName:"PhosphoSite Protein"},{database:"PINA",id:"Pi",homePage:"http://cbg.garvan.unsw.edu.au/pina/",linkOut:"http://cbg.garvan.unsw.edu.au/pina/interactome.oneP.do?ac=$id&showExtend=null",example:"Q13485",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:pina",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])$",fullName:"PINA"},{database:"PlantGDB",id:"Pl",homePage:"http://www.plantgdb.org/",linkOut:"",example:"PUT-157a-Vitis_vinifera-37378",dataNodeType:"gene",species:"",priority:1,unknown:"Pl",regex:"PUT-[wd-]+",fullName:"PlantGDB"},{database:"PubChem-bioassay",id:"Cpb",homePage:"http://www.ncbi.nlm.nih.gov/sites/entrez?db=pcassay ",linkOut:"http://pubchem.ncbi.nlm.nih.gov/assay/assay.cgi?aid=$id",example:"1018",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pubchem.bioassay",regex:"^d+$",fullName:"PubChem-bioassay"},{database:"PubChem-compound",id:"Cpc",homePage:"http://pubchem.ncbi.nlm.nih.gov/",linkOut:"http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?cid=$id",example:"100101",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pubchem.compound",regex:"^d+$",fullName:"PubChem-compound"},{database:"PubChem-substance",id:"Cps",homePage:"http://pubchem.ncbi.nlm.nih.gov/",linkOut:"http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?sid=$id",example:"100101",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pubchem.substance",regex:"^d+$",fullName:"PubChem-substance"},{database:"Reactome",id:"Re",homePage:"http://www.reactome.org/",linkOut:"http://www.reactome.org/cgi-bin/eventbrowser_st_id?FROM_REACTOME=1&ST_ID=$id",example:"REACT_1590",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:reactome",regex:"^REACT_d+(.d+)?$",fullName:"Reactome"},{database:"RefSeq",id:"Q",homePage:"http://www.ncbi.nlm.nih.gov/projects/RefSeq/",linkOut:"http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?val=$id",example:"NP_012345",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:refseq",regex:"^(NC|AC|NG|NT|NW|NZ|NM|NR|XM|XR|NP|AP|XP|ZP)_d+$",fullName:"RefSeq"},{database:"RESID",id:"Res",homePage:"http://www.ebi.ac.uk/RESID/",linkOut:"http://srs.ebi.ac.uk/srsbin/cgi-bin/wgetz?-id+6JSUg1NA6u4+-e+[RESID:'$id']",example:"AA0001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:resid",regex:"^AAd{4}$",fullName:"RESID"},{database:"Rfam",id:"Rf",homePage:"",linkOut:"http://www.sanger.ac.uk/cgi-bin/Rfam/getacc?$id",example:"RF00066",dataNodeType:"gene",species:"",priority:1,unknown:"Rf",regex:"RFd+",fullName:"RFAM"},{database:"RGD",id:"R",homePage:"http://rgd.mcw.edu/",linkOut:"http://rgd.mcw.edu/tools/genes/genes_view.cgi?id=$id",example:"2018",dataNodeType:"gene",species:"Rattus norvegicus",priority:1,unknown:"urn:miriam:rgd",regex:"^d{4,7}$",fullName:"Rat Genome Database"},{database:"Rhea",id:"Rh",homePage:"http://www.ebi.ac.uk/rhea/",linkOut:"http://www.ebi.ac.uk/rhea/reaction.xhtml?id=$id",example:"12345",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:rhea",regex:"^d{5}$",fullName:"Rhea"},{database:"Rice Ensembl Gene",id:"Os",homePage:"http://www.gramene.org/Oryza_sativa",linkOut:"http://www.gramene.org/Oryza_sativa/geneview?gene=$id",example:"LOC_Os04g54800",dataNodeType:"gene",species:"Oryza sativa",priority:1,unknown:"Os",regex:"",fullName:"Rice Ensembl Gene"},{database:"SGD",id:"D",homePage:"http://www.yeastgenome.org/",linkOut:"http://www.yeastgenome.org/cgi-bin/locus.fpl?dbid=$id",example:"S000028457",dataNodeType:"gene",species:"Saccharomyces cerevisiae",priority:1,unknown:"urn:miriam:sgd",regex:"^Sd+$",fullName:"SGD"},{database:"Small Molecule Pathway Database",id:"Sm",homePage:"http://www.smpdb.ca/pathways",linkOut:"http://pathman.smpdb.ca/pathways/$id/pathway",example:"SMP00001",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:smpdb",regex:"^SMPd{5}$",fullName:"Small Molecule Pathway Database"},{database:"SMART",id:"Sma",homePage:"http://smart.embl-heidelberg.de/",linkOut:"http://smart.embl-heidelberg.de/smart/do_annotation.pl?DOMAIN=$id",example:"SM00015",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:smart",regex:"^SMd{5}$",fullName:"SMART"},{database:"SPIKE",id:"Sk",homePage:"http://www.cs.tau.ac.il/~spike/",linkOut:"http://www.cs.tau.ac.il/~spike/maps/$id.html",example:"spike00001",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:spike.map",regex:"^spiked{5}$",fullName:"SPIKE Map"},{database:"SPRINT",id:"Spr",homePage:"http://www.bioinf.manchester.ac.uk/dbbrowser/sprint/",linkOut:"http://www.bioinf.manchester.ac.uk/cgi-bin/dbbrowser/sprint/searchprintss.cgi?prints_accn=$id&display_opts=Prints&category=None&queryform=false&regexpr=off",example:"PR00001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:sprint",regex:"^PRd{5}$",fullName:"SPRINT"},{database:"STRING",id:"Str",homePage:"http://string.embl.de/",linkOut:"http://string.embl.de/interactions/$id",example:"P53350",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:string",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])|([0-9][A-Za-z0-9]{3})$",fullName:"STRING"},{database:"SubstrateDB",id:"Sdb",homePage:"http://substrate.burnham.org/",linkOut:"http://substrate.burnham.org/protein/annotation/$id/html",example:"1915",dataNodeType:"protein",species:"",priority:0,unknown:"urn:miriam:pmap.substratedb",regex:"^d+$",fullName:"SubstrateDB"},{database:"SubtiWiki",id:"Sw",homePage:"http://www.subtiwiki.uni-goettingen.de/wiki/index.php/Main_Page",linkOut:"http://www.subtiwiki.uni-goettingen.de/wiki/index.php/$id",example:"BSU29180",dataNodeType:"gene",species:"Bacillus subtilis",priority:1,unknown:"urn:miriam:subtiwiki",regex:"^BSUd{5}$",fullName:"SubtiWiki"},{database:"SUPFAM",id:"Sf",homePage:"http://supfam.org/SUPERFAMILY/",linkOut:"http://supfam.org/SUPERFAMILY/cgi-bin/scop.cgi?ipid=$id",example:"SSF57615",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:supfam",regex:"^w+$",fullName:"SUPFAM"},{database:"SWISS-MODEL",id:"Sw",homePage:"http://swissmodel.expasy.org/",linkOut:"http://swissmodel.expasy.org/repository/smr.php?sptr_ac=$id",example:"P23298",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:swiss-model",regex:"^w+$",fullName:"SWISS-MODEL"},{database:"Systems Biology Ontology",id:"Sbo",homePage:"http://www.ebi.ac.uk/sbo/",linkOut:"http://www.ebi.ac.uk/sbo/main/$id",example:"SBO:0000262",dataNodeType:"ontology",species:"",priority:1,unknown:"urn:miriam:biomodels.sbo",regex:"^SBO:d{7}$",fullName:"Systems Biology Ontology"},{database:"TAIR",id:"A",homePage:"http://arabidopsis.org/index.jsp",linkOut:"http://arabidopsis.org/servlets/TairObject?type=locus&name=$id",example:"AT1G01030",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:tair.locus",regex:"^AT[1-5]Gd{5}$",fullName:"TAIR Locus"},{database:"TIGR",id:"Ti",homePage:"http://www.jcvi.org/",linkOut:"",example:"12012.t00308",dataNodeType:"gene",species:"",priority:1,unknown:"Ti",regex:"",fullName:"TIGR"},{database:"TTD Drug",id:"Td",homePage:"http://bidd.nus.edu.sg/group/cjttd/TTD_HOME.asp",linkOut:"http://bidd.nus.edu.sg/group/cjttd/ZFTTDDRUG.asp?ID=$id",example:"DAP000773",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:ttd.drug",regex:"^DAPd+$",fullName:"TTD Drug"},{database:"TTD Target",id:"Tt",homePage:"http://bidd.nus.edu.sg/group/cjttd/TTD_HOME.asp",linkOut:"http://bidd.nus.edu.sg/group/cjttd/ZFTTDDetail.asp?ID=$id",example:"TTDS00056",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:ttd.target",regex:"^TTDSd+$",fullName:"TTD Target"},{database:"TubercuList",id:"Tb",homePage:"http://tuberculist.epfl.ch",linkOut:"http://tuberculist.epfl.ch/quicksearch.php?gene+name=$id",example:"Rv0064",dataNodeType:"gene",species:"Mycobacterium tuberculosis",priority:1,unknown:"Tb",regex:"Rvd{4}(A|B|c|.d)?",fullName:"TubercuList"},{database:"UCSC Genome Browser",id:"Uc",homePage:"http://genome.ucsc.edu/",linkOut:"http://genome.ucsc.edu/cgi-bin/hgTracks?position=$id",example:"uc001tyh.1",dataNodeType:"gene",species:"",priority:1,unknown:"Uc",regex:"ucd{3}[a-z]{3}.d",fullName:"UCSC Genome Browser"},{database:"UniGene",id:"U",homePage:"http://www.ncbi.nlm.nih.gov/sites/entrez?db=unigene",linkOut:"http://www.ncbi.nlm.nih.gov/UniGene/clust.cgi?UGID=1548618&SEARCH=$id",example:"Hs.553708",dataNodeType:"gene",species:"",priority:1,unknown:"U",regex:"[A-Z][a-z][a-z]?.d+",fullName:"UniGene"},{database:"Unipathway",id:"Up",homePage:"http://www.grenoble.prabi.fr/obiwarehouse/unipathway",linkOut:"http://www.grenoble.prabi.fr/obiwarehouse/unipathway/upa?upid=$id",example:"UPA00206",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:unipathway",regex:"^UPAd{5}$",fullName:"Unipathway"},{database:"Uniprot-TrEMBL",id:"S",homePage:"http://www.uniprot.org/",linkOut:"http://www.uniprot.org/uniprot/$id",example:"P62158",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:uniprot",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])|($",fullName:"UniProtKB/TrEMBL"},{database:"Uniprot-SwissProt",id:"Sp",homePage:"http://www.uniprot.org/",linkOut:"http://www.uniprot.org/uniprot/$id",example:"CALM_HUMAN",dataNodeType:"protein",species:"",priority:1,unknown:"Sp",regex:"^[A-Z0-9]+_[A-Z]+$",fullName:"UniProtKB/Swiss-Prot"},{database:"Wheat gene names",id:"Wn",homePage:"http://wheat.pw.usda.gov/",linkOut:"http://wheat.pw.usda.gov/report?class=gene;name=$id",example:"5S-Rrna-D1_(Triticum)",dataNodeType:"gene",species:"Triticum aestivum",priority:1,unknown:"Wn",regex:"",fullName:"Wheat gene names"},{database:"Wheat gene refs",id:"Wr",homePage:"http://wheat.pw.usda.gov/",linkOut:"http://wheat.pw.usda.gov/cgi-bin/graingenes/report.cgi?class=reference&name=$id",example:"WGS-95-1333",dataNodeType:"probe",species:"Triticum aestivum",priority:0,unknown:"Wr",regex:"",fullName:"Wheat gene refs"},{database:"WikiGenes",id:"Wg",homePage:"http://www.wikigenes.org/",linkOut:"http://www.wikigenes.org/e/gene/e/$id.html",example:"7157",dataNodeType:"gene",species:"",priority:0,unknown:"Wg",regex:"",fullName:"WikiGenes"},{database:"WikiPathways",id:"Wp",homePage:"http://www.wikipathways.org/",linkOut:"http://www.wikipathways.org/index.php/Pathway:$id",example:"WP100",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:wikipathways",regex:"WPd{1,5}",fullName:"WikiPathways"},{database:"Wikipedia",id:"Wi",homePage:"http://www.wikipedia.org",linkOut:"http://en.wikipedia.org/wiki/$id",example:"Acetate",dataNodeType:"metabolite",species:"",priority:0,unknown:"Wi",regex:"",fullName:"Wikipedia"},{database:"WormBase",id:"W",homePage:"http://www.wormbase.org/",linkOut:"http://www.wormbase.org/db/gene/gene?name=$id;class=Gene",example:"WBGene00000001",dataNodeType:"gene",species:"Caenorhabditis elegans",priority:1,unknown:"urn:miriam:wormbase",regex:"^WBGened{8}$",fullName:"WormBase"},{database:"ZFIN",id:"Z",homePage:"http://zfin.org",linkOut:"http://zfin.org/action/marker/view/$id",example:"ZDB-GENE-041118-11",dataNodeType:"gene",species:"Danio rerio",priority:1,unknown:"urn:miriam:zfin",regex:"ZDB-GENE-d+-d+",fullName:"ZFIN Gene"}],pathvisiojs.data.biopax=function(){function toRenderableJson(xmlBiopax,callback){try{d3.ns.prefix.bp="http://www.biopax.org/owldoc/Level3/",d3.ns.prefix.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",d3.ns.qualify("bp:PublicationXref");
var xmlBiopaxPubs=xmlBiopax.selectAll("PublicationXref"),jsonBiopax={};jsonBiopax.PublicationXref=[];var publicationXref;xmlBiopaxPubs.each(function(){publicationXref={},publicationXref.rdfId=d3.select(this).attr("rdf:id").toString(),jsonBiopax.PublicationXref.push(publicationXref)}),callback(jsonBiopax)}catch(e){throw new Error("Error converting biopax to json: "+e.message)}}return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml=function(){function gpmlColorToCssColor(gpmlColor,pathvisioDefault){var color;return gpmlColor!==pathvisioDefault?gpmlColor?(color=new RGBColor(gpmlColor),color.ok?color.toHex():"black"):"black":null}function setColorAsJson(jsonElement,currentGpmlColorValue,defaultGpmlColorValue){var jsonColor;return currentGpmlColorValue!==defaultGpmlColorValue&&(jsonColor=gpmlColorToCssColor(currentGpmlColorValue,defaultGpmlColorValue),jsonElement.color=jsonColor,jsonElement.borderColor=jsonColor,jsonElement.hasOwnProperty("text")&&(jsonElement.text.color=jsonColor)),jsonElement}function getLineStyle(gpmlElement){var LineStyle,attributes,graphics=gpmlElement.select("Graphics");return graphics?(LineStyle=graphics.attr("LineStyle"),LineStyle?LineStyle:(attributes=gpmlElement.selectAll("Attribute"),attributes.length>0?(LineStyle=attributes.filter(function(){return"org.pathvisiojs.DoubleLineProperty"===d3.select(this).attr("Key")&&"Double"===d3.select(this).attr("Value")}),LineStyle[0].length>0?"double":null):null)):void 0}function getBorderStyle(gpmlLineStyle,pathvisioDefault){var borderStyle,lineStyleToBorderStyleMapping={Solid:"solid",Double:"solid",Broken:"dashed"};return gpmlLineStyle!==pathvisioDefault?gpmlLineStyle?(borderStyle=lineStyleToBorderStyleMapping[gpmlLineStyle],borderStyle?borderStyle:(console.warn('LineStyle "'+gpmlLineStyle+'" does not have a corresponding borderStyle. Using "solid"'),"solid")):"solid":"whatever the default value is"}function setBorderStyleAsJson(jsonElement,currentGpmlLineStyleValue,defaultGpmlLineStyleValue){var borderStyle;return currentGpmlLineStyleValue!==defaultGpmlLineStyleValue&&(borderStyle=getBorderStyle(currentGpmlLineStyleValue,defaultGpmlLineStyleValue),jsonElement.borderStyle=borderStyle),jsonElement}function toRenderableJson(gpml,pathwayIri,callbackOutside){var gpmlPathway=d3.select(gpml).select("Pathway");console.log("GPML"),console.log(gpml);var pathway={};if(pathway.xmlns=gpmlPathway.attr("xmlns"),-1===pathvisiojs.data.gpml.namespaces.indexOf(pathway.xmlns))throw alert("Pathvisiojs does not support the data format provided. Please convert to GPML and retry."),new Error("Pathvisiojs does not support the data format provided. Please convert to GPML and retry.");0!==pathvisiojs.data.gpml.namespaces.indexOf(pathway.xmlns)&&alert("Pathvisiojs may not fully support the version of GPML provided (xmlns: "+pathway.xmlns+"). Please convert to the supported version of GPML (xmlns: "+pathvisiojs.data.gpml.namespaces[0]+")."),async.parallel({"@context":function(callback){pathway["@context"]={"@vocab":"http://vocabularies.wikipathways.org/gpml#",gpml:"http://vocabularies.wikipathways.org/gpml#",xsd:"http://www.w3.org/2001/XMLSchema#",wp:"http://vocabularies.wikipathways.org/wp#",biopax:"http://www.biopax.org/release/biopax-level3.owl#",schema:"http://schema.org/",hMDB:"http://www.hmdb.ca/metabolites/HMDB",entrezGene:"http://www.ncbi.nlm.nih.gov/gene/",ChEBI:"http://www.ebi.ac.uk/chebi/searchId.do?chebiId=",media:"http://www.w3.org/TR/mediaont-10/",ex:"http://www.example.com/",pathwayIri:pathwayIri,PublicationXref:"biopax:PublicationXref",gpmlFolder:"file://Users/andersriutta/Sites/pathvisiojs/test/gpml/",name:"http://xmlns.com/foaf/0.1/name",dcterms:"http://purl.org/dc/terms/",css2:"http://www.w3.org/TR/CSS2/",css3Ui:"http://www.w3.org/TR/css3-ui/#",cssTransform:"http://www.w3.org/TR/css-transforms-1/#",svg:"http://www.w3.org/TR/SVG11/",boxSizing:{"@id":"css3Ui:box-sizing","@value":"border-box"},rotate:"cssTransform:funcdef-rotate",position:"css2:visuren.html#propdef-position",color:"css2:colors.html#propdef-color",backgroundColor:"css2:colors.html#propdef-background-color",backgroundImage:"css2:colors.html#propdef-background-image",borderColor:"css2:box.html#propdef-border-color",borderWidth:"css2:box.html#propdef-border-width",borderStyle:"css2:box.html#propdef-border-style",x:"css2:visuren.html#propdef-left",y:"css2:visuren.html#propdef-top",width:"css2:visudet.html#propdef-width",height:"css2:visudet.html#propdef-height",padding:"css2:box.html#propdef-padding",fontFamily:"css2:fonts.html#font-family-prop",fontStyle:"css2:fonts.html#propdef-font-style",textAlign:"css2:text.html#propdef-text-align",verticalAlign:"css2:visudet.html#propdef-vertical-align",fontSize:"css2:fonts.html#propdef-font-size",fontWeight:"css2:fonts.html#propdef-font-weight",zIndex:{"@id":"css2:z-index","@type":"xsd:integer"},DatasourceReference:"wp:DatasourceReference",DataSource:"gpml:Data-Source",LastModified:"gpml:Last-Modified",Pathway:"biopax:Pathway",shapeLibrary:"http://shapelibrary.example.org/",shapeName:"shapeLibrary:shapeName",image:"schema:image",dataNodeType:"gpml:Type",author:"schema:author",organism:"biopax:organism",stroke:"svg:painting.html#StrokeProperty",strokeWidth:"svg:painting.html#StrokeWidthProperty",tspan:{"@id":"svg:text.html#TSpanElement","@container":"@set"},Group:{"@id":"gpml:Group","@container":"@list"},pathwayElements:{"@id":"ex:pathwayElements/","@container":"@list"},contains:{"@id":"ex:contains","@type":"@id"},isContainedBy:{"@reverse":"ex:contains","@type":"@id"},edge:{"@type":"@id","@container":"@list",InteractionGraph:{"@type":"@id","@container":"@list"}},InteractionGraph:{"@type":"@id","@container":"@list"},interactsWith:{"@id":"ex:interactsWith","@type":"@id"},Interaction:{"@id":"biopax:Interaction","@type":"@id"},Point:{"@id":"gpml:Point","@container":"@list"}},callback(null,pathway["@context"])},PublicationXref:function(callback){pathvisiojs.data.gpml.biopaxRef.getAllAsRenderableJson(gpmlPathway,function(publicationXrefs){publicationXrefs?(pathway.PublicationXref=publicationXrefs,callback(null,"BiopaxRefs are all converted.")):callback(null,"No biopaxRefs to convert.")})},DataSource:function(callback){var jsonDataSource=gpmlPathway.attr("Data-Source");jsonDataSource?(pathway.DataSource=jsonDataSource,callback(null,"DataSource converted.")):callback(null,"No DataSource to convert.")},Version:function(callback){var jsonVersion=gpmlPathway.attr("Version");jsonVersion?(pathway.Version=jsonVersion,callback(null,"Version converted.")):callback(null,"No Version to convert.")},Author:function(callback){var jsonAuthor=gpmlPathway.attr("Author");jsonAuthor?(pathway.Author=jsonAuthor,callback(null,"Author converted.")):callback(null,"No Author to convert.")},Maintainer:function(callback){var jsonMaintainer=gpmlPathway.attr("Maintainer");jsonMaintainer?(pathway.Maintainer=jsonMaintainer,callback(null,"Maintainer converted.")):callback(null,"No Maintainer to convert.")},Email:function(callback){var jsonEmail=gpmlPathway.attr("Email");jsonEmail?(pathway.Email=jsonEmail,callback(null,"Email converted.")):callback(null,"No Email to convert.")},LastModified:function(callback){var jsonLastModified=gpmlPathway.attr("Last-Modified");jsonLastModified?(pathway.LastModified=jsonLastModified,callback(null,"LastModified converted.")):callback(null,"No LastModified to convert.")},License:function(callback){var jsonLicense=gpmlPathway.attr("License");jsonLicense?(pathway.License=jsonLicense,callback(null,"License converted.")):callback(null,"No License to convert.")},Name:function(callback){var jsonName=gpmlPathway.attr("Name");jsonName?(pathway.Name=jsonName,callback(null,"Name converted.")):callback(null,"No Name to convert.")},Organism:function(callback){var jsonOrganism=gpmlPathway.attr("Organism");jsonOrganism?(pathway.Organism=jsonOrganism,callback(null,"Organism converted.")):callback(null,"No Organism to convert.")},image:function(callback){pathway.image={"@context":{"@vocab":"http://schema.org/"},width:parseFloat(gpmlPathway.select("Graphics").attr("BoardWidth")),height:parseFloat(gpmlPathway.select("Graphics").attr("BoardHeight"))},callback(null,pathway.image)},Biopax:function(callback){var xmlBiopax=gpmlPathway.selectAll("Biopax");xmlBiopax[0].length>0?(pathvisiojs.data.biopax.toRenderableJson(xmlBiopax,function(jsonBiopax){pathway.Biopax=jsonBiopax}),callback(null,"Biopax all converted.")):callback(null,"No Biopax to convert.")},DataNode:function(callback){var gpmlDataNode,dataNodes=gpmlPathway.selectAll("DataNode");dataNodes[0].length>0?(pathway.DataNode=[],dataNodes.each(function(){gpmlDataNode=d3.select(this),pathvisiojs.data.gpml.element.node.entityNode.dataNode.toRenderableJson(gpmlDataNode,pathwayIri,function(jsonDataNode){pathway.DataNode.push(jsonDataNode)})}),callback(null,"DataNodes are all converted.")):callback(null,"No dataNodes to convert.")},Label:function(callback){var gpmlLabel,labels=gpmlPathway.selectAll("Label");labels[0].length>0?(pathway.Label=[],gpmlPathway.selectAll("Label").each(function(){gpmlLabel=d3.select(this),pathvisiojs.data.gpml.element.node.entityNode.label.toRenderableJson(gpmlLabel,pathwayIri,function(jsonLabel){pathway.Label.push(jsonLabel)})}),callback(null,"Labels are all converted.")):callback(null,"No labels to convert.")},Shape:function(callback){var gpmlShape,shapes=gpmlPathway.selectAll("Shape");shapes[0].length>0?(pathway.Shape=[],gpmlPathway.selectAll("Shape").each(function(){gpmlShape=d3.select(this),pathvisiojs.data.gpml.element.node.entityNode.shape.toRenderableJson(gpmlShape,pathwayIri,function(jsonShape){pathway.Shape.push(jsonShape)})}),callback(null,"Shapes are all converted.")):callback(null,"No shapes to convert.")},Group:function(callback){var gpmlGroup,groups=gpmlPathway.selectAll("Group");groups[0].length>0?(pathway.Group=[],gpmlPathway.selectAll("Group").each(function(){gpmlGroup=d3.select(this),pathvisiojs.data.gpml.element.node.groupNode.toRenderableJson(gpml,gpmlGroup,pathwayIri,function(jsonGroup){pathway.Group.push(jsonGroup)})}),callback(null,"Groups are all converted.")):callback(null,"No groups to convert.")},GraphicalLine:function(callback){var gpmlGraphicalLine,graphicalLines=gpmlPathway.selectAll("GraphicalLine");graphicalLines[0].length>0?(pathway.GraphicalLine=[],gpmlPathway.selectAll("GraphicalLine").each(function(){gpmlGraphicalLine=d3.select(this),pathvisiojs.data.gpml.edge.graphicalLine.toRenderableJson(gpml,gpmlGraphicalLine,pathwayIri,function(jsonGraphicalLine){pathway.GraphicalLine.push(jsonGraphicalLine)})}),callback(null,"GraphicalLines are all converted.")):callback(null,"No graphicalLines to convert.")},Interaction:function(callback){var gpmlInteraction,interactions=gpmlPathway.selectAll("Interaction");interactions[0].length>0?(pathway.Interaction=[],gpmlPathway.selectAll("Interaction").each(function(){gpmlInteraction=d3.select(this),pathvisiojs.data.gpml.edge.interaction.toRenderableJson(gpml,gpmlInteraction,pathwayIri,function(jsonInteraction){pathway.Interaction.push(jsonInteraction)})}),callback(null,"Interactions are all converted.")):callback(null,"No interactions to convert.")}},function(){var groupsFrame,jsonGroups=[];pathway.Group?(groupsFrame={"@context":pathway["@context"],"@type":"GroupNode",contains:{}},jsonld.frame(pathway,groupsFrame,function(err,framedGroups){console.log("framedGroups"),console.log(framedGroups),framedGroups["@graph"].forEach(function(jsonGroup){jsonGroup.contains&&pathvisiojs.data.gpml.element.node.groupNode.calculateImplicitRenderingData(jsonGroup,function(updatedJsonGroup){console.log("jsonGroup in gpml.js"),console.log(jsonGroup),jsonGroups.push(updatedJsonGroup)})}),pathway.Group=jsonGroups,self.myPathway=pathway,callbackOutside(pathway)})):(self.myPathway=pathway,callbackOutside(pathway))})}return{toRenderableJson:toRenderableJson,getLineStyle:getLineStyle,getBorderStyle:getBorderStyle,setBorderStyleAsJson:setBorderStyleAsJson,gpmlColorToCssColor:gpmlColorToCssColor,setColorAsJson:setColorAsJson}}(),pathvisiojs.data.gpml.element={};var pathvisioDefaultStyleValues={FontSize:{Type:"FontSize",Value:10}};pathvisiojs.data.gpml.element.gpmlColorToCssColor=function(gpmlColor,pathvisioDefault){var color;return gpmlColor!==pathvisioDefault?gpmlColor?(color=new RGBColor(gpmlColor),color.ok?color.toHex():"black"):"black":null},pathvisiojs.data.gpml.element.setColorAsJson=function(jsonElement,currentGpmlColorValue,defaultGpmlColorValue){var jsonColor;return currentGpmlColorValue!==defaultGpmlColorValue&&(jsonColor=gpmlColorToCssColor(currentGpmlColorValue,defaultGpmlColorValue),jsonElement.color=jsonColor,jsonElement.borderColor=jsonColor,jsonElement.hasOwnProperty("text")&&(jsonElement.text.color=jsonColor)),jsonElement},pathvisiojs.data.gpml.element.setColorAsJson=function(jsonElement,currentGpmlColorValue,defaultGpmlColorValue){var jsonColor;return currentGpmlColorValue!==defaultGpmlColorValue&&(jsonColor=gpmlColorToCssColor(currentGpmlColorValue,defaultGpmlColorValue),jsonElement.color=jsonColor,jsonElement.borderColor=jsonColor,jsonElement.hasOwnProperty("text")&&(jsonElement.text.color=jsonColor)),jsonElement},pathvisiojs.data.gpml.element.getLineStyle=function(gpmlElement){var LineStyle,attributes,graphics=gpmlElement.select("Graphics");return graphics?(LineStyle=graphics.attr("LineStyle"),LineStyle?LineStyle:(attributes=gpmlElement.selectAll("Attribute"),attributes.length>0?(LineStyle=attributes.filter(function(){return"org.pathvisiojs.DoubleLineProperty"===d3.select(this).attr("Key")&&"Double"===d3.select(this).attr("Value")}),LineStyle[0].length>0?"double":null):null)):void 0},pathvisiojs.data.gpml.element.getBorderStyle=function(gpmlLineStyle,pathvisioDefault){var borderStyle,lineStyleToBorderStyleMapping={Solid:"solid",Double:"solid",Broken:"dashed"};return gpmlLineStyle!==pathvisioDefault?gpmlLineStyle?(borderStyle=lineStyleToBorderStyleMapping[gpmlLineStyle],borderStyle?borderStyle:(console.warn('LineStyle "'+gpmlLineStyle+'" does not have a corresponding borderStyle. Using "solid"'),"solid")):"solid":"whatever the default value is"},pathvisiojs.data.gpml.element.setBorderStyleAsJson=function(jsonElement,currentGpmlLineStyleValue,defaultGpmlLineStyleValue){var borderStyle;return currentGpmlLineStyleValue!==defaultGpmlLineStyleValue&&(borderStyle=getBorderStyle(currentGpmlLineStyleValue,defaultGpmlLineStyleValue),jsonElement.borderStyle=borderStyle),jsonElement},pathvisiojs.data.gpml.element.color={},pathvisiojs.data.gpml.element.color.swing="000000",pathvisiojs.data.gpml.element.color.gpml=null,pathvisiojs.data.gpml.element.fillColor={},pathvisiojs.data.gpml.element.fillColor.swing="ffffff",pathvisiojs.data.gpml.element.fillColor.gpml=null,pathvisiojs.data.gpml.element.lineStyle={},pathvisiojs.data.gpml.element.lineStyle.swing="Solid",pathvisiojs.data.gpml.element.lineStyle.gpml=null,pathvisiojs.data.gpml.element.fontSize={},pathvisiojs.data.gpml.element.fontSize.swing=10,pathvisiojs.data.gpml.element.fontSize.gpml=10,pathvisiojs.data.gpml.element.fontWeight={},pathvisiojs.data.gpml.element.fontWeight.swing=null,pathvisiojs.data.gpml.element.fontWeight.gpml=null,pathvisiojs.data.gpml.element.fontName={},pathvisiojs.data.gpml.element.fontName.swing="Arial",pathvisiojs.data.gpml.element.fontName.gpml=null,pathvisiojs.data.gpml.element.toRenderableJson=function(gpmlElement,jsonElement,elementCallback){jsonElement["@type"]=jsonElement["@type"]||[],jsonElement["@type"].push("element"),pathvisiojs.data.gpml.biopaxRef.getAllAsRenderableJson(gpmlElement,function(publicationXrefs){publicationXrefs&&(jsonElement.PublicationXref=publicationXrefs),elementCallback(jsonElement)})},pathvisiojs.data.gpml.text=function(){function toRenderableJson(gpmlNode,inputDefaultValues,textCallbackOutside){try{var jsonText,textAlign,verticalAlign,fontStyle,fontWeight,fontSize,fontFamily,thisPathvisioDefaultStyleValues=pathvisiojs.utilities.collect(pathvisioDefaultStyleValues.text,inputDefaultValues),text=gpmlNode.attr("TextLabel");if(text){jsonText={},jsonText["@id"]="id"+uuid.v4(),jsonText.tspan=text.split(/\r\n|\r|\n|&#xA;/g);var textAlign,fontStyle,fontWeight,fontSize,fontFamily,graphics=gpmlNode.select("Graphics");graphics[0][0]&&(textAlign=gpmlNode.select("Graphics").attr("Align")||"center",jsonText.textAlign=textAlign.toLowerCase(),verticalAlign=gpmlNode.select("Graphics").attr("Valign")||"middle",jsonText.verticalAlign=verticalAlign.toLowerCase(),fontStyle=gpmlNode.select("Graphics").attr("FontStyle"),fontStyle!==thisPathvisioDefaultStyleValues.FontStyle&&fontStyle&&(jsonText.fontStyle=fontStyle.toLowerCase()),fontWeight=gpmlNode.select("Graphics").attr("FontWeight"),fontWeight!==thisPathvisioDefaultStyleValues.FontWeight&&fontWeight&&(jsonText.fontWeight=fontWeight.toLowerCase()),fontSize=gpmlNode.select("Graphics").attr("FontSize")||10,parseFloat(fontSize)!==thisPathvisioDefaultStyleValues.FontSize&&fontSize&&(jsonText.fontSize=parseFloat(fontSize)),fontFamily=gpmlNode.select("Graphics").attr("FontName"),fontFamily!==thisPathvisioDefaultStyleValues.FontName&&fontFamily&&(jsonText.fontFamily=fontFamily)),textCallbackOutside(jsonText)}else textCallbackOutside(null)}catch(e){throw new Error("Error converting gpmlNode's text to renderable json: "+e.message)}}var pathvisioDefaultStyleValues={text:{Align:null,Valign:"Middle",FontStyle:null,FontName:null}};return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.namespaces=["http://pathvisio.org/GPML/2013a","http://genmapp.org/GPML/2010a","http://genmapp.org/GPML/2008a","http://genmapp.org/GPML/2007"],pathvisiojs.data.gpml.biopaxRef=function(){function getAllAsRenderableJson(gpmlElement,callback){var publicationXrefs,jsonPublicationXref,tagName=gpmlElement[0][0].tagName,biopaxRefs=gpmlElement.selectAll(tagName+" > BiopaxRef");biopaxRefs[0].length>0?(publicationXrefs=[],biopaxRefs.each(function(){jsonPublicationXref=d3.select(this)[0][0].textContent,publicationXrefs.push(jsonPublicationXref)}),callback(publicationXrefs)):callback(null)}return{getAllAsRenderableJson:getAllAsRenderableJson}}(),pathvisiojs.data.gpml.element.node=Object.create(pathvisiojs.data.gpml.element),pathvisiojs.data.gpml.element.node.shapeType=pathvisiojs.data.gpml.element.node.backgroundImage={},pathvisiojs.data.gpml.element.node.shapeType.swing="Rectangle",pathvisiojs.data.gpml.element.node.shapeType.gpml="Rectangle",pathvisiojs.data.gpml.element.node.valign=pathvisiojs.data.gpml.element.node.verticalAlign={},pathvisiojs.data.gpml.element.node.valign.swing="Middle",pathvisiojs.data.gpml.element.node.valign.gpml="Middle",pathvisiojs.data.gpml.element.node.align=pathvisiojs.data.gpml.element.node.textAlign={},pathvisiojs.data.gpml.element.node.align.swing="Center",pathvisiojs.data.gpml.element.node.align.gpml=null,pathvisiojs.data.gpml.element.node.padding={},pathvisiojs.data.gpml.element.node.padding.swing="0.5em",pathvisiojs.data.gpml.element.node.padding.gpml=null,pathvisiojs.data.gpml.element.node.lineThickness=pathvisiojs.data.gpml.element.node.borderWidth={},pathvisiojs.data.gpml.element.node.lineThickness.swing=1,pathvisiojs.data.gpml.element.node.lineThickness.gpml=null,pathvisiojs.data.gpml.element.node.lineStyle=pathvisiojs.data.gpml.element.node.borderStyle,pathvisiojs.data.gpml.element.node.setJsonBackgroundColor=function(jsonNode,currentGpmlFillColorValue,defaultGpmlFillColorValue){var jsonBackgroundColor;return currentGpmlFillColorValue!==defaultGpmlFillColorValue&&(jsonBackgroundColor=pathvisiojs.data.gpml.gpmlColorToCssColor(currentGpmlFillColorValue,defaultGpmlFillColorValue),jsonNode.backgroundColor=jsonBackgroundColor),jsonNode},pathvisiojs.data.gpml.element.node.getPorts=function(jsonNode,callback){var perpendicularUnitVector,rotate,getPerpendicularLine=function(sx,sy,rotate){var dx,dy,rad=rotate*Math.PI/180,sideAngleRotation=2*Math.PI-rad,sideAngleBeforeRotate=Math.atan2(sy,sx),dx=Math.cos(sideAngleBeforeRotate+sideAngleRotation-Math.PI/2),dy=Math.sin(sideAngleBeforeRotate+sideAngleRotation-Math.PI/2);return{dx:dx,dy:dy}},ports=[],relXYCombinations=[{RelX:-.5,RelY:-1},{RelX:0,RelY:-1},{RelX:.5,RelY:-1},{RelX:1,RelY:-.5},{RelX:1,RelY:0},{RelX:1,RelY:.5},{RelX:-.5,RelY:1},{RelX:0,RelY:1},{RelX:.5,RelY:1},{RelX:-1,RelY:-.5},{RelX:-1,RelY:0},{RelX:-1,RelY:.5}],side={};relXYCombinations.forEach(function(relXYCombination){1===Math.abs(relXYCombination.RelX)?(side.sx=relXYCombination.RelX,side.sy=0):(side.sx=0,side.sy=relXYCombination.RelY),rotate=jsonNode.rotate||0,perpendicularUnitVector=getPerpendicularLine(side.sx,side.sy,rotate),ports.push({x:jsonNode.x+jsonNode.width*(relXYCombination.RelX+1)/2,y:jsonNode.y+jsonNode.height*(relXYCombination.RelY+1)/2,positionRelative:{"@context":{position:{"@value":"relative"}},x:100*(relXYCombination.RelX+1)/2+"%",y:100*(relXYCombination.RelY+1)/2+"%"},dx:perpendicularUnitVector.dx,dy:perpendicularUnitVector.dy,"@type":"Port"})}),callback(ports)},pathvisiojs.data.gpml.element.node.toRenderableJson=function(gpmlNode,jsonNode,callback){jsonNode["@type"]=jsonNode["@type"]||[],jsonNode["@type"].push("node"),pathvisiojs.data.gpml.element.toRenderableJson(gpmlNode,jsonNode,function(jsonNode){callback(jsonNode)})},pathvisiojs.data.gpml.element.node.getPortCoordinates=function(boxDimensions,relX,relY){var port={};return port.x=boxDimensions.x+relX*boxDimensions.width,port.y=boxDimensions.y+relY*boxDimensions.height,port},pathvisiojs.data.gpml.element.node.groupNode=function(){function getGroupDimensions(group,groupContents,callback){console.log("group"),console.log(group),console.log("groupContents"),console.log(groupContents);var dimensions={};dimensions.topLeftCorner={},dimensions.topLeftCorner.x=99999,dimensions.topLeftCorner.y=99999,dimensions.bottomRightCorner={},dimensions.bottomRightCorner.x=0,dimensions.bottomRightCorner.y=0,groupContents.forEach(function(groupContent){"EntityNode"===groupContent.renderableType?(dimensions.topLeftCorner.x=Math.min(dimensions.topLeftCorner.x,groupContent.x),dimensions.topLeftCorner.y=Math.min(dimensions.topLeftCorner.y,groupContent.y),dimensions.bottomRightCorner.x=Math.max(dimensions.bottomRightCorner.x,groupContent.x+groupContent.width),dimensions.bottomRightCorner.y=Math.max(dimensions.bottomRightCorner.y,groupContent.y+groupContent.height)):(dimensions.topLeftCorner.x=Math.min(dimensions.topLeftCorner.x,groupContent.Point[0].x,groupContent.Point[groupContent.Point.length-1].x),dimensions.topLeftCorner.y=Math.min(dimensions.topLeftCorner.y,groupContent.Point[0].y,groupContent.Point[groupContent.Point.length-1].y),dimensions.bottomRightCorner.x=Math.max(dimensions.bottomRightCorner.x,groupContent.Point[0].x,groupContent.Point[groupContent.Point.length-1].x),dimensions.bottomRightCorner.y=Math.max(dimensions.bottomRightCorner.y,groupContent.Point[0].y,groupContent.Point[groupContent.Point.length-1].y)),dimensions.x=dimensions.topLeftCorner.x-group.padding-group.borderWidth,dimensions.y=dimensions.topLeftCorner.y-group.padding-group.borderWidth,dimensions.width=dimensions.bottomRightCorner.x-dimensions.topLeftCorner.x+2*(group.padding+group.borderWidth),dimensions.height=dimensions.bottomRightCorner.y-dimensions.topLeftCorner.y+2*(group.padding+group.borderWidth),callback(dimensions)})}function toRenderableJson(pathway,gpmlGroup,pathwayIri,callbackOutside){try{var groupId,shapeType,groupType,jsonGroup={},graphId=gpmlGroup.attr("GraphId")||"id"+uuid.v4();jsonGroup.GraphId=graphId,groupId=gpmlGroup.attr("GroupId")||"id"+uuid.v4(),jsonGroup["@id"]=pathwayIri+groupId,jsonGroup.GroupId=groupId,groupType=gpmlGroup.attr("Style")||"None";var shapeType=groupTypeToShapeTypeMappings[groupType];jsonGroup.ShapeType=shapeType||"rectangle",jsonGroup.renderableType="GroupNode",jsonGroup.nodeType="GroupNode",jsonGroup.groupType=groupType,jsonGroup["@type"]=[],jsonGroup["@type"].push(shapeType),jsonGroup["@type"].push("GroupNode"),jsonGroup["@type"].push(groupType);var groupTypeToPaddingValueMappings={Complex:11,Group:8,None:8,Pathway:8};jsonGroup.padding=groupTypeToPaddingValueMappings[groupType],jsonGroup.borderWidth=1,pathvisiojs.data.gpml.text.toRenderableJson(gpmlGroup,pathvisioDefaultStyleValues,function(text){console.log("text"),console.log(text),text&&(jsonGroup.text=text,jsonGroup.text.fontSize=32,jsonGroup.text.textAlign="center",jsonGroup.text.verticalAlign="middle"),pathvisiojs.data.gpml.element.node.toRenderableJson(gpmlGroup,jsonGroup,function(jsonGroup){callbackOutside(jsonGroup)})})}catch(e){throw new Error("Error converting Group to renderable json: "+e.message)}}function calculateImplicitRenderingData(jsonGroup,callbackOutside){console.log("jsonGroup"),console.log(jsonGroup);try{getGroupDimensions(jsonGroup,jsonGroup.contains,function(dimensions){jsonGroup.x=dimensions.x,jsonGroup.y=dimensions.y,jsonGroup.width=dimensions.width,jsonGroup.height=dimensions.height,pathvisiojs.data.gpml.element.node.getPorts(jsonGroup,function(ports){jsonGroup.Port=ports})})}catch(e){throw new Error("Error converting Group to renderable json: "+e.message)}finally{callbackOutside(jsonGroup)}}var groupTypeToShapeTypeMappings={Complex:"complex",Group:"rectangle",None:"rectangle",Pathway:"rectangle"},pathvisioDefaultStyleValues={FontSize:null,FontWeight:null};return{toRenderableJson:toRenderableJson,calculateImplicitRenderingData:calculateImplicitRenderingData}}(),pathvisiojs.data.gpml.element.node.entityNode=Object.create(pathvisiojs.data.gpml.element.node),pathvisiojs.data.gpml.element.node.entityNode.setJsonRotationValue=function(jsonNode,currentGpmlRotationValue,defaultGpmlRotationValue){return currentGpmlRotationValue!==defaultGpmlRotationValue&&(jsonNode.rotate=currentGpmlRotationValue+"deg"),jsonNode},pathvisiojs.data.gpml.element.node.entityNode.toRenderableJson=function(gpmlEntityNode,jsonEntityNode,pathvisioDefaultStyleValues,pathwayIri,EntityNodeCallback){var graphId=gpmlEntityNode.attr("GraphId")||"id"+uuid.v4();jsonEntityNode["@id"]=pathwayIri+graphId,jsonEntityNode.GraphId=graphId;var isContainedBy=gpmlEntityNode.attr("GroupRef");isContainedBy&&(jsonEntityNode.isContainedBy=pathwayIri+isContainedBy);var shapeType=gpmlEntityNode.select("Graphics").attr("ShapeType")||"rectangle";"None"===shapeType&&(shapeType="rectangle"),shapeType=strcase.paramCase(shapeType),jsonEntityNode.ShapeType=shapeType,jsonEntityNode.zIndex=parseFloat(gpmlEntityNode.select("Graphics").attr("ZOrder")),jsonEntityNode.renderableType="EntityNode",jsonEntityNode["@type"]=jsonEntityNode["@type"]||[],jsonEntityNode["@type"].push("EntityNode"),jsonEntityNode["@type"].push(shapeType);var groupedStatus=isContainedBy||"notGrouped";jsonEntityNode["@type"].push(groupedStatus);var borderWidth=gpmlEntityNode.select("Graphics").attr("LineThickness");borderWidth!==pathvisioDefaultStyleValues.LineThickness&&(jsonEntityNode.borderWidth=parseFloat(borderWidth)),borderWidth=jsonEntityNode.borderWidth||1;var gpmlWidth=parseFloat(gpmlEntityNode.select("Graphics").attr("Width"));jsonEntityNode.width=gpmlWidth+borderWidth;var gpmlHeight=parseFloat(gpmlEntityNode.select("Graphics").attr("Height"));jsonEntityNode.height=gpmlHeight+borderWidth;var centerX=parseFloat(gpmlEntityNode.select("Graphics").attr("CenterX"));jsonEntityNode.x=centerX-gpmlWidth/2;var centerY=parseFloat(gpmlEntityNode.select("Graphics").attr("CenterY"));jsonEntityNode.y=centerY-gpmlHeight/2,jsonEntityNode.padding="0.5em";var doubleProperty,attributes=gpmlEntityNode.selectAll("Attribute");attributes.length>0&&(doubleProperty=attributes.filter(function(){return"org.pathvisio.DoubleLineProperty"===d3.select(this).attr("Key")&&"Double"===d3.select(this).attr("Value")}),doubleProperty[0].length>0&&(jsonEntityNode.ShapeType=shapeType+"-double")),pathvisiojs.data.gpml.element.node.getPorts(jsonEntityNode,function(ports){jsonEntityNode.Port=ports,pathvisiojs.data.gpml.element.node.toRenderableJson(gpmlEntityNode,jsonEntityNode,function(jsonEntityNode){EntityNodeCallback(jsonEntityNode,ports)})})},pathvisiojs.data.gpml.element.node.entityNode.dataNode=Object.create(pathvisiojs.data.gpml.element.node.entityNode);var pathvisioDefaultStyleValues={DataNode:{LineStyle:null,FillColor:null,GeneProduct:{Color:null,FontSize:10,FontWeight:null},Protein:{Color:null,FontSize:10,FontWeight:null},Rna:{Color:null,FontSize:10,FontWeight:null},Unknown:{Color:null,FontSize:10,FontWeight:null},Pathway:{Color:"14961e",FontSize:12,FontWeight:"Bold"},Metabolite:{Color:"0000ff",FontSize:10,FontWeight:null}}};pathvisiojs.data.gpml.element.node.entityNode.dataNode.toRenderableJson=function(gpmlDataNode,pathwayIri,callbackInside){var jsonDataNode={},dataNodeType=gpmlDataNode.attr("Type");dataNodeType||(dataNodeType="Unknown"),jsonDataNode.nodeType="DataNode",jsonDataNode.dataNodeType=dataNodeType,jsonDataNode["@type"]=jsonDataNode["@type"]||[],jsonDataNode["@type"].push("DataNode"),jsonDataNode["@type"].push(dataNodeType);var thisPathvisioDefaultStyleValues=pathvisiojs.utilities.collect(pathvisioDefaultStyleValues.DataNode,pathvisioDefaultStyleValues.DataNode[dataNodeType]);pathvisiojs.data.gpml.element.node.entityNode.toRenderableJson(gpmlDataNode,jsonDataNode,thisPathvisioDefaultStyleValues,pathwayIri,function(jsonDataNode){var database,ID,datasourceReference=gpmlDataNode.select("Xref");datasourceReference&&(database=datasourceReference.attr("Database"),ID=datasourceReference.attr("ID"),database&&ID&&(jsonDataNode.DatasourceReference={},jsonDataNode.DatasourceReference.Database=database,jsonDataNode.DatasourceReference.ID=ID)),pathvisiojs.data.gpml.text.toRenderableJson(gpmlDataNode,thisPathvisioDefaultStyleValues,function(text){text&&(jsonDataNode.text=text),jsonDataNode=pathvisiojs.data.gpml.setBorderStyleAsJson(jsonDataNode,gpmlDataNode.select("Graphics").attr("LineStyle"),thisPathvisioDefaultStyleValues.LineStyle),jsonDataNode=pathvisiojs.data.gpml.setColorAsJson(jsonDataNode,gpmlDataNode.select("Graphics").attr("Color"),thisPathvisioDefaultStyleValues.Color),jsonDataNode=pathvisiojs.data.gpml.element.node.setJsonBackgroundColor(jsonDataNode,gpmlDataNode.select("Graphics").attr("FillColor"),thisPathvisioDefaultStyleValues.FillColor),callbackInside(jsonDataNode)})})},pathvisiojs.data.gpml.element.node.entityNode.label=Object.create(pathvisiojs.data.gpml.element.node.entityNode),pathvisiojs.data.gpml.element.node.entityNode.label.Rotation=null,pathvisiojs.data.gpml.element.node.entityNode.label.Color=null,pathvisiojs.data.gpml.element.node.entityNode.label.FillColor="ffffff",pathvisiojs.data.gpml.element.node.entityNode.label.FontSize=10,pathvisiojs.data.gpml.element.node.entityNode.label.FontWeight=null,pathvisiojs.data.gpml.element.node.entityNode.label.toRenderableJson=function(gpmlLabel,pathwayIri,callback){var jsonLabel={};jsonLabel.nodeType="Label",pathvisiojs.data.gpml.element.node.entityNode.toRenderableJson(gpmlLabel,jsonLabel,pathvisiojs.data.gpml.element.node.entityNode.label,pathwayIri,function(jsonLabel){pathvisiojs.data.gpml.text.toRenderableJson(gpmlLabel,pathvisiojs.data.gpml.element.node.entityNode.label,function(text){text&&(jsonLabel.text=text),jsonLabel=pathvisiojs.data.gpml.setColorAsJson(jsonLabel,gpmlLabel.select("Graphics").attr("Color"),pathvisiojs.data.gpml.element.node.entityNode.label.Color),jsonLabel=pathvisiojs.data.gpml.element.node.setJsonBackgroundColor(jsonLabel,gpmlLabel.select("Graphics").attr("FillColor"),pathvisiojs.data.gpml.element.node.entityNode.label.FillColor);var gpmlBackgroundColor=gpmlLabel.select("Graphics").attr("FillColor"),jsonBackgroundColor=pathvisiojs.data.gpml.gpmlColorToCssColor(gpmlBackgroundColor,pathvisiojs.data.gpml.element.node.entityNode.label.FillColor);jsonBackgroundColor&&(jsonLabel.backgroundColor=jsonBackgroundColor),callback(jsonLabel)})})},pathvisiojs.data.gpml.element.node.entityNode.shape=function(){function toRenderableJson(gpmlShape,pathwayIri,callback){console.log("gpmlShape at first"),console.log(gpmlShape),self.myGpmlShape=gpmlShape;var gpmlWidth,gpmlCenterX;"Triangle"===gpmlShape.select("Graphics").attr("ShapeType")&&(gpmlWidth=parseFloat(gpmlShape.select("Graphics").attr("Width")),gpmlCenterX=parseFloat(gpmlShape.select("Graphics").attr("CenterX")),gpmlShape.select("Graphics").attr("CenterX",gpmlCenterX+.27*gpmlWidth),gpmlShape.select("Graphics").attr("Width",.98*gpmlWidth),console.log("gpmlShape"),console.log(gpmlShape));
var jsonShape={};jsonShape.nodeType="Shape";var CellularComponent,attributes=gpmlShape.selectAll("Attribute");attributes.length>0&&(CellularComponent=attributes.filter(function(){return"org.pathvisio.CellularComponentProperty"===d3.select(this).attr("Key")&&"None"!==d3.select(this).attr("Value")}),CellularComponent[0].length>0&&(jsonShape.CellularComponent=CellularComponent.attr("Value")));var thisPathvisioDefaultStyleValues;thisPathvisioDefaultStyleValues=jsonShape.CellularComponent?pathvisiojs.utilities.collect(pathvisioDefaultStyleValues.Shape,pathvisioDefaultStyleValues.Shape[strcase.classCase(jsonShape.CellularComponent)]):pathvisioDefaultStyleValues.Shape,pathvisiojs.data.gpml.element.node.entityNode.toRenderableJson(gpmlShape,jsonShape,thisPathvisioDefaultStyleValues,pathwayIri,function(jsonShape){pathvisiojs.data.gpml.text.toRenderableJson(gpmlShape,thisPathvisioDefaultStyleValues,function(text){text&&(jsonShape.text=text),jsonShape=pathvisiojs.data.gpml.setColorAsJson(jsonShape,gpmlShape.select("Graphics").attr("Color"),thisPathvisioDefaultStyleValues.Color),jsonShape=pathvisiojs.data.gpml.element.node.setJsonBackgroundColor(jsonShape,gpmlShape.select("Graphics").attr("FillColor"),thisPathvisioDefaultStyleValues.FillColor),jsonShape=pathvisiojs.data.gpml.element.node.entityNode.setJsonRotationValue(jsonShape,gpmlShape.select("Graphics").attr("Rotation"),thisPathvisioDefaultStyleValues.Rotation),jsonShape=pathvisiojs.data.gpml.setBorderStyleAsJson(jsonShape,gpmlShape.select("Graphics").attr("LineStyle"),thisPathvisioDefaultStyleValues.LineStyle),callback(jsonShape)})})}var pathvisioDefaultStyleValues={Shape:{Rotation:"0.0",Color:null,FillColor:null,FontSize:10,FontWeight:null,LineStyle:null,LineThickness:null,Cell:{Color:"c0c0c0",LineStyle:"Broken"},Nucleus:{Color:"c0c0c0"},EndoplasmicReticulum:{Color:"c0c0c0"},GolgiApparatus:{Color:"c0c0c0"},Mitochondria:{Color:"c0c0c0"},SarcoplasmicReticulum:{Color:"c0c0c0"},Organelle:{Color:"c0c0c0"},Vesicle:{Color:"c0c0c0"},ExtracellularRegion:{Color:"c0c0c0"}}};return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.anchor=function(){function getFromEdge(gpmlAnchor,callback){self.gpmlAnchor=gpmlAnchor;var jsonAnchor={};try{jsonAnchor.id=gpmlAnchor.attr("GraphId"),jsonAnchor.parentId=gpmlAnchor[0][0].parentNode.parentNode.attributes.GraphId.textContent,jsonAnchor.position=gpmlAnchor.attr("Position"),jsonAnchor.renderableType="anchor",callback(jsonAnchor)}catch(e){console.log("Error converting anchor to renderable json: "+e.message)}}function getAllFromNode(jsonNode){self.jsonNode=jsonNode;var parentId,renderableType,id,x,y,sideOffsetX,sideOffsetY,positionOffsetX,positionOffsetY,jsonAnchors=[],elementSides=[{side:"top",dx:0,dy:-1},{side:"right",dx:1,dy:0},{side:"bottom",dx:0,dy:1},{side:"left",dx:-1,dy:0}],anchorPositions=[.25,.5,.75];try{return parentId=jsonNode.id,renderableType="anchor",elementSides.forEach(function(element){sideOffsetX=Math.max(element.dx,0)*jsonNode.width,sideOffsetY=Math.max(element.dy,0)*jsonNode.height,anchorPositions.forEach(function(position){id=String(jsonNode.id)+String(element.side)+String(position),positionOffsetX=Math.abs(element.dy)*position*jsonNode.width,positionOffsetY=Math.abs(element.dx)*position*jsonNode.height,x=jsonNode.x+sideOffsetX+positionOffsetX,y=jsonNode.y+sideOffsetY+positionOffsetY,jsonAnchors.push({parentId:jsonNode.id,renderableType:"anchor",side:element.side,dx:element.dx,dy:element.dy,id:id,position:position,x:x,y:y})})}),jsonAnchors}catch(e){console.log("Error converting anchor to renderable json: "+e.message)}}return{getFromEdge:getFromEdge,getAllFromNode:getAllFromNode}}(),pathvisiojs.data.gpml.edge=function(){function toRenderableJson(gpmlEdge,pathwayIri,callback){var jsonAnchorEdge,anchor,points,jsonEdge={},graphId=gpmlEdge.attr("GraphId")||"id"+uuid.v4(),elementIri=pathwayIri+graphId;jsonEdge["@id"]=elementIri,jsonEdge.GraphId=graphId;var isContainedBy=gpmlEdge.attr("GroupRef"),dependsOn=[];isContainedBy&&(jsonEdge.isContainedBy=isContainedBy,dependsOn.push(pathwayIri+isContainedBy)),jsonEdge.zIndex=parseFloat(gpmlEdge.select("Graphics").attr("ZOrder"));var points=gpmlEdge.selectAll("Point");jsonEdge["@type"]=["element","SvgPath","Edge",isContainedBy||"notGrouped"];var point,pointObj;jsonEdge.Point=[],points.each(function(){point=d3.select(this),pointObj={};var relX=parseFloat(point.attr("RelX")),relY=parseFloat(point.attr("RelY"));null!==relX&&void 0!==relX&&null!==relY&&void 0!==relY?(pointObj["@type"]="SnappedPoint",dependsOn.push(pathwayIri+point.attr("GraphRef")),pointObj.hasReference=pathwayIri+point.attr("GraphRef"),pointObj.RelX=relX,pointObj.RelY=relY,pointObj.x=parseFloat(point.attr("X")),pointObj.y=parseFloat(point.attr("Y"))):(pointObj["@type"]="GraphicalPoint",pointObj.x={},pointObj.x=parseFloat(point.attr("X")),pointObj.y=parseFloat(point.attr("Y"))),jsonEdge.Point.push(pointObj)});var connectorType=gpmlEdge.select("Graphics").attr("ConnectorType")||"Straight";jsonEdge.ConnectorType=""+connectorType;var stroke=gpmlEdge.select("Graphics").attr("Color");stroke&&(jsonEdge.stroke=stroke);var strokeWidth=gpmlEdge.select("Graphics").attr("LineThickness");strokeWidth&&(jsonEdge.strokeWidth=parseFloat(strokeWidth));var jsonAnchorEdges=gpmlEdge.selectAll("Anchor");jsonAnchorEdges[0].length>0&&(jsonEdge.Anchor=[],jsonAnchorEdges.each(function(){jsonAnchorEdge={},anchor=d3.select(this),elementIri=pathwayIri+anchor.attr("GraphId"),jsonAnchorEdge["@id"]=pathwayIri+anchor.attr("GraphId"),jsonAnchorEdge["@type"]=["element","Edge","Anchor"],jsonAnchorEdge.dependsOn=jsonEdge["@id"],jsonAnchorEdge.anchorPosition=anchor.attr("Position"),jsonEdge.Anchor.push(jsonAnchorEdge)})),pathvisiojs.data.gpml.element.toRenderableJson(gpmlEdge,jsonEdge,function(jsonEdge){callback(jsonEdge)})}return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.edge.interaction=function(){function getGpmlArrowHeadNameFromSemanticName(semanticName){for(gpmlArrowHeadName in gpmlArrowHeadToSemanticMappings)if(gpmlArrowHeadToSemanticMappings[gpmlArrowHeadName]===semanticName)return gpmlArrowHeadName;return gpmlArrowHeadName||(gpmlArrowHeadName=semanticName,console.warn('No GPML ArrowHead name found for semantic name "'+semanticName+'". Returning original semantic name as GPML ArrowHead name. PathVisio-Java will delete this ArrowHead from the GPML file if it edits this file.')),gpmlArrowHeadName}function getSemanticNameFromGpmlArrowHeadName(gpmlArrowHeadName){var semanticName;return gpmlArrowHeadName?(semanticName=gpmlArrowHeadToSemanticMappings[gpmlArrowHeadName],semanticName||(semanticName=gpmlArrowHeadName,console.warn('No semantic name found for GPML ArrowHead name "'+gpmlArrowHeadName+'". Returning original GPML ArrowHead name as semantic name.'))):semanticName="Unspecified",semanticName}function toRenderableJson(gpml,gpmlInteraction,pathwayIri,callback){var points,interactionType,target,targetId;pathvisiojs.data.gpml.edge.toRenderableJson(gpmlInteraction,pathwayIri,function(jsonInteraction){function buildInteractionGraph(gpmlSource,gpmlTarget,callbackBIG){var InteractionGraphMember={};interactionType=getSemanticNameFromGpmlArrowHeadName(gpmlTarget.getAttribute("ArrowHead"));var interactionTypeExistenceCheck;interactionType?(jsonInteraction.InteractionGraph=jsonInteraction.InteractionGraph||[],InteractionGraphMember["@id"]=pathwayIri+gpmlSource.getAttribute("GraphRef"),targetId=gpmlTarget.getAttribute("GraphRef"),targetId&&(target=gpml.querySelector("[GraphId="+targetId+"]"),"Anchor"===target.tagName&&(targetId=target.parentElement.parentElement.getAttribute("GraphId")),InteractionGraphMember.interactsWith=pathwayIri+targetId,InteractionGraphMember.interactionType=interactionType),interactionTypeExistenceCheck=jsonInteraction["@type"].indexOf(interactionType),-1===interactionTypeExistenceCheck?jsonInteraction["@type"].push(interactionType):jsonInteraction["@type"].push("Bidirectional-"+interactionType),jsonInteraction.InteractionGraph.push(InteractionGraphMember),callbackBIG(InteractionGraphMember,strcase.paramCase(interactionType))):callbackBIG(null,"unspecified")}jsonInteraction["@type"].push("Interaction"),jsonInteraction.renderableType="Interaction",points=gpmlInteraction.selectAll("Point");var database,ID,datasourceReference=gpmlInteraction.select("Xref");datasourceReference&&(database=datasourceReference.attr("Database"),ID=datasourceReference.attr("ID"),database&&ID&&(jsonInteraction.DatasourceReference={},jsonInteraction.DatasourceReference.Database=database,jsonInteraction.DatasourceReference.ID=ID));var firstPoint=points[0][0],firstGpmlArrowHeadName=firstPoint.getAttribute("ArrowHead"),lastPoint=points[0][points[0].length-1],lastGpmlArrowHeadName=lastPoint.getAttribute("ArrowHead");firstGpmlArrowHeadName&&lastGpmlArrowHeadName?(buildInteractionGraph(lastPoint,firstPoint,function(){}),buildInteractionGraph(firstPoint,lastPoint,function(){})):firstGpmlArrowHeadName||lastGpmlArrowHeadName?(firstGpmlArrowHeadName&&buildInteractionGraph(lastPoint,firstPoint,function(){}),lastGpmlArrowHeadName&&buildInteractionGraph(firstPoint,lastPoint,function(){})):(lastPoint.setAttribute("ArrowHead","Line"),buildInteractionGraph(firstPoint,lastPoint,function(){})),jsonInteraction.markerStart=firstGpmlArrowHeadName?strcase.paramCase(firstGpmlArrowHeadName):"none",jsonInteraction.markerEnd=lastGpmlArrowHeadName?strcase.paramCase(lastGpmlArrowHeadName):"none",callback(jsonInteraction)})}var gpmlArrowHeadToSemanticMappings={Arrow:"Activity",TBar:"InhibitoryActivity","mim-catalysis":"Catalysis","mim-inhibition":"Inhibition","mim-branching-left":"mim-branching-left","mim-branching-right":"mim-branching-right","mim-necessary-stimulation":"NecessaryStimulation","mim-binding":"Binding","mim-conversion":"Conversion","mim-stimulation":"Stimulation","mim-modification":"Modification","mim-cleavage":"Cleavage","mim-covalent-bond":"CovalentBond","mim-transcription-translation":"TranscriptionTranslation","mim-gap":"Gap",Line:"Unspecified"};return{toRenderableJson:toRenderableJson,getGpmlArrowHeadNameFromSemanticName:getGpmlArrowHeadNameFromSemanticName,getSemanticNameFromGpmlArrowHeadName:getSemanticNameFromGpmlArrowHeadName}}(),pathvisiojs.data.gpml.edge.graphicalLine=function(){function toRenderableJson(gpml,gpmlGraphicalLine,pathwayIri,callback){var points;pathvisiojs.data.gpml.edge.toRenderableJson(gpmlGraphicalLine,pathwayIri,function(jsonGraphicalLine){jsonGraphicalLine["@type"].push("GraphicalLine"),jsonGraphicalLine.renderableType="GraphicalLine",points=gpmlGraphicalLine.selectAll("Point");var firstPoint=points[0][0];jsonGraphicalLine.markerStart=firstPoint.getAttribute("ArrowHead")?strcase.paramCase(firstPoint.getAttribute("ArrowHead")):"none";var lastPoint=points[0][points[0].length-1];lastPoint.getAttribute("ArrowHead")?jsonGraphicalLine.markerEnd=strcase.paramCase(lastPoint.getAttribute("ArrowHead")):(console.log("markerEnd = none"),jsonGraphicalLine.markerEnd="none"),jsonGraphicalLine.ConnectorType="Straight",callback(jsonGraphicalLine)})}return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.edge.point=function(){function toRenderableJson(gpmlPoint,callback){var jsonPoint={};try{jsonPoint.x=parseFloat(gpmlPoint.attr("X")),jsonPoint.y=parseFloat(gpmlPoint.attr("Y"));var side,position,relX=String(gpmlPoint.attr("RelX")),relY=String(gpmlPoint.attr("RelY"));relX&&relY&&"null"!=relX&&"null"!=relY&&("0.0"==relX&&"0.0"==relY?jsonPoint.anchorId=gpmlPoint.attr("GraphRef"):(side=void 0!==gpmlRelXToJsonSideAndPositionMapping[relX].side?gpmlRelXToJsonSideAndPositionMapping[relX].side:gpmlRelYToJsonSideAndPositionMapping[relY].side,position=void 0!==gpmlRelXToJsonSideAndPositionMapping[relX].position?gpmlRelXToJsonSideAndPositionMapping[relX].position:gpmlRelYToJsonSideAndPositionMapping[relY].position,jsonPoint.anchorId=String(gpmlPoint.attr("GraphRef"))+String(side)+String(position))),callback(jsonPoint)}catch(e){return console.log("Error converting point to json: "+e.message),e}}var gpmlRelXToJsonSideAndPositionMapping={"-1.0":{side:"left"},"-0.5":{position:.25},"0.0":{position:.5},.5:{position:.75},"1.0":{side:"right"}},gpmlRelYToJsonSideAndPositionMapping={"-1.0":{side:"top"},"-0.5":{position:.25},"0.0":{position:.5},.5:{position:.75},"1.0":{side:"bottom"}};return{toRenderableJson:toRenderableJson}}(),pathvisiojs.view=pathvisiojs.view||{},pathvisiojs.view.annotation=function(){function render(annotationData){self.annotationData=annotationData;var annotation=d3.select("#annotation").data([annotationData]),dragAbs=d3.behavior.drag().on("drag",function(){var dright=parseInt(annotation.style("right")),dtop=parseInt(annotation.style("top"));dright-=d3.event.dx,dtop+=d3.event.dy,annotation.style("right",dright+"px"),annotation.style("top",dtop+"px")});annotation.select("#annotation-header-text").text(function(d){return d.header}),annotation.select("#annotation-header-search").select("a").attr("href",function(d){return"http://wikipathways.org//index.php?title=Special:SearchPathways&doSearch=1&query="+d.header}).attr("title",function(d){return"Search for pathways containing "+d.header}),annotation.select("i.icon-move").on("mousedown",function(){annotation.call(dragAbs)}).on("mouseup",function(){annotation.on("mousedown.drag",null)}),annotation.select("i.icon-remove").on("click",function(){annotation[0][0].style.visibility="hidden"});var annotationDescription=annotation.select("#annotation-description").text(function(d){return d.description}),annotationListItemsContainer=annotation.selectAll("#annotation-items-container").data(function(d){return"string"==typeof d.listItems[0]?(annotationDescription.append("br"),annotationDescription.append("br"),annotationDescription.append("img").attr("src",d.listItems[0]).attr("style","width: 20px"),[{key:"clear",values:[{clear:"clear"}]}]):[d.listItems]}),annotationListItems=annotationListItemsContainer.selectAll("li").data(function(d){return d});annotationListItems.enter().append("li"),annotationListItems.exit().remove();var annotationItemTitles=annotationListItems.selectAll(".annotation-item-title").data(function(d){return[d.key]}).text(function(d){return d+": "});annotationItemTitles.enter().append("span").attr("class","annotation-item-title").text(function(d){return d+": "}),annotationItemTitles.exit().remove();var annotationItemPlainTextElements=annotationListItems.selectAll("span.annotation-item-text").data(function(d){return d.values.filter(function(element){return element.hasOwnProperty("uri")?void 0:element})}).text(function(d){return" "+d.text});annotationItemPlainTextElements.enter().append("span").attr("class","annotation-item-text").text(function(d){return" "+d.text}),annotationItemPlainTextElements.exit().remove();var annotationItemLinkedTextElements=annotationListItems.selectAll("a.annotation-item-text").data(function(d){return d.values.filter(function(element){return element.hasOwnProperty("uri")?element:void 0})}).attr("href",function(d){return d.uri}).attr("class","annotation-item-text").text(function(d){return" "+d.text});annotationItemLinkedTextElements.enter().append("a").attr("href",function(d){return d.uri}).attr("class","annotation-item-text").text(function(d){return" "+d.text}),annotationItemLinkedTextElements.exit().remove(),annotation[0][0].style.visibility="visible"}return{render:render}}(),pathvisiojs.view.annotation.citation=function(){function render(){}return{render:render}}(),pathvisiojs.view.annotation.xRef=function(){function render(organism,id,datasource,label,desc){var data=getCachedAnnotationData(organism,id,datasource);if(data)pathvisiojs.view.annotation.render(data);else{var data={header:label,description:desc,listItems:["../src/img/loading.gif"]};pathvisiojs.view.annotation.render(data),pathvisiojs.data.bridgedb.getXrefAnnotationDataByDataNode(organism,id,datasource,label,desc,function(annotationData){setCachedAnnotationData(organism,id,datasource,annotationData),pathvisiojs.view.annotation.render(annotationData)})}}function getCachedAnnotationData(organism,id,datasource){return cachedAnnotationData[organism+id+datasource]}function setCachedAnnotationData(organism,id,datasource,data){cachedAnnotationData[organism+id+datasource]=data}var cachedAnnotationData={};return{render:render}}(),pathvisiojs.view.pathwayDiagram=function(){function load(args){if(!args.container)throw new Error("No container selector specified as container for pathvisiojs.");if(!args.data)throw new Error("No input data source (URL or WikiPathways ID) specified.");var containerSelector=args.container,parsedInputData=args.data,fitToContainer=args.fitToContainer,cssUrl=args.cssUrl,customMarkers=args.customMarkers,customSymbols=args.customSymbols;args.highlightNodes,args.hiddenElements,async.waterfall([function(callback){var container=d3.select(containerSelector);if(1!==container.length)throw new Error("Container selector must be matched by exactly one element.");var boundingClientRect=container[0][0].getBoundingClientRect(),containerWidth=boundingClientRect.width-40,containerHeight=boundingClientRect.height-20;callback(null,container,containerWidth,containerHeight)},function(container,containerWidth,containerHeight,callback){var svg,pathway,loadDiagramArgs={};loadDiagramArgs.parsedInputData=parsedInputData,loadDiagramArgs.container=container,loadDiagramArgs.containerWidth=containerWidth,loadDiagramArgs.containerHeight=containerHeight,loadDiagramArgs.fitToContainer=fitToContainer,Modernizr.svg?async.parallel({preloadSvg:function(callback){var preloadDiagramArgs={};preloadDiagramArgs.container=container,preloadDiagramArgs.customMarkers=customMarkers,preloadDiagramArgs.customSymbols=customSymbols,preloadDiagramArgs.cssUrl=cssUrl,pathvisiojs.view.pathwayDiagram.svg.loadPartials(preloadDiagramArgs,function(svg){callback(null,svg)})},pathway:function(callback){pathvisiojs.getJson(parsedInputData,function(json){pathvisiojs.context=json["@context"],console.log("json"),console.log(json),callback(null,json)})}},function(err,results){svg=results.preloadSvg,pathway=results.pathway,loadDiagramArgs.svg=svg,loadDiagramArgs.pathway=pathway,pathvisiojs.view.pathwayDiagram.svg.load(loadDiagramArgs,function(svg){var nodeLabels,nodeLabel;pathway?(nodeLabels=[],pathway.hasOwnProperty("DataNode")&&(pathway.DataNode.forEach(function(node){node.text&&nodeLabels.push(node.text.tspan[0])}),$("#highlight-by-label-input").typeahead({name:"Highlight node in pathway",local:nodeLabels,limit:10})),$("#highlight-by-label-input").bind("typeahead:selected",function(){if(nodeLabel=$("#highlight-by-label-input").val(),!nodeLabel)throw new Error("No data node value entered for type-ahead node highlighter.");pathvisiojs.view.pathwayDiagram.svg.node.highlightByLabel(svg,pathway,nodeLabel)}),callback(null,"svg loaded")):callback(null)})}):pathvisiojs.view.pathwayDiagram.png.load(loadDiagramArgs,function(){callback(null,"png loaded")})}],function(){d3.select("body").append("span").attr("id","pathvisiojs-is-loaded"),console.log("Pathvisiojs done loading.")})}return{load:load}}(),pathvisiojs.view.pathwayDiagram.pathFinder=function(){function initGrid(nodes,pathwayImageWidth,pathwayImageHeight,callback){var gridData={};nodes=d3.select(nodes).sort(function(node1,node2){Math.min(node1.height,node1.width)-Math.min(node2.height,node2.width)})[0][0],gridData.squareLength=Math.min(nodes[0].height,nodes[0].width)/14,gridData.padding=Math.ceil(22/gridData.squareLength),gridData.totalColumnCount=Math.ceil(pathwayImageWidth/gridData.squareLength),gridData.totalRowCount=Math.ceil(pathwayImageHeight/gridData.squareLength),generateEntirelyWalkableMatrix(gridData.totalRowCount,gridData.totalColumnCount,function(entirelyWalkableMatrix){gridData.emptyGrid=new PF.Grid(gridData.totalColumnCount,gridData.totalRowCount,entirelyWalkableMatrix),gridData.entirelyWalkableMatrix=entirelyWalkableMatrix,callback(gridData)})}function getPath(svg,edge,callbackOutside){var workingGrid,gridData=svg[0][0].pathvisiojs.gridData,Point=edge.Point,pointStart=Point[0],pointEnd=Point[Point.length-1],startLocation=xYCoordinatesToMatrixLocation(pointStart.x,pointStart.y,gridData.squareLength),endLocation=xYCoordinatesToMatrixLocation(pointEnd.x,pointEnd.y,gridData.squareLength),finder=new PF.BiBreadthFirstFinder({allowDiagonal:!1,dontCrossCorners:!0}),edgeGraphRefNodes=[];edgeGraphRefNodes.push(edge.InteractionGraph[0]);var targetNode;targetNode=edge.InteractionGraph[edge.InteractionGraph.length-1],targetNode&&edge.InteractionGraph.length>1&&edgeGraphRefNodes.push(targetNode);var pathData=[];async.waterfall([function(callback){generateGrid(gridData,edgeGraphRefNodes,null,function(grid){callback(null,grid)})},function(grid,callback){workingGrid=grid,runPathFinder(workingGrid,finder,Point,pointStart,pointEnd,startLocation,endLocation,gridData.squareLength,function(data){pathData=data,callback(null)})},function(){pathData.length<3?(workingGrid=gridData.emptyGrid.clone(),runPathFinder(workingGrid,finder,Point,pointStart,pointEnd,startLocation,endLocation,gridData.squareLength,function(data){pathData=data,pathData.push({x:pointEnd.x,y:pointEnd.y}),callbackOutside(pathData)})):callbackOutside(pathData)}])}function xYCoordinatesToMatrixLocation(x,y,squareLength){var results={};return results.column=Math.floor(x/squareLength),results.row=Math.floor(y/squareLength),results}function generateEntirelyWalkableMatrix(totalRowCount,totalColumnCount,callback){for(var entirelyWalkableMatrix=[],currentRow=0;totalRowCount>currentRow;currentRow++){entirelyWalkableMatrix[currentRow]=[];for(var currentColumn=0;totalColumnCount>currentColumn;currentColumn++)entirelyWalkableMatrix[currentRow][currentColumn]=0}callback(entirelyWalkableMatrix)}function populateMatrix(args,callback){if(!args)throw new Error("No args specified.");if(!args.inputMatrix)throw new Error("No inputMatrix specified.");if(!args.padding)throw new Error("No padding specified.");if(!args.squareLength)throw new Error("No squareLength specified.");if(!args.totalRowCount)throw new Error("No totalRowCount specified.");if(!args.totalColumnCount)throw new Error("No totalColumnCount specified.");args.nodes||(console.warn("No nodes specified. Returning unmodified inputMatrix."),callback(args.inputMatrix));var upperLeftCorner,lowerRightCorner,rowStart,rowEnd,columnStart,columnEnd,populatedMatrix=args.inputMatrix;args.nodes.forEach(function(node){upperLeftCorner=xYCoordinatesToMatrixLocation(node.x,node.y,args.squareLength),lowerRightCorner=xYCoordinatesToMatrixLocation(node.x+node.width,node.y+node.height,args.squareLength),columnStart=Math.max(upperLeftCorner.column-args.padding,0),columnEnd=Math.min(lowerRightCorner.column+args.padding,args.totalColumnCount-1),rowStart=Math.max(upperLeftCorner.row-args.padding,0),rowEnd=Math.min(lowerRightCorner.row+args.padding,args.totalRowCount-1);for(var currentRow=rowStart;rowEnd+1>currentRow;currentRow++)for(var currentColumn=columnStart;columnEnd+1>currentColumn;currentColumn++)populatedMatrix[currentRow][currentColumn]=1}),callback(populatedMatrix)}function generateGrid(gridData,edgeGraphRefNodes,otherNodes,callback){if(!gridData)throw new Error("No gridData specified.");if(!gridData.entirelyWalkableMatrix)throw new Error("No entirelyWalkableMatrix specified.");if(!gridData.padding)throw new Error("No padding specified.");if(!gridData.squareLength)throw new Error("No squareLength specified.");if(!gridData.totalRowCount)throw new Error("No totalRowCount specified.");if(!gridData.totalColumnCount)throw new Error("No totalColumnCount specified.");async.parallel({populatedMatrix:function(populateMatrixCallback){async.waterfall([function(waterfallCallback){populateMatrix({nodes:edgeGraphRefNodes,inputMatrix:pathvisiojs.utilities.clone(gridData.entirelyWalkableMatrix),padding:gridData.padding,squareLength:gridData.squareLength,totalRowCount:gridData.totalRowCount,totalColumnCount:gridData.totalColumnCount},function(populatedMatrix){waterfallCallback(null,populatedMatrix)})},function(populatedMatrix){otherNodes?populateMatrix({nodes:otherNodes,inputMatrix:populatedMatrix,padding:1,squareLength:gridData.squareLength,totalRowCount:gridData.totalRowCount,totalColumnCount:gridData.totalColumnCount},function(populatedMatrix){populateMatrixCallback(null,populatedMatrix)}):populateMatrixCallback(null,populatedMatrix)}])},ports:function(populateMatrixCallback){var portFrame={"@context":pathvisiojs.context,"@type":"Port"},allNodesContainer={};allNodesContainer["@context"]=pathvisiojs.context,allNodesContainer.DataNode=edgeGraphRefNodes,otherNodes&&otherNodes.forEach(function(node){allNodesContainer.DataNode=allNodesContainer.DataNode.concat(node)}),jsonld.frame(allNodesContainer,portFrame,function(err,ports){populateMatrixCallback(null,ports["@graph"])})}},function(err,results){var grid,populatedMatrix=results.populatedMatrix,ports=results.ports;if(ports){var column1,column2,row1,row2,portLocation,columnStart,columnEnd,rowStart,rowEnd;ports.forEach(function(port){portLocation=xYCoordinatesToMatrixLocation(port.x,port.y,gridData.squareLength),column1=Math.max(Math.min(portLocation.column-gridData.padding*port.dy,gridData.totalColumnCount-1),0),column2=Math.max(Math.min(portLocation.column+port.dy,gridData.totalColumnCount-1),0),columnStart=Math.min(column1,column2),columnEnd=Math.max(column1,column2),row1=Math.max(Math.min(portLocation.row-port.dx,gridData.totalRowCount-1),0),row2=Math.max(Math.min(portLocation.row+gridData.padding*port.dx,gridData.totalRowCount-1),0),rowStart=Math.min(row1,row2),rowEnd=Math.max(row1,row2);for(var currentRow=rowStart;rowEnd+1>currentRow;currentRow++){populatedMatrix[currentRow]=populatedMatrix[currentRow]||[];for(var currentColumn=columnStart;columnEnd+1>currentColumn;currentColumn++)populatedMatrix[currentRow][currentColumn]=0}}),grid=new PF.Grid(gridData.totalColumnCount,gridData.totalRowCount,populatedMatrix),callback(grid)}else grid=new PF.Grid(gridData.totalColumnCount,gridData.totalRowCount,populatedMatrix),callback(grid)})}function runPathFinder(workingGrid,finder,Point,pointStart,pointEnd,startLocation,endLocation,squareLength,callback){var blockyPath=finder.findPath(startLocation.column,startLocation.row,endLocation.column,endLocation.row,workingGrid),compressedMidPoint=[],index=0;if(blockyPath.length>3)do index+=1,blockyPath[index-1][0]-blockyPath[index+1][0]&&blockyPath[index-1][1]!==blockyPath[index+1][1]&&compressedMidPoint.push([blockyPath[index][0],blockyPath[index][1]]);while(index<blockyPath.length-2);var fullXYPath=[];compressedMidPoint.forEach(function(element,index){fullXYPath.push({x:compressedMidPoint[index][0]*squareLength,y:compressedMidPoint[index][1]*squareLength})}),fullXYPath.unshift({x:pointStart.x,y:pointStart.y}),fullXYPath.push({x:pointEnd.x,y:pointEnd.y});var smootherPath=[];if(index=0,fullXYPath.length>2)do index+=1,(Math.abs(fullXYPath[index].x-fullXYPath[index-1].x)>2*squareLength||Math.abs(fullXYPath[index+1].x-fullXYPath[index].x)>2*squareLength)&&(Math.abs(fullXYPath[index].y-fullXYPath[index-1].y)>2*squareLength||Math.abs(fullXYPath[index+1].y-fullXYPath[index].y)>2*squareLength)&&smootherPath.push(fullXYPath[index]);while(index<fullXYPath.length-2);smootherPath.unshift({x:pointStart.x,y:pointStart.y}),smootherPath.push({x:pointEnd.x,y:pointEnd.y}),2===smootherPath.length?Math.abs(smootherPath[1].x-pointStart.x)<Math.abs(smootherPath[1].x-pointEnd.x)?(smootherPath[1].x=pointStart.x,smootherPath[1].y=pointEnd.y):(smootherPath[1].x=pointEnd.x,smootherPath[1].y=pointStart.y):(Math.abs(smootherPath[1].x-pointStart.x)<Math.abs(smootherPath[1].y-pointStart.y)?smootherPath[1].x=pointStart.x:smootherPath[1].y=pointStart.y,Math.abs(smootherPath[smootherPath.length-2].x-pointEnd.x)<Math.abs(smootherPath[smootherPath.length-2].y-pointEnd.y)?smootherPath[smootherPath.length-2].x=pointEnd.x:smootherPath[smootherPath.length-2].y=pointEnd.y),callback(smootherPath)}return{initGrid:initGrid,getPath:getPath}}(),pathvisiojs.view.pathwayDiagram.svg=function(){function setCTM(element,scale){var s="matrix("+scale+",0,0,"+scale+",10,20)";element.attr("transform",s)}function load(args,callback){var svg=args.svg,pathway=args.pathway,containerWidth=(args.container,args.containerWidth),containerHeight=args.containerHeight,fitToContainer=args.fitToContainer;if(args.pathway.image.width,args.pathway.image.height,!svg)throw new Error("Missing svg.");if(!pathway)throw new Error("Missing pathway.");async.series([function(callback){pathvisiojs.view.pathwayDiagram.svg.renderFast(svg,pathway,function(){callback(null)})},function(callback){d3.select("#loading-icon").remove();var initialClickHappened=!1;svg.on("click",function(){svgPanZoom.enableZoom(),initialClickHappened=!0}).on("mouseover",function(){initialClickHappened&&svgPanZoom.enableZoom()}).on("mouseout",function(){initialClickHappened&&svgPanZoom.disableZoom()});var fitScreenScale,viewport=svg.select("#viewport");fitToContainer&&(fitScreenScale=Math.min(containerWidth/args.pathway.image.width,containerHeight/args.pathway.image.height),setCTM(viewport,fitScreenScale)),svgPanZoom.init({root:"svg",zoomEnabled:!1}),callback(null)}],function(){callback()})}function loadPartials(args,callbackOutside){var pathvisioJsContainer,pathwayContainer,container=args.container,customMarkers=args.customMarkers,customSymbols=args.customSymbols,cssUrl=args.cssUrl;async.series([function(callback){container.html(pathvisioNS["tmp/pathvisiojs.html"]),pathvisioJsContainer=container.select("#pathvisio-js-container"),pathwayContainer=pathvisioJsContainer.select("#pathway-container"),svg=pathvisioJsContainer.select("#pathway-svg"),svg.attr("style","display: inline; width: inherit; min-width: inherit; max-width: inherit; height: inherit; min-height: inherit; max-height: inherit; ").attr("preserveAspectRatio","xMidYMid"),callback(null)},function(callback){args.customMarkers?pathvisiojs.view.pathwayDiagram.svg.edge.marker.loadAllCustom(svg,customMarkers,function(){callback(null)}):callback(null)},function(callback){args.customSymbols?pathvisiojs.view.pathwayDiagram.svg.symbol.loadAllCustom(svg,customSymbols,function(){callback(null)}):callback(null)},function(callback){cssUrl?d3.text(cssUrl,"text/css",function(data){var defs=svg.select("defs"),style=defs.append("style").attr("type","text/css");style.text(data),callback(null)}):callback(null)}],function(){callbackOutside(svg)})}function renderSelectedElementsFast(args,callbackOutside){if(console.log("args"),console.log(args),!args.container)throw new Error("No container specified.");if(!args.data)throw new Error("No data entered to render.");if(!args.svg)throw new Error("No svg specified.");if(!args.pathway)throw new Error("No pathway specified.");var contextLevelInput=pathvisiojs.utilities.clone(pathvisiojs.context);contextLevelInput.dependsOn="ex:dependsOn",async.waterfall([function(callback){args.data.sort(function(a,b){return a.zIndex-b.zIndex}),callback(null,args.data)},function(data,callback){data.forEach(function(element){"GroupNode"===element.renderableType?(args.data=element,pathvisiojs.view.pathwayDiagram.svg.node.groupNode.render(args,function(groupContainer,groupContents){var groupedElementsArgs={};groupedElementsArgs.svg=args.svg,groupedElementsArgs.container=groupContainer,groupedElementsArgs.data=groupContents,groupedElementsArgs.pathway=args.pathway,pathvisiojs.view.pathwayDiagram.svg.renderSelectedElementsFast(groupedElementsArgs,function(){})})):(args.data=element,"EntityNode"===element.renderableType?pathvisiojs.view.pathwayDiagram.svg.node.EntityNode.render(args):"Interaction"===element.renderableType?pathvisiojs.view.pathwayDiagram.svg.edge.interaction.render(args):"GraphicalLine"===element.renderableType&&pathvisiojs.view.pathwayDiagram.svg.edge.graphicalLine.render(args))}),callback(null,"Successfully rendered elements")}],function(){callbackOutside(null)})}function renderFast(svg,pathway,callback){if(!svg)throw new Error("No svg specified.");if(!pathway)throw new Error("No data entered to render.");async.parallel({gridData:function(callbackInside){var frame={"@context":pathvisiojs.context,"@type":"EntityNode"};
jsonld.frame(pathway,frame,function(err,framedData){pathvisiojs.view.pathwayDiagram.pathFinder.initGrid(framedData["@graph"],pathway.image.width,pathway.image.height,function(gridData){svg[0][0].pathvisiojs=svg[0][0].pathvisiojs||{},svg[0][0].pathvisiojs.gridData=gridData,callbackInside(null,gridData)})})},firstOrderData:function(callbackInside){var firstOrderFrame={"@context":pathvisiojs.context,"@type":["notGrouped","GroupNode"],contains:{},InteractionGraph:{}};jsonld.frame(pathway,firstOrderFrame,function(err,firstOrderData){callbackInside(null,firstOrderData["@graph"])})}},function(err,results){var viewport=svg.select("#viewport");pathvisiojs.view.pathwayDiagram.svg.infoBox.render(viewport,pathway);var renderSelectedElementsFastArgs={};renderSelectedElementsFastArgs.svg=svg,renderSelectedElementsFastArgs.container=viewport,renderSelectedElementsFastArgs.pathway=pathway,renderSelectedElementsFastArgs.data=results.firstOrderData,renderSelectedElementsFast(renderSelectedElementsFastArgs,function(){callback(svg)})})}var svg;return{renderFast:renderFast,renderSelectedElementsFast:renderSelectedElementsFast,load:load,loadPartials:loadPartials}}(),pathvisiojs.view.pathwayDiagram.svg.anchor=function(){function makeBlocky(x,y){var results={},column=pathvisiojs.view.pathwayDiagram.pathFinder.xYCoordinatesToMatrixLocation(x,y).column,row=pathvisiojs.view.pathwayDiagram.pathFinder.xYCoordinatesToMatrixLocation(x,y).row;return results.x=pathvisiojs.view.pathwayDiagram.pathFinder.matrixLocationToXYCoordinates(column,row).x,results.y=pathvisiojs.view.pathwayDiagram.pathFinder.matrixLocationToXYCoordinates(column,row).y,results}function renderAll(svg,pathway){var anchors=pathway.elements.filter(function(element){return"anchor"===element.renderableType}),viewport=svg.select("#viewport");viewport.selectAll("use.anchor").data(anchors).enter().append("use").attr("x",function(d){return makeBlocky(d.x,d.y).x}).attr("y",function(d){return makeBlocky(d.x,d.y).y}).attr("width",pathvisioNS.grid.squareLength).attr("height",pathvisioNS.grid.squareLength).attr("xlink:xlink:href","#grid-square").attr("class","anchor").attr("style",function(){return"fill:red; stroke:none;"})}return{renderAll:renderAll}}(),pathvisiojs.view.pathwayDiagram.svg.grid=function(){function render(svg){var viewport=svg.select("#viewport");viewport.selectAll("use.grid-square").data(pathvisioNS.grid.gridRenderingData).enter().append("use").attr("x",function(d){return d.x}).attr("y",function(d){return d.y}).attr("width",pathvisioNS.grid.squareLength).attr("height",pathvisioNS.grid.squareLength).attr("xlink:xlink:href","#grid-square").attr("class","grid-square").attr("style",function(d){return"fill:"+d.fill+"; fill-opacity:0.3; stroke:darkgray;"})}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.infoBox=function(){function render(viewport,pathway){if(!viewport||!pathway)return console.warn("Error: Missing input parameters.");var infoBox=[];pathway.hasOwnProperty("Name")&&infoBox.push({key:"Title",value:pathway.Name}),pathway.hasOwnProperty("License")&&infoBox.push({key:"Availability",value:pathway.License}),pathway.hasOwnProperty("LastModified")&&infoBox.push({key:"Last modified",value:pathway.LastModified}),pathway.hasOwnProperty("Organism")&&infoBox.push({key:"Organism",value:pathway.Organism});var infoBox=viewport.selectAll("g.info-box").data([infoBox]).enter().append("g").attr("id",function(d,i){return"info-box-"+i}).attr("class","text-area info-box"),infoBoxItems=infoBox.selectAll("text").data(function(d){return d}).enter().append("text").attr("id",function(d,i){return"info-box-text"+i}).attr("class","item").attr("x",0).attr("y",function(d,i){return 14+14*i});infoBoxItems.append("tspan").attr("class","info-box-item-property-name").text(function(d){return d.key+": "}),infoBoxItems.append("tspan").attr("class","info-box-item-property-value").text(function(d){return d.value})}return{render:render}}();var svg;pathvisiojs.view.pathwayDiagram.svg.symbol=function(){function appendCustom(uniqueSymbolShapeUrl,callback){var img,width,height,imgChildren,symbolId=strcase.paramCase(uniqueSymbolShapeUrl),defsSection=svg.select("defs"),symbol=defsSection.select("#"+symbolId);symbol[0][0]?symbol.selectAll("*").remove():symbol=defsSection.append("symbol").attr("id",symbolId).attr("preserveAspectRatio","none"),d3.xml(uniqueSymbolShapeUrl,"image/svg+xml",function(svgXml){img=d3.select(svgXml.documentElement),width=img.attr("width"),height=img.attr("height"),symbol.attr("viewBox","0 0 "+width+" "+height),imgChildren=img[0][0].children;do symbol[0][0].appendChild(imgChildren[0]);while(imgChildren.length>0);callback(null)})}function loadAllCustom(thisSvg,customSymbols,callback){svg=thisSvg;var uniqueSymbolShapeUrls=[];customSymbols.forEach(function(customSymbol){semanticNameToIdMapping[customSymbol.semanticName]=strcase.paramCase(customSymbol.url),-1===uniqueSymbolShapeUrls.indexOf(customSymbol.url)&&uniqueSymbolShapeUrls.push(customSymbol.url)}),async.each(uniqueSymbolShapeUrls,appendCustom,function(){callback(null)})}function getAllSymbolNames(svg,callback){var allSymbolNames=svg.selectAll("symbol")[0].map(function(symbol){return strcase.paramCase(symbol.id)});callback(allSymbolNames)}var semanticNameToIdMapping={arc:"shape-library-symbols-arc-svg",brace:"shape-library-symbols-brace-svg","endoplasmic-reticulum":"shape-library-symbols-endoplasmic-reticulum-svg","golgi-apparatus":"shape-library-symbols-golgi-apparatus-svg",hexagon:"shape-library-symbols-hexagon-svg","mim-degradation":"shape-library-symbols-mim-degradation-svg",mitochondria:"shape-library-symbols-mitochondria-svg",oval:"shape-library-symbols-oval-svg",pentagon:"shape-library-symbols-pentagon-svg",rectangle:"shape-library-symbols-rectangle-svg","sarcoplasmic-reticulum":"shape-library-symbols-sarcoplasmic-reticulum-svg",triangle:"shape-library-symbols-triangle-svg",none:"shape-library-symbols-none-svg"};return{loadAllCustom:loadAllCustom,semanticNameToIdMapping:semanticNameToIdMapping,getAllSymbolNames:getAllSymbolNames}}(),pathvisiojs.view.pathwayDiagram.svg.publicationXref=function(){function getReferenceNumberForDisplay(pathway,rdfId){var displayNumberForDisplay,currentPublicationXref,i=-1,found=!1;do i+=1,currentPublicationXref=pathway.Biopax.PublicationXref[i],currentPublicationXref.rdfId===rdfId&&(found=!0,displayNumberForDisplay=i+1);while(found===!1&&i<pathway.Biopax.PublicationXref.length);return displayNumberForDisplay}function createPublicationXrefString(displayNumbers){var publicationXrefString;if(1===displayNumbers.length)publicationXrefString=displayNumbers[0];else{displayNumbers.sort(function(a,b){return a-b});var i=0;if(publicationXrefString=displayNumbers[i].toString(),displayNumbers.length>2)do i+=1,(displayNumbers[i-1]+1!==displayNumbers[i]||displayNumbers[i]+1!==displayNumbers[i+1])&&(publicationXrefString+=1!==i?displayNumbers[i-2]+2===displayNumbers[i]?"-"+displayNumbers[i].toString():", "+displayNumbers[i].toString():", "+displayNumbers[i].toString());while(i<displayNumbers.length-2);i+=1,publicationXrefString+=displayNumbers[i-2]+2===displayNumbers[i]?"-"+displayNumbers[i].toString():", "+displayNumbers[i].toString()}return publicationXrefString}function getPublicationXrefString(pathway,rdfIds,callback){var displayNumbers=[];rdfIds=pathvisiojs.utilities.convertToArray(rdfIds),rdfIds.forEach(function(rdfId){displayNumbers.push(getReferenceNumberForDisplay(pathway,rdfId))});var publicationXrefString=createPublicationXrefString(displayNumbers);callback(publicationXrefString)}function render(target,targetType,pathway,rdfIds){var viewport,text;getPublicationXrefString(pathway,rdfIds,function(publicationXrefString){if("node"===targetType)target.append("text").attr("class","citation").attr("transform",function(){return"translate(0 -5)"}).text(publicationXrefString);else{if(viewport=d3.select("svg > #viewport"),"edge"!==targetType)throw new Error("Pathvisiojs cannot render a citation for targets of this type: "+targetType);viewport=d3.select("svg > #viewport"),text=viewport.append("text").attr("class","citation").attr("transform",function(){return"translate(0 -5)"}),text.append("textPath").attr("xlink:xlink:href","#"+target).attr("startOffset","50%").text(publicationXrefString)}})}return{getPublicationXrefString:getPublicationXrefString,render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node=function(){function dragmove(d){d.x=d3.event.x,d.y=d3.event.y}function render(args,callback){if(!args)throw new Error("Need input args to render a node.");if(!args.container)throw new Error("Need a container to render a node.");if(!args.data)throw new Error("Need input data to render a node.");var drag=d3.behavior.drag().origin(Object).on("drag",dragmove),nodeContainer=args.container.selectAll("#node-container-"+strcase.paramCase(args.data["@id"])).data([args.data]).enter().append("g").attr("id",function(d){return"node-container-"+strcase.paramCase(d["@id"])}).attr("transform",function(d){var containerElement={};args.container[0][0].hasOwnProperty("__data__")?(containerElement.x=args.container[0][0].__data__.x,containerElement.y=args.container[0][0].__data__.y):(containerElement.x=0,containerElement.y=0);var element={};return element.x=d.x-containerElement.x,element.y=d.y-containerElement.y,"translate("+element.x+" "+element.y+")"}).attr("style",function(d){var style="";return d.hasOwnProperty("backgroundColor")&&(style+="fill:"+d.backgroundColor+"; "),style}).call(drag),shapeType=strcase.paramCase(args.data.ShapeType);pathvisiojs.view.pathwayDiagram.svg.symbol.semanticNameToIdMapping.hasOwnProperty(shapeType)?pathvisiojs.view.pathwayDiagram.svg.node.useElement.render(nodeContainer,args.data):pathvisiojs.view.pathwayDiagram.svg.node.pathShape.render(nodeContainer,args.data),args.data.hasOwnProperty("text")&&pathvisiojs.view.pathwayDiagram.svg.node.text.render(nodeContainer,args.data),args.data.hasOwnProperty("PublicationXref")&&pathvisiojs.view.pathwayDiagram.svg.publicationXref.render(nodeContainer,"node",args.pathway,args.data.PublicationXref),callback(nodeContainer)}function getPortCoordinates(boxDimensions,relX,relY){var port={};return port.x=boxDimensions.x+relX*boxDimensions.width,port.y=boxDimensions.y+relY*boxDimensions.height,port}function highlightByLabel(svg,pathway,nodeLabel){svg.selectAll(".highlighted-node").remove();var dataNodesWithText=pathway.elements.filter(function(d){return"data-node"===d.nodeType&&!!d.textLabel}),selectedNodes=dataNodesWithText.filter(function(d){return-1!==d.textLabel.text.indexOf(nodeLabel)});selectedNodes.forEach(function(node){var nodeDomElement=svg.select("#node-"+node.id),height=nodeDomElement[0][0].getBBox().height,width=nodeDomElement[0][0].getBBox().width;nodeDomElement.append("rect").attr("class","highlighted-node").attr("x",-2.5).attr("y",-2.5).attr("width",width+5).attr("height",height+5)})}return{render:render,getPortCoordinates:getPortCoordinates,highlightByLabel:highlightByLabel}}(),pathvisiojs.view.pathwayDiagram.svg.node.EntityNode=function(){function render(args){if(!args.container)throw new Error("Container element not specified for this EntityNode.");if(!args.data)throw new Error("EntityNode data missing.");if(!args.pathway)throw new Error("Pathway not specified for this EntityNode. Pathway is needed for items like setting the Organism for DataNode annotations.");pathvisiojs.view.pathwayDiagram.svg.node.render(args,function(nodeContainer){nodeContainer.attr("class",function(d){var cssClass="entity-node "+strcase.paramCase(d.nodeType)+" ";return"DataNode"===d.nodeType&&(cssClass+=strcase.paramCase(d.dataNodeType)+" ",d.DatasourceReference&&(cssClass+="has-xref ")),d.hasOwnProperty("CellularComponent")&&(cssClass+="cellular-component "+strcase.paramCase(d.CellularComponent)+" "),cssClass}),args.data.DatasourceReference&&args.data.DatasourceReference.ID&&nodeContainer.on("click",function(d){pathvisiojs.view.annotation.xRef.render(args.pathway.organism,d.DatasourceReference.ID,d.DatasourceReference.Database,d.text.tspan.join(" "),d.dataNodeType)})})}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node.pathShape=function(){function render(parent,data){var re,node=parent.append("path").data([data]).attr("id",function(d){return"node-"+strcase.paramCase(d["@id"])}).attr("class",function(){var cssClass="symbol ";return cssClass}),pathShapeNameToUse=strcase.camelCase(data.ShapeType);pathvisiojs.view.pathwayDiagram.svg.node.pathShape.hasOwnProperty(pathShapeNameToUse)||(re=/-double$/gi,pathShapeNameToUse=pathShapeNameToUse.replace(re,""),pathvisiojs.view.pathwayDiagram.svg.node.pathShape.hasOwnProperty(pathShapeNameToUse)?console.warn('Requested pathShape "'+data.ShapeType+'" is not available with linetype of "Double". Using linetype of "Solid" instead'):(console.warn('Requested pathShape "'+data.ShapeType+'" is not available. Using pathShape "rounded-rectangle" instead'),pathShapeNameToUse="roundedRectangle"));var nodeAttributes=pathvisiojs.view.pathwayDiagram.svg.node.pathShape[pathShapeNameToUse].getAttributes(data.width,data.height);nodeAttributes.forEach(function(attribute){node.attr(attribute.name,attribute.value)})}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node.pathShape.roundedRectangle=function(){function getAttributes(nodeWidth,nodeHeight){var attributes=[{name:"d",value:"m0,2.5c0,-1.35845 1.14155,-10 10,-10l"+(nodeWidth-20)+",0"+"c1.35844,0 10,1.14155 10,10"+"l0,"+(nodeHeight-20)+"c0,1.35845 -1.14156,10 -10,10"+"l"+(20-nodeWidth)+",0"+"c-1.35845,0 -10,-1.14155 -10,-10"+"l0,"+(20-nodeHeight)+"z"},{name:"vector-effect",value:"non-scaling-stroke"}];return attributes}return{getAttributes:getAttributes}}(),pathvisiojs.view.pathwayDiagram.svg.node.pathShape.roundedRectangleDouble=function(){function getAttributes(nodeWidth,nodeHeight){var attributes=[{name:"d",value:"m0,2.5c0,-1.35845 1.14155,-10 10,-10l"+(nodeWidth-20)+",0"+"c1.35844,0 10,1.14155 10,10"+"l0,"+(nodeHeight-20)+"c0,1.35845 -1.14156,10 -10,10"+"l"+(20-nodeWidth)+",0"+"c-1.35845,0 -10,-1.14155 -10,-10"+"l0,"+(20-nodeHeight)+"z"+"m3,3"+"c0,-1.35845 1.14155,-10 10,-10"+"l"+(nodeWidth-26)+",0"+"c1.35844,0 10,1.14155 10,10"+"l0,"+(nodeHeight-26)+"c0,1.35845 -1.14156,10 -10,10"+"l"+(26-nodeWidth)+",0"+"c-1.35845,0 -10,-1.14155 -10,-10"+"l0,"+(26-nodeHeight)+"z"},{name:"vector-effect",value:"non-scaling-stroke"}];return attributes}return{getAttributes:getAttributes}}(),pathvisiojs.view.pathwayDiagram.svg.node.pathShape.ovalDouble=function(){function getAttributes(nodeWidth,nodeHeight){var attributes=[{name:"d",value:"m0,2.5c0,-1.35845 1.14155,-2.5 2.5,-2.5l"+(nodeWidth-5)+",0"+"c1.35844,0 2.5,1.14155 2.5,2.5"+"l0,"+(nodeHeight-5)+"c0,1.35845 -1.14156,2.5 -2.5,2.5"+"l"+(5-nodeWidth)+",0"+"c-1.35845,0 -2.5,-1.14155 -2.5,-2.5"+"l0,"+(5-nodeHeight)+"z"+"m3,5.5"+"c0,-1.35845 1.14155,-2.5 2.5,-2.5"+"l"+(nodeWidth-11)+",0"+"c1.35844,0 2.5,1.14155 2.5,2.5"+"l0,"+(nodeHeight-11)+"c0,1.35845 -1.14156,2.5 -2.5,2.5"+"l"+(11-nodeWidth)+",0"+"c-1.35845,0 -2.5,-1.14155 -2.5,-2.5"+"l0,"+(11-nodeHeight)+"z"},{name:"vector-effect",value:"non-scaling-stroke"}];return attributes}return{getAttributes:getAttributes}}(),pathvisiojs.view.pathwayDiagram.svg.node.pathShape.complex=function(){function getAttributes(nodeWidth,nodeHeight){var attributes=[{name:"d",value:"M 18 0 L "+(0+nodeWidth-18)+" "+0+" L "+(0+nodeWidth)+" "+18+" L "+(0+nodeWidth)+" "+(0+nodeHeight-18)+" L "+(0+nodeWidth-18)+" "+(0+nodeHeight)+" L "+18+" "+(0+nodeHeight)+" L "+0+" "+(0+nodeHeight-18)+" L "+0+" "+18+" Z"},{name:"vector-effect",value:"non-scaling-stroke"}];return attributes}return{getAttributes:getAttributes}}(),pathvisiojs.view.pathwayDiagram.svg.node.text=function(){function render(nodeContainer,data){var cache={};cache.padding=5;var text={};text.cache={},text.cache.fontSize=12,text.cache.alignmentBaseline="middle",text.cache.textAnchor="middle",text.cache.textAlign="center",text.cache.verticalAlign="middle",text.cache.translate={},text.cache.translate.dx=data.width/2,text.cache.translate.dy=data.height/2,text.tspan={},text.tspan.cache={},text.tspan.cache.y=[];var textLineCount=data.text.tspan.length,i=0;data.text.tspan.forEach(function(){text.tspan.cache.y.push(i*text.cache.fontSize),i+=1});var textArea=nodeContainer.selectAll("g.text-area").data(function(d){return[d]}).enter().append("g").attr("id",function(d){return"text-container"+strcase.paramCase(d["@id"])}).attr("transform",function(){return"translate("+text.cache.translate.dx+" "+text.cache.translate.dy+")"}).attr("class","text-area").attr("style",function(d){var style="";return d.text.hasOwnProperty("color")&&(style+="fill:"+d.text.color+"; "),d.text.hasOwnProperty("fontFamily")&&(style+="font-family:"+d.text.fontFamily+"; "),d.text.hasOwnProperty("fontSize")&&(style+="font-size:"+d.text.fontSize+"px; "),d.text.hasOwnProperty("fontWeight")&&(style+="font-weight:"+d.text.fontWeight+"; "),d.text.hasOwnProperty("fontStyle")&&(style+="font-style:"+d.text.fontStyle+"; "),style});return textArea.selectAll("text").data(function(d){return d.text.tspan}).enter().append("text").attr("id",function(d,i){return"text-line"+i}).attr("x",0).attr("y",function(d,i){return 1.4*(i-(textLineCount-1)/2)+"em"}).attr("alignment-baseline",text.cache.alignmentBaseline).attr("text-anchor",text.cache.textAnchor).text(function(d){return d}),nodeContainer}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node.groupNode=function(){function render(args,callback){if(!args.container)throw new Error("Error: container element not specified for rendering groupNode.");if(!args.data)throw new Error("Error: group data missing for rendering groupNode.");pathvisiojs.view.pathwayDiagram.svg.node.render(args,function(groupContainer){groupContainer.attr("class",function(d){var cssClass="group-node "+strcase.paramCase(d.groupType)+" ";return cssClass});var groupContents=args.data.contains;callback(groupContainer,groupContents)})}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node.useElement=function(){function render(parent,data){parent.append("use").data([data]).attr("id",function(d){return"node-"+strcase.paramCase(d["@id"])}).attr("class",function(){return"symbol "}).attr("transform",function(d){var transform="scale(1)";return d.hasOwnProperty("rotation")&&(transform="rotate("+d.rotation+" "+d.width/2+" "+d.height/2+")"),transform}).attr("x",0).attr("y",0).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("style",function(data){var style="";data.hasOwnProperty("borderColor")&&(style+="stroke:"+data.borderColor+"; ");var borderWidthEffective;return borderWidthEffective=data.hasOwnProperty("borderWidth")?2*data.borderWidth:2,style+="stroke-width:"+borderWidthEffective+"; "}).attr("xlink:xlink:href",function(d){var shapeType=strcase.paramCase(d.ShapeType),symbolId=pathvisiojs.view.pathwayDiagram.svg.symbol.semanticNameToIdMapping[shapeType];return"#"+symbolId})}function getPortCoordinates(boxDimensions,relX,relY){var port={};return port.x=boxDimensions.x+relX*boxDimensions.width,port.y=boxDimensions.y+relY*boxDimensions.height,port}function highlightByLabel(svg,pathway,nodeLabel){svg.selectAll(".highlighted-node").remove();var dataNodesWithText=pathway.elements.filter(function(d){return"data-node"===d.nodeType&&!!d.textLabel}),selectedNodes=dataNodesWithText.filter(function(d){return-1!==d.textLabel.text.indexOf(nodeLabel)});selectedNodes.forEach(function(node){var nodeDomElement=svg.select("#node-"+node.id),height=nodeDomElement[0][0].getBBox().height,width=nodeDomElement[0][0].getBBox().width;nodeDomElement.append("rect").attr("class","highlighted-node").attr("x",-2.5).attr("y",-2.5).attr("width",width+5).attr("height",height+5)})}return{render:render,getPortCoordinates:getPortCoordinates,highlightByLabel:highlightByLabel}}(),pathvisiojs.view.pathwayDiagram.svg.edge=function(){function setAttributes(args){var svg=args.svg,edge=args.edge,data=args.data,markerStartName=args.data.markerStart;console.log("markerStartName"),console.log(markerStartName);var markerEndName=args.data.markerEnd;console.log("markerEndName"),console.log(markerEndName);var edgeId=strcase.paramCase(data.GraphId),createPathDataString=d3.svg.line().x(function(data){return data.x}).y(function(data){return data.y}),gpmlConnectorTypeToD3StepTypeMapping={Straight:"linear",Segmented:"linear",Elbow:"linear",Curved:"basis"},stepType="linear";gpmlConnectorTypeToD3StepTypeMapping.hasOwnProperty(data.ConnectorType)&&(stepType=gpmlConnectorTypeToD3StepTypeMapping[data.ConnectorType]),createPathDataString.interpolate(stepType),async.series({convertedPointSet:function(callback){var index,firstSegmentHorizontal,currentSegmentHorizontal,convertedPointSet;if(convertedPointSet=[],data.ConnectorType&&void 0!==data.ConnectorType&&"Straight"!==data.ConnectorType&&"Segmented"!==data.ConnectorType)if("Elbow"===data.ConnectorType||"Curved"===data.ConnectorType)if(2===data.Point.length)pathvisiojs.view.pathwayDiagram.pathFinder.getPath(svg,data,function(convertedPointSet){callback(null,convertedPointSet)});else{convertedPointSet.push(data.Point[0]),firstSegmentHorizontal=1===Math.abs(data.Point[0].RelX)?!0:!1,currentSegmentHorizontal=firstSegmentHorizontal,index=0;do index+=1,currentSegmentHorizontal?convertedPointSet.push({x:data.Point[index].x,y:data.Point[index-1].y}):convertedPointSet.push({x:data.Point[index-1].x,y:data.Point[index].y}),currentSegmentHorizontal=!currentSegmentHorizontal;while(index<data.Point.length-1);convertedPointSet.push(data.Point[data.Point.length-1]),callback(null,convertedPointSet)}else console.warn("Warning: pathvisiojs does not support connector type: "+data.ConnectorType+". Using linear interpolation as fallback."),callback(null,data.Point);else callback(null,data.Point)}},function(err,results){edge.attr("id",edgeId).attr("marker-start",function(){var markerStart=pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,markerStartName,"start",data.stroke);return"url(#"+markerStart+")"}).attr("marker-end",function(data){var markerEnd=pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,markerEndName,"end",data.stroke);return"url(#"+markerEnd+")"}).attr("style",function(data){var style="stroke-width:"+data.strokeWidth+"; ";return data.hasOwnProperty("stroke")&&(style+="stroke:"+data.stroke+"; "),data.hasOwnProperty("strokeStyle")&&"double"===data.strokeStyle&&(style+="stroke-width:"+3*data.strokeWidth+"; "),style}).attr("fill","none").attr("d",function(){return createPathDataString(results.convertedPointSet)}),data.hasOwnProperty("PublicationXref")&&pathvisiojs.view.pathwayDiagram.svg.publicationXref.render(edgeId,"edge",args.pathway,args.data.PublicationXref)})}return{setAttributes:setAttributes}}(),pathvisiojs.view.pathwayDiagram.svg.edge.graphicalLine=function(){function render(args){args.svg;var containerElementX,containerElementY,container=args.container,data=args.data,graphicalLine=container.selectAll("#"+strcase.paramCase(data.GraphId)).data([data]).enter().append("path").attr("class",function(data){var cssClass="edge graphical-line";return data.hasOwnProperty("strokeStyle")&&"dashed"===data.strokeStyle&&(cssClass+=" dashed-stroke"),cssClass}),containerElement=container[0][0];containerElement.hasOwnProperty("__data__")&&graphicalLine.attr("transform",function(){return containerElementX=containerElement.__data__.x||0,containerElementY=containerElement.__data__.y||0,"translate("+-1*containerElementX+" "+-1*containerElementY+")"}),args.edge=graphicalLine,pathvisiojs.view.pathwayDiagram.svg.edge.setAttributes(args)}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.edge.interaction=function(){function render(args){args.svg;var firstInteractionGraph,lastInteractionGraph,container=args.container,data=args.data;data.InteractionGraph&&(data.InteractionGraph.length>1?(firstInteractionGraph=data.InteractionGraph[0],lastInteractionGraph=data.InteractionGraph[data.InteractionGraph.length-1]):lastInteractionGraph=data.InteractionGraph[0]);var containerElementX,containerElementY,interaction=container.selectAll("#"+strcase.paramCase(data.GraphId)).data([data]).enter().append("path").attr("class",function(data){var cssClass="edge interaction";return data.DatasourceReference&&(cssClass+="has-xref "),data.hasOwnProperty("strokeStyle")&&"dashed"===data.strokeStyle&&(cssClass+=" dashed-stroke"),cssClass}),containerElement=container[0][0];containerElement.hasOwnProperty("__data__")&&interaction.attr("transform",function(){return containerElementX=containerElement.__data__.x||0,containerElementY=containerElement.__data__.y||0,"translate("+-1*containerElementX+" "+-1*containerElementY+")"}),args.edge=interaction,pathvisiojs.view.pathwayDiagram.svg.edge.setAttributes(args)}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.edge.marker=function(){function appendCustom(uniqueMarkerShapeUrl,callback){var idStub=strcase.paramCase(uniqueMarkerShapeUrl),startId=idStub+"-start-default",endId=idStub+"-end-default",markerStart=svg.select("defs").select("#"+startId);markerStart[0][0]||markerStart.selectAll("*").remove(),markerStart=svg.select("defs").append("marker").attr("id",startId).attr("preserveAspectRatio","none");var markerEnd=svg.select("defs").select("#"+endId);markerEnd[0][0]||markerEnd.selectAll("*").remove(),markerEnd=svg.select("defs").append("marker").attr("id",endId).attr("preserveAspectRatio","none"),uniqueMarkerShapeUrl.indexOf(".svg")>0?d3.xml(uniqueMarkerShapeUrl,"image/svg+xml",function(svgXml){var newMarker=d3.select(svgXml.documentElement),width=newMarker.attr("width"),height=newMarker.attr("height");markerStart.attr("viewBox","0 0 "+width+" "+height).attr("markerWidth",width).attr("markerHeight",height).attr("markerUnits","strokeWidth").attr("orient","auto").attr("refX",0).attr("refY",6);var parent=document.querySelector("#"+startId),docElClone=pathvisiojs.utilities.clone(svgXml.documentElement);parent.appendChild(svgXml.documentElement),markerEnd.attr("viewBox",-1*width+" "+-1*height+" "+width+" "+height).attr("markerWidth",width).attr("markerHeight",height).attr("markerUnits","strokeWidth").attr("orient","auto").attr("refX",0).attr("refY",-1*height/2),markerEnd.append("g").attr("id","g-"+endId).attr("style","-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;");var endG=document.querySelector("#g-"+endId);endG.appendChild(docElClone),callback(null)}):(img=document.createElement("img"),img.id=idStub,img.src=uniqueMarkerShapeUrl,img.onload=function(){var width=this.width,height=this.height;markerStart=svg.select("#"+this.id+"-start-default").attr("viewBox","0 0 "+width+" "+height).attr("markerWidth",width).attr("markerHeight",height).attr("markerUnits","strokeWidth").attr("orient","auto").attr("refX",0).attr("refY",6),markerStart.append("image").attr("xlink:xlink:href",uniqueMarkerShapeUrl).attr("x",0).attr("y",0).attr("width",width).attr("height",height).attr("externalResourcesRequired","true"),markerEnd=d3.select("svg").select("defs").select("#"+this.id+"-end-default").attr("id",endId).attr("viewBox",-1*width+" "+-1*height+" "+width+" "+height).attr("markerWidth",width).attr("markerHeight",height).attr("markerUnits","strokeWidth").attr("orient","auto").attr("refX",0).attr("refY",-1*height/2);var g=markerEnd.append("g").attr("id","g-"+endId).attr("style","-webkit-transform: rotate(180deg); -webkit-transform-origin: 50% 50%;");g.append("image").attr("xlink:xlink:href",uniqueMarkerShapeUrl).attr("x",0).attr("y",0).attr("width",width).attr("height",height).attr("externalResourcesRequired","true"),callback(null)})}function loadAllCustom(thisSvg,customMarkers,callback){svg=thisSvg;var uniqueMarkerShapeUrls=[];customMarkers.forEach(function(customMarker){pathvisiojs.view.pathwayDiagram.svg.edge.marker.semanticNameToIdMapping[customMarker.semanticName]=strcase.paramCase(customMarker.url),-1===uniqueMarkerShapeUrls.indexOf(customMarker.url)&&uniqueMarkerShapeUrls.push(customMarker.url)}),async.each(uniqueMarkerShapeUrls,appendCustom,function(){callback(null)})}function render(svg,name,position,color){var markerId,markerIdStub=pathvisiojs.view.pathwayDiagram.svg.edge.marker.semanticNameToIdMapping[name];if("none"===name)markerId=name;else{var selector="marker#"+markerIdStub+"-"+position+"-default",markerElementDefault=svg.select(selector);if(1===markerElementDefault.length)if(color){var markerElement=pathvisiojs.utilities.cloneNode(selector),markerElementStyle="",markerElementSvg=markerElement.selectAll("svg")[0][0];markerElementSvg.getAttribute("class").match(/default-stroke-color/)&&(markerElementStyle+="stroke:#"+color+"; "),markerElementSvg.getAttribute("class").match(/default-fill-color/)&&(markerElementStyle+="fill:#"+color+"; "),markerElement[0][0].setAttribute("id",markerIdStub+"-"+position+"-"+color),markerElementSvg.setAttribute("style",markerElementStyle),markerId=markerIdStub+"-"+position+"-"+color}else markerId=markerIdStub+"-"+position+"-default";else markerId="none",console.warn("Pathvisio.js does not have access to a marker (arrowhead) for the requested edge type: "+name)}return markerId}var svg,semanticNameToIdMapping={arrow:"shape-library-markers-arrow-svg","necessary-stimulation":"shape-library-markers-mim-necessary-stimulation-svg",binding:"shape-library-markers-mim-binding-svg",conversion:"shape-library-markers-mim-conversion-svg",stimulation:"shape-library-markers-mim-stimulation-svg",modification:"shape-library-markers-mim-modification-svg",catalysis:"shape-library-markers-mim-catalysis-svg",inhibition:"shape-library-markers-mim-inhibition-svg",cleavage:"shape-library-markers-mim-cleavage-svg","covalent-bond":"shape-library-markers-mim-covalent-bond-svg","transcription-translation":"shape-library-markers-mim-transcription-translation-svg",gap:"shape-library-markers-mim-gap-svg","inhibitory-activity":"shape-library-markers-t-bar-svg",unspecified:"shape-library-markers-none-svg",activity:"shape-library-markers-arrow-svg","mim-branching-left":"shape-library-markers-mim-branching-left-svg","mim-branching-right":"shape-library-markers-mim-branching-right-svg","mim-necessary-stimulation":"shape-library-markers-mim-necessary-stimulation-svg","mim-binding":"shape-library-markers-mim-binding-svg","mim-conversion":"shape-library-markers-mim-conversion-svg","mim-stimulation":"shape-library-markers-mim-stimulation-svg","mim-modification":"shape-library-markers-mim-modification-svg","mim-catalysis":"shape-library-markers-mim-catalysis-svg","mim-inhibition":"shape-library-markers-mim-inhibition-svg","mim-cleavage":"shape-library-markers-mim-cleavage-svg","mim-covalent-bond":"shape-library-markers-mim-covalent-bond-svg","mim-transcription-translation":"shape-library-markers-mim-transcription-translation-svg","mim-gap":"shape-library-markers-mim-gap-svg","t-bar":"shape-library-markers-t-bar-svg",none:"shape-library-markers-none-svg"};return{render:render,semanticNameToIdMapping:semanticNameToIdMapping,loadAllCustom:loadAllCustom}}(),pathvisiojs.view.pathwayDiagram.svg.edge.point=function(){function getGraphRef(pathway,point){if(point.hasOwnProperty("graphRef")){if(pathway.hasOwnProperty("nodes")){var node=pathway.nodes.filter(function(element){return element.graphId===point.graphRef})[0];if(void 0!==node)return{type:"node",element:node}}if(pathway.hasOwnProperty("groups")){var group=pathway.groups.filter(function(element){return element.graphId===point.graphRef})[0];if(void 0!==group)return{type:"group",groupId:group.groupId}}var edgesWithAnchors=pathway.edges.filter(function(element){return element.hasOwnProperty("anchors")}),anchor=null,i=-1;do i+=1,anchor=edgesWithAnchors[i].anchors.filter(function(element){return element.graphId===point.graphRef})[0];while(!anchor&&i<edgesWithAnchors.length);return{type:"anchor",element:anchor,edge:edgesWithAnchors[i]}}return{type:"unconnected"}}function getCoordinates(pathway,point){if(!pathway||!point)return console.warn("Error: Missing input parameters.");var coordinates={},edgeTerminusRef=getGraphRef(pathway,point);if("anchor"!==edgeTerminusRef.type)if("unconnected"===edgeTerminusRef.type)coordinates.x=point.x,coordinates.y=point.y;
else if("node"===edgeTerminusRef.type)coordinates=pathvisiojs.view.pathwayDiagram.svg.node.getPortCoordinates(edgeTerminusRef.element,point.relX,point.relY);else{if("group"!==edgeTerminusRef.type)return"error";var groupDimensions=pathvisiojs.view.pathwayDiagram.svg.node.groupNode.getDimensions(pathway,edgeTerminusRef.groupId);coordinates=pathvisiojs.view.pathwayDiagram.svg.node.getPortCoordinates(groupDimensions,point.relX,point.relY)}else{var path=document.select("#interaction-"+edgeTerminusRef.edge.graphId)[0][0];coordinates=path.getPointAtLength(edgeTerminusRef.element.position*path.getTotalLength())}return coordinates}function isTwoPointElbow(source,target){var isRightAngle=Math.abs(source.dx)===Math.abs(target.dy)&&Math.abs(source.dy)===Math.abs(target.dx),sourcePasses=(target.x-source.x)/Math.abs(target.x-source.x)===source.dx||(target.y-source.y)/Math.abs(target.y-source.y)===source.dy,targetPasses=(source.x-target.x)/Math.abs(source.x-target.x)===target.dx||(source.y-target.y)/Math.abs(source.y-target.y)===target.dy;return isRightAngle&&sourcePasses&&targetPasses}return{getGraphRef:getGraphRef,getCoordinates:getCoordinates,isTwoPointElbow:isTwoPointElbow}}(),pathvisiojs.view.pathwayDiagram.svg.edge.pathData=function(){function getPathDirectionForElbowFromPoint(pathway,edge,point){var direction,otherEndDirection,otherEndPoint;return direction=getPathDirectionForElbowFromPointByAnchor(pathway,point),direction||(otherEndPoint=point===edge.Point[0]?edge.Point[edge.Point.length-1]:edge.Point[0],otherEndDirection=getPathDirectionForElbowFromPointByAnchor(pathway,otherEndPoint),direction=otherEndDirection?pathvisiojs.utilities.isOdd(edge.Point.length)?switchDirection(otherEndDirection):otherEndDirection:getPathDirectionForElbowFromPointByDistance(pathway,edge,point)),direction}function getPathDirectionForElbowFromPointByAnchor(pathway,point){var anchor=pathway.elements.filter(function(element){return element.id===point.anchorId})[0];return anchor?1===Math.abs(anchor.dx)||1===Math.abs(anchor.dy)?1===Math.abs(anchor.dx)?direction="H":1===Math.abs(anchor.dy)&&(direction="V"):direction=void 0:direction=void 0,direction}function getPathDirectionForElbowFromPointByDistance(pathway,edge,point){var direction,comparisonPoint;return comparisonPoint=point===edge.Point[0]?edge.Point[1]:edge.Point[edge.Point.length-1],direction=Math.abs(comparisonPoint.x-point.x)<Math.abs(comparisonPoint.y-point.y)?"V":"H"}function switchDirection(currentDirection){return currentDirection=currentDirection.toUpperCase(),"H"===currentDirection?"V":"H"}function get(edge,callback){if(!edge)throw new Error("No edge specified as input.");var currentDirection,startDirection,endDirection,index,pointStart=edge.Point[0],pathData="M "+source.x+" "+source.y;if(edge.connectorType&&void 0!==edge.connectorType&&"Straight"!==edge.connectorType)if("Elbow"===edge.connectorType){startDirection=getPathDirectionForElbowFromPoint(pathway,edge,pointStart),currentDirection=startDirection,endDirection=getPathDirectionForElbowFromPoint(pathway,edge,pointEnd);var pathCoordinatesArray=[];async.series([function(callbackInside){if(2===edge.Point.length)pathvisiojs.view.pathwayDiagram.pathFinder.getPath(pathway,edge,function(data){pathCoordinatesArray=data,callbackInside(null)});else{pathCoordinatesArray.push({x:pointStart.x,y:pointStart.y}),index=0;do index+=1,"H"===currentDirection?pathCoordinatesArray.push({x:edge.Point[index].x,y:edge.Point[index-1].y}):pathCoordinatesArray.push({x:edge.Point[index-1].x,y:edge.Point[index].y}),currentDirection=switchDirection(currentDirection);while(index<edge.Point.length-1);pathCoordinatesArray.push({x:pointEnd.x,y:pointEnd.y}),callbackInside(null)}}],function(){3===pathCoordinatesArray.length?Math.abs(pathCoordinatesArray[1].x-pointStart.x)<Math.abs(pathCoordinatesArray[1].x-pointEnd.x)?(pathCoordinatesArray[1].x=pointStart.x,pathCoordinatesArray[1].y=pointEnd.y):(pathCoordinatesArray[1].x=pointEnd.x,pathCoordinatesArray[1].y=pointStart.y):(Math.abs(pathCoordinatesArray[1].x-pointStart.x)<Math.abs(pathCoordinatesArray[1].y-pointStart.y)?pathCoordinatesArray[1].x=pointStart.x:pathCoordinatesArray[1].y=pointStart.y,Math.abs(pathCoordinatesArray[pathCoordinatesArray.length-2].x-pointEnd.x)<Math.abs(pathCoordinatesArray[pathCoordinatesArray.length-2].y-pointEnd.y)?pathCoordinatesArray[pathCoordinatesArray.length-2].x=pointEnd.x:pathCoordinatesArray[pathCoordinatesArray.length-2].y=pointEnd.y),"H"===startDirection?pathCoordinatesArray[1].y=pointStart.y:"V"===startDirection&&(pathCoordinatesArray[1].x=pointStart.x),"H"===endDirection?pathCoordinatesArray[pathCoordinatesArray.length-2].y=pointEnd.y:"V"===endDirection&&(pathCoordinatesArray[pathCoordinatesArray.length-2].x=pointEnd.x),console.log("pathCoordinatesArray"),console.log(pathCoordinatesArray),self.pathCoordinatesArray=pathCoordinatesArray,index=0;do index+=1,pathData+=" L "+pathCoordinatesArray[index].x+" "+pathCoordinatesArray[index].y;while(index<pathCoordinatesArray.length-1);console.log("pathData"),console.log(pathData),callback(pathData)})}else"Segmented"===edge.connectorType?(edge.Point.forEach(function(element,index,array){index>0&&index<array.length-1&&(pathData+=" L "+element.x+" "+element.y)}),pathData+=" L "+target.x+" "+target.y,callback(pathData)):"Curved"===edge.connectorType?(pathCoordinatesArray=2===edge.Point.length?pathvisiojs.view.pathwayDiagram.pathFinder.getPath(pathway,edge):edge.Point,pathCoordinatesArray.forEach(function(element,index,array){index>0&&index<array.length-1&&(target.x=(array[index].x+array[index-1].x)/2,target.y=(array[index].y+array[index-1].y)/2,pathData+=" T"+target.x+","+target.y)}),pathData+=" T"+pathCoordinatesArray[pathCoordinatesArray.length-1].x+","+pathCoordinatesArray[pathCoordinatesArray.length-1].y,callback(pathData)):(console.log("Warning: pathvisiojs does not support connector type: "+edge.connectorType),edge.Point.forEach(function(element,index,array){index>0&&index<array.length-1&&(pathData+=" L "+element.x+" "+element.y)}),pathData+=" L "+target.x+" "+target.y,callback(pathData));else pathData+=" L "+target.x+" "+target.y,callback(pathData)}return{get:get}}(),pathvisiojs.view.pathwayDiagram.png=function(){function load(args,callback){if(!args)throw new Error("Missing input data.");var pngUrl,png,pngWidth,pngHeight,fitScreenScale,wikiPathwaysId=args.parsedInputData.wikiPathwaysId,revision=args.parsedInputData.revision,target=args.target,containerWidth=args.width,containerHeight=args.height;pngUrl=wikiPathwaysId?encodeURI("http://www.wikipathways.org/wpi//wpi.php?action=downloadFile&type=png&pwTitle=Pathway:"+wikiPathwaysId+"&revision="+revision):"http://upload.wikimedia.org/wikipedia/commons/3/3b/Picture_Not_Yet_Available.png",window.setTimeout(function(){png=document.createElement("img"),png.src=pngUrl,png.onload=function(){pngWidth=this.width,pngHeight=this.height,fitScreenScale=Math.min(containerWidth/pngWidth,containerHeight/pngHeight),target.append("img").attr("id","pathvisiojs-pathway-png").attr("src",pngUrl).attr("x",0).attr("y",0).attr("style","position:relative; left:"+(containerWidth-pngWidth*fitScreenScale)/2+"px; "+"top:"+(containerHeight-pngHeight*fitScreenScale)/2+"px; ").attr("width",pngWidth*fitScreenScale).attr("height",pngHeight*fitScreenScale),callback(null)}},50)}return{load:load}}();