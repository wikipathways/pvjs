var pathvisioNS=pathvisioNS||{};pathvisioNS["tmp/pathvisio-js.html"]='<div id="pathvisio-js-container" style="width: inherit; height: inherit; position: absolute; ">\n\n    <!-- **********************************************************************\n    Pathway Container (JavaScript inserts pathway image inside this div)\n    *********************************************************************** -->\n\n    <div id="pathway-container" style="width:inherit; height: inherit; " class="y-mid">\n      \n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="pathway-svg" version="1.1" baseProfile="full" width="500px" height="500px" style="display: inline; width: 502px; height: 502px; " class="x-mid" onmouseup="svgPanZoom.handleMouseUp(evt)" onmousedown="svgPanZoom.handleMouseDown(evt)" onmousemove="svgPanZoom.handleMouseMove(evt)">\n	<g>\n	<title>pathway defs for pathvisiojs</title>\n	<desc>\n	This SVG file contains all the graphical elements (markers and symbols in defs as well as\n	style data) used by the program pathvisiojs, which has two components: \n	1) a viewer for transforming GPML biological pathway data into an SVG visual representation and \n	2) an editor for creating both views and models for biological pathways.\n	</desc>\n	</g>\n	<defs>\n\n    <filter id="highlight" width="150%" height="150%">\n        <feOffset result="offOut" in="SourceGraphic" dx="30" dy="30"></feOffset>\n        <feGaussianBlur result="blurOut" in="offOut" stdDeviation="10"></feGaussianBlur>\n        <feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend>\n    </filter>\n\n	<!-- ***************************\n	Markers (Arrowheads) \n	*************************** -->\n\n	<!-- Here we generate a set of interaction markers for the default color (black). If we need other colors,\n	we need to clone the black marker and set the color for the clone to the desired color using d3.js.\n	I wish fill="currentColor" worked for markers, but that does not appear to be the case. -->\n\n	<!-- Each marker includes a small rectangle with a default-fill color to obscure the\n	ends of lines that might otherwise show up beneath the marker. Double lines require their own special\n	obscuring rects and are included as a double-line-hack-start/end marker, defined here and added in\n	gpml2json.js -->\n\n	<!-- arrow markers: triangular polygons, no stroke -->\n\n<!--\n	<marker id="arrow-start-black" \n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect class="default-fill" stroke="none" x="0" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="12,5 0,0 12,-5"/>\n	</marker>\n\n	<marker id="arrow-end-black"\n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect class="default-fill" stroke="none" x="-2" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="-12,5 0,0 -12,-5"/>\n	</marker>\n  -->\n	<marker id="arrow-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/arrow.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="arrow-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/arrow.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n\n	<!-- mim-binding markers: four-point polygon, no stroke -->\n<!--\n	<marker id="mim-binding-start-black" \n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect class="default-fill" stroke="none" x="0" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="12,6 0,0 12,-6 5,0 "/>\n	</marker>\n\n	<marker id="mim-binding-end-black"\n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect class="default-fill" stroke="none" x="-2" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="-12,6 0,0 -12,-6 -5,0 "/>\n	</marker>\n-->\n	<marker id="mim-binding-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-binding.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-binding-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-binding.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-branching-left markers: line and extended drawing-board rect -->\n\n<!--\n	<marker id="mim-branching-left-start-black" \n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="3.5" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="3.7" y1="0" x2="0" y2="-6"/>	\n	</marker>\n\n	<marker id="mim-branching-left-end-black"\n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-3.5" y="-0.6" width="3.5" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="-3.7" y1="0" x2="0" y2="6"/>	\n	</marker>\n-->\n	<marker id="mim-branching-left-start-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-branching-left.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-branching-left-end-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-branching-left.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n\n	<!-- mim-branching-right markers: line and extended drawing-board rect -->\n\n  <!--\n	<marker id="mim-branching-right-start-black" \n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="3.5" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="3.7" y1="0" x2="0" y2="6"/>\n	</marker>\n\n	<marker id="mim-branching-right-end-black"\n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-3.5" y="-0.6" width="3.5" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="-3.7" y1="0" x2="0" y2="-6"/>	\n	</marker>\n-->\n	<marker id="mim-branching-right-start-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-branching-right.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-branching-right-end-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-branching-right.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-catalysis markers: circle, drawing-board fill and black stroke -->\n<!--\n	<marker id="mim-catalysis-start-black"\n	class="default-fill"\n	stroke="black"\n	markerHeight="12"\n	markerWidth="12"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<circle cx="5.3" cy="0" r="5.3px" stroke-width="1px"/>\n	</marker>\n\n	<marker id="mim-catalysis-end-black"\n	class="default-fill"\n	stroke="black"\n	markerHeight="12"\n	markerUnits="strokeWidth"\n	markerWidth="12"\n	orient="auto"\n	refX="5" refY="0"\n	viewBox="-6.5 -6 12 12">\n	<circle cx="-0.3" cy="0" r="5.3px" stroke-width="1px"/>\n	</marker>\n-->\n\n	<marker id="mim-catalysis-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-catalysis.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-catalysis-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-catalysis.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-cleavage markers: two lines and extended drawing-board rect -->\n  <!--\n	<marker id="mim-cleavage-start-black" \n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-8 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="3.5" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="3.7" y1="0" x2="3.7" y2="6"/>	\n	<line fill="none" stroke-width=".4" x1="3.7" y1="6" x2="-8" y2="-6"/>	\n	</marker>\n\n	<marker id="mim-cleavage-end-black"\n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-4 -6 12 12">\n	<rect stroke="none" x="-3.5" y="-0.6" width="3.5" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="-3.7" y1="0" x2="-3.7" y2="-6"/>	\n	<line fill="none" stroke-width=".4" x1="-3.7" y1="-6" x2="8" y2="6"/>	\n	</marker>\n  -->\n	<marker id="mim-cleavage-start-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="8" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-cleavage.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-cleavage-end-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="4" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-cleavage.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-conversion markers: triangular polygons, no stroke -->\n<!--\n	<marker id="mim-conversion-start-black" \n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect class="default-fill" stroke="none" x="0" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="11,5 0,0 11,-5"/>\n	</marker>\n\n	<marker id="mim-conversion-end-black"\n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect class="default-fill" stroke="none" x="-2" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="-11,5 0,0 -11,-5"/>\n	</marker>\n-->\n	<marker id="mim-conversion-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-conversion.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-conversion-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-conversion.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-covalent-bond markers: not much to see here! -->\n<!--\n	<marker id="mim-covalent-bond-start-black"\n	markerUnits="strokeWidth"\n	markerWidth="10" markerHeight="10"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	</marker>\n\n	<marker id="mim-covalent-bond-end-black"\n	markerUnits="strokeWidth"\n	markerWidth="10" markerHeight="10"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	</marker>\n-->\n	<marker id="mim-covalent-bond-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-covalent-bond.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-covalent-bond-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-covalent-bond.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-gap markers: just an extended drawing-board rect -->\n	<!-- \n	TODO This could be refactored to make the shape match the viewbox.\n	It can overlap the side of the shape, blanking out a small part of it when the edge is at an angle.\n	-->\n<!--\n	<marker id="mim-gap-start-black"\n	class="default-fill"\n	markerUnits="strokeWidth"\n	markerWidth="10" markerHeight="10"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="-2" y="-0.7" width="8" height="1.4" />\n	</marker>\n\n	<marker id="mim-gap-end-black"\n	class="default-fill"\n	markerUnits="strokeWidth"\n	markerWidth="10" markerHeight="10"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-6" y="-0.7" width="8" height="1.4" />\n	</marker>\n-->\n	<marker id="mim-gap-start-black" class="default-fill" stroke="black" markerHeight="10" markerWidth="10" markerUnits="strokeWidth" orient="auto" refX="2" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-gap.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-gap-end-black" class="default-fill" stroke="black" markerHeight="10" markerWidth="10" markerUnits="strokeWidth" orient="auto" refX="10" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-gap.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-inhibition markers: vertical line; and extended drawing-board rect -->\n\n  <!--\n	<marker id="mim-inhibition-start-black"\n	class="default-fill"\n	stroke="black"\n	markerWidth="16" \n	markerHeight="16"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="5" height="1.2" />\n	<line fill="none" stroke-width="1.6" x1="5" y1="-6" x2="5" y2="6"/>\n  </marker>\n\n	<marker id="mim-inhibition-end-black"\n	class="default-fill"\n	stroke="black"\n	markerUnits="strokeWidth"\n	markerWidth="16" \n	markerHeight="16"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-5" y="-0.6" width="5" height="1.2" />\n	<line fill="none" stroke-width="1.6" x1="-5" y1="-6" x2="-5" y2="6"/>\n	</marker>\n	-->\n  \n	<marker id="mim-inhibition-start-black" class="default-fill" stroke="black" markerWidth="16" markerHeight="16" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-inhibition.svg" x="0" y="0" width="12" height="12"></image>\n  </marker>\n  \n	<marker id="mim-inhibition-end-black" class="default-fill" stroke="black" markerWidth="16" markerHeight="16" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-inhibition.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n  </marker>\n\n	<!-- mim-modification markers: four-point polygon, no stroke -->\n<!-- TODO\n	<marker id="mim-modification-start-black" \n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect class="default-fill" stroke="none" x="0" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="12,6 0,0 12,-6 5,0 "/>\n	</marker>\n\n	<marker id="mim-modification-end-black"\n	fill="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect class="default-fill" stroke="none" x="-2" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="0" points="-12,6 0,0 -12,-6 -5,0 "/>\n	</marker>\n  -->\n	<marker id="mim-modification-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-modification.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-modification-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-modification.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-necessary-stimulation markers: triangular polygons, drawing-board fill, black stroke; and vertical line -->\n<!--\n	<marker id="mim-necessary-stimulation-start-black"\n	class="default-fill"\n	stroke="black"\n	markerWidth="12" markerHeight="12"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 15 12">\n	<rect stroke="none" x="0" y="-0.6" width="2" height="1.2" />\n	<line fill="none" stroke-width="1" x1="14" y1="-6" x2="14" y2="6"/>\n	<polygon stroke-width="1" points="9,5 0,0 9,-5"/>\n	</marker>\n\n	<marker id="mim-necessary-stimulation-end-black"\n	class="default-fill"\n	stroke="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-15 -6 15 12">\n	<rect stroke="none" x="-2" y="-0.6" width="2" height="1.2" />\n	<line fill="none" stroke-width="1" x1="-14" y1="-6" x2="-14" y2="6"/>\n	<polygon stroke-width="1" points="-9,5 0,0 -9,-5"/>\n	</marker>\n  -->\n	<marker id="mim-necessary-stimulation-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 15 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-necessary-stimulation.svg" x="0" y="0" width="15" height="12"></image>\n	</marker>\n\n	<marker id="mim-necessary-stimulation-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="15" refY="6" viewBox="0 0 15 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-necessary-stimulation.svg" x="0" y="0" width="15" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-stimulation markers: triangular polygons, drawing-board fill, black stroke -->\n<!--\n	<marker id="mim-stimulation-start-black"\n	class="default-fill"\n	stroke="black"\n	markerWidth="12" markerHeight="12"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="1" points="11,5 0,0 11,-5"/>\n	</marker>\n\n	<marker id="mim-stimulation-end-black"\n	class="default-fill"\n	stroke="black"\n	markerUnits="strokeWidth"\n	markerWidth="12" markerHeight="12"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-2" y="-0.6" width="2" height="1.2" />\n	<polygon stroke-width="1" points="-11,5 0,0 -11,-5"/>\n	</marker>\n  -->\n	<marker id="mim-stimulation-start-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-stimulation.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-stimulation-end-black" class="default-fill" stroke="black" markerHeight="12" markerWidth="12" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-stimulation.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- mim-transcription-translation markers: two lines and an open trigular polygon, plus extended drawing-board rect -->\n<!--\n	<marker id="mim-transcription-translation-start-black"\n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="6" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="9" y1="0" x2="9" y2="-4"/>\n	<line fill="none" stroke-width=".4" x1="9" y1="-4" x2="5" y2="-4"/>\n	<polygon stroke-width=".4" points="5,-6 0,-4 5,-2"/>\n	</marker>\n\n	<marker id="mim-transcription-translation-end-black"\n	class="default-fill" \n	stroke="black"\n	markerHeight="24"\n	markerWidth="24"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-6" y="-0.6" width="6" height="1.2" />\n	<line fill="none" stroke-width=".4" x1="-9" y1="0" x2="-9" y2="4"/>\n	<line fill="none" stroke-width=".4" x1="-9" y1="4" x2="-5" y2="4"/>\n	<polygon stroke-width=".4" points="-5,6 0,4 -5,2"/>	\n	</marker>\n  -->\n	<marker id="mim-transcription-translation-start-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-transcription-translation.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="mim-transcription-translation-end-black" class="default-fill" stroke="black" markerHeight="24" markerWidth="24" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/mim-transcription-translation.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<!-- t-bar markers: vertical line; and extended drawing-board rect -->\n<!--\n	<marker id="t-bar-start-black"\n	class="default-fill"\n	stroke="black"\n	markerWidth="16" \n	markerHeight="16"\n	markerUnits="strokeWidth"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect stroke="none" x="0" y="-0.6" width="5" height="1.2" />\n	<line fill="none" stroke-width="1.6" x1="5" y1="-6" x2="5" y2="6"/>\n	</marker>\n\n	<marker id="t-bar-end-black"\n	class="default-fill"\n	stroke="black"\n	markerUnits="strokeWidth"\n	markerWidth="16" \n	markerHeight="16"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect stroke="none" x="-5" y="-0.6" width="5" height="1.2" />\n	<line fill="none" stroke-width="1.6" x1="-5" y1="-6" x2="-5" y2="6"/>\n	</marker>\n  -->\n	<marker id="t-bar-start-black" class="default-fill" stroke="black" markerHeight="16" markerWidth="16" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/t-bar.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="t-bar-end-black" class="default-fill" stroke="black" markerHeight="16" markerWidth="16" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/t-bar.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n	\n	<!-- double-line-hack markers are used in double line handling; they include their own \n	special blank rect to obscure the ends -->\n<!--\n	<marker id="double-line-hack-start"\n	markerUnits="strokeWidth"\n	markerWidth="10" markerHeight="10"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="0 -6 12 12">\n	<rect class="default-fill" stroke="none" x="0" y="-1.5" width="2.3" height="3" />\n	</marker>\n\n	<marker id="double-line-hack-end"\n	markerUnits="strokeWidth"\n	markerWidth="10" markerHeight="10"\n	orient="auto"\n	refX="0" refY="0"\n	viewBox="-12 -6 12 12">\n	<rect class="default-fill" stroke="none" x="-2.3" y="-1.5" width="2.3" height="3" />\n	</marker>\n  -->\n	<marker id="double-line-hack-start" class="default-fill" stroke="black" markerHeight="10" markerWidth="10" markerUnits="strokeWidth" orient="auto" refX="0" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/double-line-hack.svg" x="0" y="0" width="12" height="12"></image>\n	</marker>\n\n	<marker id="double-line-hack-end" class="default-fill" stroke="black" markerHeight="10" markerWidth="10" markerUnits="strokeWidth" orient="auto" refX="12" refY="6" viewBox="0 0 12 12">\n  <image xlink:href="http://wikipathways.github.io/pathvisiojs/src/views/markers/double-line-hack.svg" x="0" y="0" width="12" height="12" class="marker-end"></image>\n	</marker>\n\n	<symbol id="grid-square" viewBox="0 0 100 100" preserveAspectRatio="none">\n\n		<rect x="1" y="1" width="99" height="99" stroke="gray" stroke-width="2"></rect>\n	</symbol>\n\n	<symbol id="none" viewBox="0 0 100 100" preserveAspectRatio="none"></symbol>\n\n	<marker id="arrow" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="arrow" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke" style="fill:black" viewBox="0 0 12 12">\n	<rect class="default-fill" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon fill="black" stroke-width="0" points="12,11 0,6 12,1"></polygon>\n\n</svg></marker><marker id="mim-branching-left" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-branching-left" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke">\n\n	<rect stroke="none" x="0" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width=".4" x1="3.7" y1="6" x2="0" y2="0"></line>	\n\n</svg></marker><marker id="mim-branching-right" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-branching-right" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke">\n\n	<rect stroke="none" x="0" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width=".4" x1="0" y1="12" x2="3.7" y2="6"></line>	\n\n</svg></marker><marker id="mim-necessary-stimulation" preserveAspectRatio="none" viewBox="0 0 15 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-necessary-stimulation" version="1.1" baseProfile="full" width="15" height="12" class="default-fill solid-stroke" style="stroke:black" viewBox="0 0 15 12">\n\n	<rect stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<line fill="none" stroke-width="1" x1="14" y1="0" x2="14" y2="12"></line>\n	<polygon stroke-width="1" points="9,11 0,6 9,1"></polygon>\n\n</svg></marker><marker id="mim-binding" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-binding" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke" style="fill:black" viewBox="0 0 12 12">\n\n	<rect class="default-fill" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</svg></marker><marker id="mim-conversion" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-conversion" version="1.1" baseProfile="full" width="12" height="12" style="fill:black" class="solid-stroke" viewBox="0 0 12 12">\n\n	<rect class="default-fill" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="11,11 0,6 11,1"></polygon>\n\n</svg></marker><marker id="mim-stimulation" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-stimulation" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke" style="stroke:black" viewBox="0 0 12 12">\n\n	<rect class="default-fill" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="1" points="11,11 0,6 11,1"></polygon>\n\n</svg></marker><marker id="mim-modification" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-modification" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke" style="fill:black" viewBox="0 0 12 12">\n\n	<rect class="default-fill" stroke="none" x="0" y="5.4" width="2" height="1.2"></rect>\n	<polygon stroke-width="0" points="12,12 0,6 12,0 5,6 "></polygon>\n\n</svg></marker><marker id="mim-catalysis" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-catalysis" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke" viewBox="-6 -6 12 12">\n\n	<circle cx="0" cy="0" r="5.3px" stroke-width="1px"></circle>\n\n</svg></marker><marker id="mim-inhibition" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-inhibition" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke">\n\n	<rect stroke="none" x="0" y="5.4" width="5" height="1.2"></rect>\n	<line fill="none" stroke-width="1.6" x1="5" y1="0" x2="5" y2="12"></line>\n\n</svg></marker><marker id="mim-cleavage" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-cleavage" version="1.1" baseProfile="full" width="12" height="12" viewBox="0 0 12 12" class="default-fill solid-stroke">\n\n	<rect stroke="none" x="8" y="5.4" width="3.5" height="1.2"></rect>\n	<line fill="none" stroke-width=".4" x1="11.7" y1="6" x2="11.7" y2="12"></line>	\n	<line fill="none" stroke-width=".4" x1="11.7" y1="12" x2="0" y2="0"></line>	\n\n</svg></marker><marker id="mim-covalent-bond" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-covalent-bond" version="1.1" baseProfile="full" width="12" height="12" class="solid-stroke" style="fill:black" viewBox="0 0 12 12">\n\n</svg></marker><marker id="mim-transcription-translation" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-transcription-translation" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke" style="stroke:black">\n\n	<rect stroke="none" x="0" y="5.4" width="6" height="1.2"></rect>\n	<line fill="none" stroke-width=".4" x1="9" y1="6" x2="9" y2="2"></line>\n	<line fill="none" stroke-width=".4" x1="9" y1="2" x2="5" y2="2"></line>\n	<polygon stroke-width=".4" points="5,0 0,2 5,4"></polygon>\n\n</svg></marker><marker id="mim-gap" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="mim-gap" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke" viewBox="0 0 12 12">\n\n	<rect stroke="none" x="0" y="5.3" width="8" height="1.4"></rect>\n\n</svg></marker><marker id="t-bar" preserveAspectRatio="none" viewBox="0 0 12 12"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="t-bar" version="1.1" baseProfile="full" width="12" height="12" class="default-fill solid-stroke" style="stroke:black">\n\n	<rect stroke="none" x="0" y="5.4" width="5" height="1.2"></rect>\n	<line fill="none" stroke-width="1.6" x1="5" y1="0" x2="5" y2="12"></line>\n\n</svg></marker><symbol id="brace" preserveAspectRatio="none" viewBox="0 0 100 50"><clipPath id="brace-clip-path">\n		<path d="m1.5,49.499996c0,-16.166668 8.166666,-24.249996 24.499998,-24.249996s24.499998,-8.083336 24.499998,-24.250002c0,16.166666 8.166664,24.250002 24.499996,24.250002s24.5,8.083328 24.5,24.249996" vector-effect="non-scaling-stroke"></path>\n        </clipPath></symbol><symbol id="arc" preserveAspectRatio="none" viewBox="0 0 100 100"><path d="m1.5,50.5c0,-16.16667 8.16667,-24.25 24.5,-24.25s24.5,-8.08334 24.5,-24.25c0,16.16666 8.16666,24.25 24.49999,24.25s24.50001,8.08333 24.50001,24.25" vector-effect="non-scaling-stroke" class="node shape"></path></symbol><symbol id="golgi-apparatus" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="golgi-apparatus-clip-path1">\n	<path d="m58.46714,27.713327c-22.205345,-29.90079 37.310066,-30.258356 25.567245,-4.823446c-8.807655,18.581238 -17.066429,58.135235 -0.941673,99.22044c13.31469,27.066696 -41.748463,27.760925 -27.755554,-1.469849c11.345825,-29.420242 10.286858,-80.336422 3.129982,-92.927145z" vector-effect="non-scaling-stroke"></path>\n   	</clipPath><clipPath id="golgi-apparatus-clip-path3">\n   	<path d="m29.803959,52.160912c1.584177,11.474716 2.723461,16.737267 -1.482977,38.361366c-3.731956,12.989006 -3.600399,16.340691 -11.732334,19.412781c-6.683298,1.658531 -11.864832,-9.789436 -4.793299,-16.11377c4.855728,-5.623222 6.141087,-10.882362 6.658888,-22.954659c-0.239212,-9.521427 0.814508,-15.823826 -5.36692,-19.958626c-7.624315,-2.195171 -6.088041,-16.534611 4.824059,-13.863804c5.849354,1.027065 10.282408,8.561516 11.892582,15.116711z" vector-effect="non-scaling-stroke"></path>\n	</clipPath><path d="m31.214371,36.214363c-10.791712,-21.427903 29.897598,-19.848164 18.407501,0.670895c-4.066933,7.422386 -5.782803,61.572803 1.160713,75.028805c8.52943,18.597427 -32.852985,19.355408 -20.500162,-2.250633c6.952761,-17.358604 10.473742,-52.291187 0.931948,-73.449066z" style="clip-path: url(#golgi-apparatus-clip-path2); " vector-effect="non-scaling-stroke"></path></symbol><symbol id="endoplasmic-reticulum" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="endoplasmic-reticulum-clip-path">\n		<path d="m73.52756,56.60967c-5.62457,-18.60675 23.51463,-32.43358 23.40173,-45.06604c-0.34426,-4.86102 -10.48934,-8.89743 -18.28974,-5.33395c-17.04119,7.87556 -15.64949,29.30503 -21.20533,42.23387c-0.35661,3.60951 -7.36274,2.46926 -7.74964,-0.48694c-5.8512,-11.38871 17.13534,-24.48692 5.96075,-29.42586c-19.63467,-8.16979 -28.75184,21.15346 -22.0682,28.81784c7.4956,14.17602 -2.17949,24.40679 -6.74689,15.49637c-2.44209,-5.30613 6.06605,-11.08445 -0.80351,-16.17689c-4.31991,-2.79993 -11.75555,-0.64618 -16.15468,3.0943c-12.89117,10.73799 4.72957,40.98145 20.96467,36.14635c4.69833,-1.95989 -3.23603,-8.70151 3.90717,-9.59951c7.29767,-0.81255 5.17628,6.18889 7.68745,9.22691c2.3071,4.0509 4.83232,8.35538 10.7626,11.6237c4.78642,2.53724 15.29437,2.11225 16.77148,-1.95795c2.0318,-9.26291 -26.11129,-28.35848 -10.68903,-31.2815c18.55524,-2.71473 4.74866,23.84573 24.31006,29.69419c9.50188,2.02824 15.63902,-0.62194 14.81255,-4.03272c-2.74586,-11.26327 -25.13557,-22.6802 -24.96441,-33.14968" vector-effect="non-scaling-stroke"></path>\n	</clipPath></symbol><symbol id="hexagon" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="hexagon-clip-path">\n		<path d="m1.42004,50.99635l21.07262,-42.13943l56.19152,0l21.0667,42.13943l-21.0667,42.14507l-56.19152,0l-21.07262,-42.14507z" vector-effect="non-scaling-stroke"></path>\n        </clipPath></symbol><symbol id="mim-degradation" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="mim-degradation-circle-clip-path">\n		<circle cx="50" cy="50" r="49" vector-effect="non-scaling-stroke"></circle>\n  	</clipPath><line x1="1" y1="1" x2="100" y2="100" stroke-width="1" vector-effect="non-scaling-stroke"></line></symbol><symbol id="mitochondria" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="oval-clip-path">\n		<ellipse cx="50" cy="50" rx="50" ry="50" vector-effect="non-scaling-stroke"></ellipse>\n        </clipPath><ellipse cx="50" cy="50" rx="50" ry="50" style="clip-path: url(#oval-clip-path); " vector-effect="non-scaling-stroke"></ellipse></symbol><symbol id="oval" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="oval-clip-path">\n		<ellipse cx="50" cy="25" rx="50" ry="25" vector-effect="non-scaling-stroke"></ellipse>\n        </clipPath></symbol><symbol id="pentagon" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="pentagon-clip-path">\n		<polygon points="59.159732818603516,99.61322021484375 95,50.28331756591797 59.159732818603516,0.9534196853637695 1.168962001800537,19.795764923095703 1.168962001800537,80.7708740234375 " vector-effect="non-scaling-stroke"></polygon>\n	</clipPath></symbol><symbol id="rectangle" preserveAspectRatio="none" viewBox="0 0 100 50"><clipPath id="rectangle-clip-path">\n	<rect x="0" y="0" width="100" height="50" vector-effect="non-scaling-stroke"></rect>\n      	</clipPath><rect x="0" y="0" width="100" height="50" style="clip-path: url(#rectangle-clip-path); " vector-effect="non-scaling-stroke"></rect></symbol><symbol id="sarcoplasmic-reticulum" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="sarcoplasmic-reticulum-clip-path">\n		<path d="m46.60182,1.40724c-32.37224,1.34138 -36.32004,22.77011 -26.50318,38.12777c9.31826,18.3425 -18.7656,30.15016 2.56955,49.37807c16.82126,13.11594 46.33175,6.10508 52.12638,-8.56826c5.89916,-15.24847 -10.95099,-26.0272 -3.29316,-40.96135c10.85342,-19.88432 -0.77615,-38.13043 -24.89959,-37.97624z" vector-effect="non-scaling-stroke"></path>	\n	</clipPath></symbol><symbol id="triangle" preserveAspectRatio="none" viewBox="0 0 100 100"><clipPath id="triangle-clip-path">\n		<polygon points="1,49 49,24 1,1" vector-effect="non-scaling-stroke"></polygon>\n        </clipPath></symbol><style type="text/css">	svg {\n		color-interpolation: auto;\n		image-rendering: auto;\n		shape-rendering: auto;\n		vector-effect: non-scaling-stroke;\n		fill: white;\n		background: white;\n    stroke: black;\n	}\n\n	.default-fill {\n		fill: white;\n	}\n\n	.stroke-color-equals-default-fill-color {\n		stroke: white;\n	}\n\n	text {\n		font-family: Sans-Serif, Helvetica, Arial;\n		font-size: 10px;\n		fill: black;\n		fill-opacity: 1;\n		stroke: none;\n		text-anchor: middle;\n		font-size: 10px;\n		stroke: none;\n	}\n\n	.info-box {\n		font-family: Sans-Serif;\n		font-size: 10px;\n		fill: black;\n		stroke: none;\n		text-anchor: start;\n	}\n\n	.info-box-property-name {\n		font-weight: bold;\n	}\n\n	path.group {\n		fill-opacity: 0.098;\n		stroke: gray;\n		stroke-miterlimit: 1;\n		stroke-width: 1px;\n	}\n\n	path.group:hover {\n		fill-opacity: 0.2;\n		stroke-width: 1px;\n	}\n\n	path.group-none {\n		fill: rgb(180,180,100);\n		stroke-dasharray: 5,3;\n	}\n\n	path.group-group {\n		fill-opacity: 0;\n		stroke-width: 0;\n	}\n\n	path.group-complex {\n		fill: rgb(180,180,100);\n	}\n\n	path.group-pathway {\n		fill: lightgreen;\n		stroke-dasharray: 5,3;\n	}\n\n	use.data-node {\n		fill-opacity: 1;\n		stroke: black;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	use.gene-product {\n	}\n\n	use.metabolite {\n		stroke: blue;\n	}\n\n	text.metabolite {\n		fill: blue;\n	}\n\n	use.pathway {\n		stroke: rgb(20,150,30);\n		fill-opacity: 0;\n	}\n\n	text.pathway {\n		fill: rgb(20,150,30);\n		fill-opacity: 1;\n		stroke: none;\n	}\n\n	use.protein {\n	}\n\n	use.rna {\n	}\n\n	use.unknown {\n	}\n\n	.label {\n		stroke: black;\n		stroke-width: 0;\n		fill-opacity: 0;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	.shape {\n		fill-opacity: 1;\n		stroke: black;\n		stroke-dasharray: 0;\n		stroke-miterlimit: 1;\n	}\n\n	.shape-none {\n		fill: none;\n		fill-opacity: 0;\n		stroke: none;\n	}\n\n	.cellular-component {\n		fill-opacity: 0;\n		stroke: gray;\n	}\n\n	.graphical-line {\n		fill:none;\n		stroke: black; \n		stroke-width: 1px; \n	}\n\n	.interaction {\n		fill:none;\n		stroke: black; \n		stroke-width: 1px; \n	}\n\n	marker {\n		/* this is what should work per the spec\n		   stroke-dasharray: none; */\n		/* but I need to add this to make it work in Safari */\n		stroke-dasharray: 9999999999999999999999999;\n	}\n\n  .marker-end {\n    -webkit-transform: rotate(180deg);\n    -webkit-transform-origin: 50% 50%;\n\n    -o-transform: rotate(180deg); \n    -o-transform-origin: 50% 50%;\n\n    transform: rotate(180deg);\n    transform-origin: 50% 50%;\n  }\n\n	.solid-stroke {\n		/* this is what should work per the spec\n		   stroke-dasharray: none; */\n		/* but I need to add this to make it work in Safari */\n		stroke-dasharray: 9999999999999999999999999;\n	}\n\n	.dashed-stroke {\n		stroke-dasharray: 5,3;\n	}\n\n  .highlighted-node {\n		fill: yellow;\n    fill-opacity: 0.2;\n		stroke: orange; \n    stroke-width: 3px;\n  }\n</style></defs>\n\n	<g id="viewport" transform="matrix(0.6736939549446106,0,0,0.6736939549446106,1.0000041846169552,6.999998453056833)">\n	</g>\n\n</svg></div>\n    \n    <!-- **********************************************************************\n      Highlight Element by Label Control\n      *********************************************************************** -->\n\n      <span class="twitter-typeahead" style="position: relative; display: inline-block;"><input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled="" style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; background-attachment: scroll; background-clip: border-box; background-color: rgb(255, 255, 255); background-image: none; background-origin: padding-box; background-size: auto; background-position: 0% 0%; background-repeat: repeat repeat;"><input id="highlight-by-label-input" placeholder="Enter node name to highlight." role="textbox" aria-autocomplete="list" aria-haspopup="true" class="tt-query" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top; background-color: transparent;"><span style="position: absolute; left: -9999px; visibility: hidden; white-space: nowrap; font-family: \'Lucida Grande\'; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></span><span class="tt-dropdown-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;"></span></span>\n\n      <!-- **********************************************************************\n      Pan Zoom Control\n      see http://bumbu.github.io/cytoscape.js/debug/ for example of cytoscape.js \n      *********************************************************************** -->\n\n      <div id="pan-zoom-control" class="ui-cytoscape-panzoom">\n        <div class="ui-cytoscape-panzoom-zoom-in ui-cytoscape-panzoom-zoom-button">\n          <span class="icon icon-plus"></span>\n        </div>\n        <div class="ui-cytoscape-panzoom-zoom-out ui-cytoscape-panzoom-zoom-button">\n          <span class="icon icon-minus"></span>\n        </div>\n        <div class="ui-cytoscape-panzoom-reset ui-cytoscape-panzoom-zoom-button">\n          <span class="icon icon-resize-full"></span>\n        </div>\n        <div class="ui-cytoscape-panzoom-slider">\n          <div class="ui-cytoscape-panzoom-slider-background">\n          </div>\n          <div class="ui-cytoscape-panzoom-slider-handle" style="top: 42.80000001192093px;">\n            <span class="icon icon-minus"></span>\n          </div>\n          <div class="ui-cytoscape-panzoom-no-zoom-tick" style="top: 42.80000001192093px;">\n          </div>\n        </div>\n        <div class="ui-cytoscape-panzoom-panner">\n          <div class="ui-cytoscape-panzoom-panner-handle">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-up ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-down ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-left ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-right ui-cytoscape-panzoom-pan-button">\n          </div>\n          <div class="ui-cytoscape-panzoom-pan-indicator" style="display: none; left: 22.424611085682006px; top: 0.12287108520014556px; background-color: rgb(127, 127, 127); background-position: initial initial; background-repeat: initial initial;">\n          </div>\n        </div>\n      </div>\n\n      <!-- **********************************************************************\n      Fullscreen Control \n      *********************************************************************** -->\n\n      <div id="fullscreen-control" style="position: absolute; bottom: 5px; right: 5px;">\n        <i class="icon-fullscreen" style="color:#aaa"></i>\n      </div>\n   \n\n    <div id="viewer-toolbar" style="position: absolute; top: 0px; right: 0px; height: inherit">\n    </div>\n      \n    <!-- **********************************************************************\n    Details Frame\n    *********************************************************************** -->\n\n    <div id="annotation" class="annotation ui-draggable" style="visibility: hidden; position: absolute; right: 75px; top: 100px;">\n      <header class="annotation-header">\n      <span id="annotation-move" class="annotation-header-move">\n        <i class="icon-move"></i>\n      </span>\n      <span id="annotation-header-text" class="annotation-header-text">\n        Header\n      </span> \n      <span id="annotation-header-search" class="annotation-header-search" title="Search for pathways containing \'Header Text\'">\n        <a href="http://wikipathways.org//index.php?title=Special:SearchPathways">\n          <i class="icon-search" style="color:blue; font-size:50% ; text-decoration:none"></i>\n        </a>\n      </span>\n      <span class="annotation-header-close">\n        <i class="icon-remove"></i>\n      </span>\n      <div id="annotation-description" class="annotation-description">\n        <h2>description</h2>\n      </div>\n      </header>\n      <span class="annotation-items-container">\n        <ul id="annotation-items-container">\n          <!-- List items inside this ul element are generated automatically by JavaScript.\n          Each item will be composed of a title and text. The text can be set to be an href.\n          You can edit the styling of the title by editing CSS class "annotation-item-title"\n          and the styling of the text by editing CSS class "annotation-item-text.\n          -->\n        </ul>\n      </span>\n    </div>\n  </div>\n',pathvisiojs=function(){function getUriFromWikiPathwaysId(wikiPathwaysId,revision){return"http://pointer.ucsf.edu/d3/r/data-sources/gpml.php?id="+wikiPathwaysId+"&rev="+revision
}function getInputDataDetails(inputData){console.log("inputData"),console.log(inputData);var results={};if(inputData.revision||(inputData.revision=0),"Object"===pathvisiojs.utilities.getObjectType(inputData))results=inputData,pathvisiojs.utilities.isWikiPathwaysId(inputData.wikiPathwaysId)&&(results.uri=getUriFromWikiPathwaysId(inputData.wikiPathwaysId,inputData.revision),results.type="GPML",results.pathwayIri="wpId:"+inputData.wikiPathwaysId);else if(pathvisiojs.utilities.isUrl(inputData))results.uri=inputData,results.uri.indexOf(".gpml")>-1&&(results.type="GPML",results.pathwayIri=inputData);else{if(!pathvisiojs.utilities.isWikiPathwaysId(inputData))return new Error("Pathvisio.js cannot handle the data source type entered: "+data);results.uri=getUriFromWikiPathwaysId(inputData),results.type="GPML",results.pathwayIri="wpId:"+inputData}return results}function getJson(inputData,callback){var inputDataDetails=getInputDataDetails(inputData);return!inputDataDetails.uri||inputDataDetails.type&&"GPML"!==inputDataDetails.type?new Error("No data source specified or pathvisio.js cannot handle the data source specified."):(d3.xml(inputDataDetails.uri,function(gpml){pathvisiojs.data.gpml.toRenderableJson(gpml,inputDataDetails.pathwayIri,function(json){callback(json)})}),void 0)}function load(args){return args.target?args.data?(async.parallel({preload:function(callback){pathvisiojs.view.pathwayDiagram.preload(args,function(loadArgs){callback(null,loadArgs)})},pathway:function(callback){getJson(args.data,function(json){console.log("json"),console.log(json),callback(null,json)})}},function(err,results){self.results=results;var viewLoadArgs=results.preload;viewLoadArgs.pathway=results.pathway,pathvisiojs.view.pathwayDiagram.load(viewLoadArgs,function(){});var nodeLabels=[],dataNodes=results.pathway.elements.filter(function(element){return"data-node"===element.nodeType});dataNodes.forEach(function(node){node.textLabel&&nodeLabels.push(node.textLabel.text)}),$("#highlight-by-label-input").typeahead({name:"Highlight node in pathway",local:nodeLabels,limit:10}),$("#highlight-by-label-input").bind("typeahead:selected",function(){var nodeLabel=$("#highlight-by-label-input").val();nodeLabel?pathvisiojs.view.pathwayDiagram.svg.node.highlightByLabel(results.preload.svg,results.pathway,nodeLabel):console.warn("Error: No data node value entered.")})}),void 0):console.warn("Error: No input data source (URL or WikiPathways ID) specified."):console.warn("Error: No target selector specified as target for pathvisiojs.")}return{load:load,getJson:getJson}}(),pathvisiojs.utilities=function(){function strToHtmlId(str){var re=/\W/gi,id=str.replace(re,"");return id}function isUrl(str){var urlPattern=new RegExp("((http|https)(://))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(/{1}[a-zA-Z0-9]+)*/?","i");return urlPattern.test(str)}function splitStringByNewLine(str){return str.split(/\r\n|\r|\n/g)}function cloneNode(selector){var node=d3.select(selector).node();return d3.select(node.parentNode.insertBefore(node.cloneNode(!0),node.nextSibling))}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function getUrlParam(name){var parameter=decodeURIComponent((new RegExp("[?|&]"+name+"="+"([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null;return parameter?parameter:(console.warn('Warning: URL parameter "'+name+'" is null.'),null)}function isWikiPathwaysId(data){return data=data.trim(),"WP"===data.substr(0,2).toUpperCase()&&isNumber(data.substr(data.length-1))?!0:!1}function convertToArray(object){var array=null;return"Object"===getObjectType(object)?(array=[],array.push(object),array):"Array"===getObjectType(object)?object:"String"===getObjectType(object)?(array=[],array.push(object),array):void 0}function getObjectType(object){var result;return"[object Object]"===Object.prototype.toString.call(object)?result="Object":"[object Array]"===Object.prototype.toString.call(object)?result="Array":"[object String]"===Object.prototype.toString.call(object)&&(result="String"),result}function getWindowDimensions(){var winW=630,winH=460;return document.body&&document.body.offsetWidth&&(winW=document.body.offsetWidth,winH=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(winW=document.documentElement.offsetWidth,winH=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(winW=window.innerWidth,winH=window.innerHeight),{width:winW,height:winH}}function moveArrayItem(arr,old_index,new_index){if(new_index>=arr.length)for(var k=new_index-arr.length;k--+1;)arr.push(void 0);return arr.splice(new_index,0,arr.splice(old_index,1)[0]),arr}function isOdd(num){return num%2}return Element.prototype.getElementWidth=function(){return"undefined"!=typeof this.clip?this.clip.width:this.style.pixelWidth?this.style.pixelWidth:this.offsetWidth},Element.prototype.getElementHeight=function(){return"undefined"!=typeof this.clip?this.clip.width:this.style.pixelHeight?this.style.pixelHeight:this.offsetHeight},{isUrl:isUrl,splitStringByNewLine:splitStringByNewLine,getUrlParam:getUrlParam,cloneNode:cloneNode,convertToArray:convertToArray,getWindowDimensions:getWindowDimensions,moveArrayItem:moveArrayItem,isOdd:isOdd,isWikiPathwaysId:isWikiPathwaysId,isNumber:isNumber,strToHtmlId:strToHtmlId,getObjectType:getObjectType}}(),pathvisiojs.data={},pathvisiojs.data.bridgedb=function(){function getXrefAnnotationDataByDataNode(singleSpecies,node,callback){getDataSources(function(dataSources){var dataSourceRowCorrespondingToDataNodeXrefDatabase=getDataSourceRowByName(node.xRef.database,dataSources),systemCode=dataSourceRowCorrespondingToDataNodeXrefDatabase.systemCode;getXrefAliases(singleSpecies,systemCode,node.xRef.id,function(xRefAliases){var currentDataSourceRow,listItems=xRefAliases.map(function(xRefAlias){var listItem={};return listItem.title=xRefAlias.dataSourceName,listItem.text=xRefAlias.xRefId,currentDataSourceRow=getDataSourceRowByName(xRefAlias.dataSourceName,dataSources),listItem.priority=currentDataSourceRow.priority,currentDataSourceRow.hasOwnProperty("linkoutPattern")&&""!==currentDataSourceRow.linkoutPattern&&null!==currentDataSourceRow.linkoutPattern&&(listItem.uri=currentDataSourceRow.linkoutPattern.replace("$id",node.xRef.id)),listItem});listItems.sort(function(a,b){if(a.priority===b.priority){var x=a.title.toLowerCase(),y=b.title.toLowerCase();return y>x?-1:x>y?1:0}return b.priority-a.priority});var nestedListItems=d3.nest().key(function(d){return d.title}).entries(listItems),specifiedListItem=nestedListItems.filter(function(element){return element.key==node.xRef.database})[0],currentListItemIndex=nestedListItems.indexOf(specifiedListItem);nestedListItems=pathvisiojs.utilities.moveArrayItem(nestedListItems,currentListItemIndex,0);var specifiedXRefId=specifiedListItem.values.filter(function(element){return element.text==node.xRef.id})[0],currentXRefIdIndex=specifiedListItem.values.indexOf(specifiedXRefId);specifiedListItem.values=pathvisiojs.utilities.moveArrayItem(specifiedListItem.values,currentXRefIdIndex,0);var annotationData={header:node.textLabel.text,description:node.dataNodeType,listItems:nestedListItems};callback(annotationData)})})}function getDataSourceRowByName(dataSourceName,dataSources){var regexp=/[^\w]/gi,dataSourceRow=dataSources.filter(function(row){return row.dataSourceName===dataSourceName})[0];return dataSourceRow||(dataSourceRow=dataSources.filter(function(row){return row.dataSourceName.replace(regexp,"").toLowerCase()===dataSourceName.replace(regexp,"").toLowerCase()})[0]),dataSourceRow}function getDataSources(callback){d3.tsv("http://pointer.ucsf.edu/d3/r/data-sources/bridgedb.php?target=datasources").row(function(d){return{dataSourceName:d.datasource_name,systemCode:d.system_code,websiteUrl:d.website_url,linkoutPattern:d.linkout_pattern,exampleIdentifier:d.example_identifier,entityIdentified:d.entity_identified,singleSpecies:d.single_species,priority:d.identifier_type,uri:d.uri,regex:d.regex,officialName:d.official_name}}).get(function(error,rows){callback(rows)})}function getXrefAliases(singleSpecies,systemCode,xRefId,callback){var bridgedbUrl="http://pointer.ucsf.edu/d3/r/data-sources/bridgedb.php?single_species="+encodeURIComponent(singleSpecies)+"&system_code="+encodeURIComponent(systemCode)+"&id="+encodeURIComponent(xRefId);d3.tsv(bridgedbUrl).row(function(d){return{xRefId:d.id,dataSourceName:d.datasource_name}}).get(function(error,rows){callback(rows)})}return{getXrefAnnotationDataByDataNode:getXrefAnnotationDataByDataNode}}(),pathvisiojs.data.bridgedb.dataSources=[{database:"Affy",id:"X",homePage:"http://www.affymetrix.com/",linkOut:"https://www.affymetrix.com/LinkServlet?probeset=$id",example:"1851_s_at",dataNodeType:"probe",species:"",priority:0,unknown:"urn:miriam:affy.probeset",regex:"d{4,}((_[asx])?_at)?",fullName:"Affymetrix Probeset"},{database:"Agilent",id:"Ag",homePage:"http://agilent.com",linkOut:"",example:"A_24_P98555",dataNodeType:"probe",species:"",priority:0,unknown:"Ag",regex:"A_d+_.+",fullName:"Agilent"},{database:"BIND",id:"Bi",homePage:"http://www.bind.ca/",linkOut:"http://www.bind.ca/Action?identifier=bindid&idsearch=$id",example:"",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:bind",regex:"^d+$",fullName:"BIND"},{database:"BioCyc",id:"Bc",homePage:"http://biocyc.org",linkOut:"http://biocyc.org/getid?id=$id",example:"ECOLI:CYT-D-UBIOX-CPLX",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:biocyc",regex:"^w+:[A-Za-z0-9-]+$",fullName:"BioCyc"},{database:"BioGrid",id:"Bg",homePage:"http://thebiogrid.org/",linkOut:"http://thebiogrid.org/$id",example:"31623",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:biogrid",regex:"^d+$",fullName:"BioGRID"},{database:"BioModels Database",id:"Bm",homePage:"http://www.ebi.ac.uk/biomodels/",linkOut:"http://www.ebi.ac.uk/biomodels-main/$id",example:"BIOMD0000000048",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:biomodels.db",regex:"^((BIOMD|MODEL)d{10})|(BMIDd{12})$",fullName:"BioModels Database"},{database:"BioSystems",id:"Bs",homePage:"http://www.ncbi.nlm.nih.gov/biosystems/",linkOut:"http://www.ncbi.nlm.nih.gov/biosystems/$id",example:"1",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:biosystems",regex:"^d+$",fullName:"BioSystems"},{database:"BRENDA",id:"Br",homePage:"http://www.brenda-enzymes.org/",linkOut:"http://www.brenda-enzymes.org/php/result_flat.php4?ecno=$id",example:"1.1.1.1",dataNodeType:"",species:"",priority:1,unknown:"urn:miriam:brenda",regex:"^((d+.-.-.-)|(d+.d+.-.-)|(d+.d+.d+.-)|(d+.d+.d+.d+))$",fullName:"BRENDA"},{database:"CAS",id:"Ca",homePage:"http://commonchemistry.org",linkOut:"http://commonchemistry.org/ChemicalDetail.aspx?ref=$id",example:"50-00-0",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:cas",regex:"^d{1,7}-d{2}-d$",fullName:"CAS"},{database:"CCDS",id:"Cc",homePage:"http://identifiers.org/ccds/",linkOut:"http://www.ncbi.nlm.nih.gov/CCDS/CcdsBrowse.cgi?REQUEST=ALLFIELDS&DATA=$id",example:"CCDS33337",dataNodeType:"gene",species:"",priority:0,unknown:"",regex:"^CCDSd+.d+$",fullName:"Consensus CDS"},{database:"ChEBI",id:"Ce",homePage:"http://www.ebi.ac.uk/chebi/",linkOut:"http://www.ebi.ac.uk/chebi/searchId.do?chebiId=$id",example:"CHEBI:36927",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:obo.chebi",regex:"^CHEBI:d+$",fullName:"ChEBI"},{database:"Chemspider",id:"Cs",homePage:"http://www.chemspider.com/",linkOut:"http://www.chemspider.com/Chemical-Structure.$id.html",example:"56586",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:chemspider",regex:"^d+$",fullName:"ChemSpider"},{database:"CodeLink",id:"Ge",homePage:"http://www.appliedmicroarrays.com/",linkOut:"",example:"GE86325",dataNodeType:"probe",species:"",priority:0,unknown:"Ge",regex:"",fullName:"CodeLink"},{database:"Database of Interacting Proteins",id:"Dip",homePage:"http://dip.doe-mbi.ucla.edu/",linkOut:"http://dip.doe-mbi.ucla.edu/dip/DIPview.cgi?ID=$id",example:"DIP-743N",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:dip",regex:"^DIP[:-]d{3}[EN]$",fullName:"Database of Interacting Proteins"},{database:"dbSNP",id:"Sn",homePage:"http://www.ncbi.nlm.nih.gov/sites/entrez?db=snp",linkOut:"http://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs=$id",example:"121909098",dataNodeType:"gene",species:"",priority:1,unknown:"",regex:"^d+$",fullName:"dbSNP"},{database:"DrugBank",id:"Dr",homePage:"http://www.drugbank.ca/",linkOut:"http://www.drugbank.ca/drugs/$id",example:"DB00001",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:drugbank",regex:"^DBd{5}$",fullName:"DrugBank"},{database:"EcoCyc",id:"Eco",homePage:"http://ecocyc.org/",linkOut:"http://ecocyc.org/ECOLI/NEW-IMAGE?type=NIL&object=$id",example:"325-BISPHOSPHATE-NUCLEOTIDASE-RXN",dataNodeType:"interaction",species:"Escherichia coli",priority:1,unknown:"Eco",regex:"",fullName:"EcoCyc"},{database:"EcoGene",id:"Ec",homePage:"http://ecogene.org/",linkOut:"http://ecogene.org/geneInfo.php?eg_id=$id",example:"EG10173",dataNodeType:"gene",species:"Escherichia coli",priority:1,unknown:"urn:miriam:ecogene",regex:"^EGd+$",fullName:"EcoGene"},{database:"EMBL",id:"Em",homePage:"http://www.ebi.ac.uk/embl/",linkOut:"http://www.ebi.ac.uk/ena/data/view/$id",example:"X58356",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ena.embl",regex:"^[A-Z]+[0-9]+$",fullName:"European Nucleotide Archive"},{database:"Ensembl",id:"En",homePage:"http://www.ensembl.org/",linkOut:"http://www.ensembl.org/id/$id",example:"ENSG00000139618",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ensembl",regex:"^ENS[A-Z]*[FPTG]d{11}$",fullName:"Ensembl"},{database:"Ensembl B. subtilis",id:"EnBs",homePage:"http://www.ensembl.org",linkOut:"http://bacteria.ensembl.org/Bacillus/B_subtilis/Gene/Summary?g=$id",example:"EBBACG00000000013",dataNodeType:"gene",species:"Bacillus subtilis",priority:1,unknown:"EnBs",regex:"EBBACGd{11}",fullName:"Ensembl"},{database:"Ensembl C. elegans",id:"EnCe",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Caenorhabditis_elegans/Gene/Summary?g=$id",example:"Y42H9B.1",dataNodeType:"gene",species:"Caenorhabditis elegans",priority:1,unknown:"EnCe",regex:"",fullName:"Ensembl"},{database:"Ensembl Chicken",id:"EnGg",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Gallus_gallus/Gene/Summary?g=$id",example:"ENSGALG00000021736",dataNodeType:"gene",species:"Gallus gallus",priority:1,unknown:"EnGg",regex:"ENSGALGd{11}",fullName:"Ensembl"},{database:"Ensembl Chimp",id:"EnPt",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Pan_troglodytes/Gene/Summary?g=$id",example:"ENSPTRG00000036034",dataNodeType:"gene",species:"Pan troglodytes",priority:1,unknown:"EnPt",regex:"ENSPTRGd{11}",fullName:"Ensembl"},{database:"Ensembl Cow",id:"EnBt",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Bos_taurus/Gene/Summary?g=$id",example:"ENSBTAG00000043548",dataNodeType:"gene",species:"Bos taurus",priority:1,unknown:"EnBt",regex:"ENSBTAGd{11}",fullName:"Ensembl"},{database:"Ensembl Dog",id:"EnCf",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Canis_familiaris/Gene/Summary?g=$id",example:"ENSCAFG00000025860",dataNodeType:"gene",species:"Canis familiaris",priority:1,unknown:"EnCf",regex:"ENSCAFGd{11}",fullName:"Ensembl"},{database:"Ensembl E. coli",id:"EnEc",homePage:"http://www.ensembl.org",linkOut:"http://bacteria.ensembl.org/Escherichia_Shigella/E_coli_K12/Gene/Summary?g=$id",example:"EBESCG00000000010",dataNodeType:"gene",species:"Escherichia coli",priority:1,unknown:"EnEc",regex:"EBESCGd{11}",fullName:"Ensembl"},{database:"Ensembl Fruitfly",id:"EnDm",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Drosophila_melanogaster/Gene/Summary?g=$id",example:"FBgn0032956",dataNodeType:"gene",species:"Drosophila melanogaster",priority:1,unknown:"EnDm",regex:"FBgnd{7}",fullName:"Ensembl"},{database:"Ensembl Horse",id:"EnQc",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Equus_caballus/Gene/Summary?g=$id",example:"ENSECAG00000026160",dataNodeType:"gene",species:"Equus caballus",priority:1,unknown:"EnQc",regex:"ENSECAGd{11}",fullName:"Ensembl"},{database:"Ensembl Human",id:"EnHs",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Homo_sapiens/Gene/Summary?g=$id",example:"ENSG00000139618",dataNodeType:"gene",species:"Homo sapiens",priority:1,unknown:"EnHs",regex:"ENSGd{11}",fullName:"Ensembl"},{database:"Ensembl M. tuberculosis",id:"EnMx",homePage:"http://www.ensembl.org",linkOut:"http://bacteria.ensembl.org/Mycobacterium/M_tuberculosis_H37Rv/Gene/Summary?g=$id",example:"EBMYCG00000003122",dataNodeType:"gene",species:"Mycobacterium tuberculosis",priority:1,unknown:"EnMx",regex:"EBMYCGd{11}",fullName:"Ensembl"},{database:"Ensembl Mosquito",id:"EnAg",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Anopheles_gambiae/Gene/Summary?_q=$id",example:"AGAP006864",dataNodeType:"gene",species:"Anopheles gambiae",priority:1,unknown:"EnAg",regex:"AGAPd{6}",fullName:"Ensembl"},{database:"Ensembl Mouse",id:"EnMm",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Mus_musculus/Gene/Summary?g=$id",example:"ENSMUSG00000017167",dataNodeType:"gene",species:"Mus musculus",priority:1,unknown:"EnMm",regex:"ENSMUSGd{11}",fullName:"Ensembl"},{database:"Ensembl Pig",id:"EnSs",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Sus_scrofa/Gene/Summary?g=$id",example:"ENSSSCG00000004244",dataNodeType:"gene",species:"Sus scrofa",priority:1,unknown:"EnSs",regex:"ENSSSCGd{11}",fullName:"Ensembl"},{database:"Ensembl Plants",id:"EP",homePage:"http://plants.ensembl.org/",linkOut:"http://plants.ensembl.org/id/$id",example:"AT1G73965",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ensembl.plant",regex:"^w+$",fullName:"Ensembl Plants"},{database:"Ensembl Rat",id:"EnRn",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Rattus_norvegicus/Gene/Summary?g=$id",example:"ENSRNOG00000016648",dataNodeType:"gene",species:"Rattus norvegicus",priority:1,unknown:"EnRn",regex:"ENSRNOGd{11}",fullName:"Ensembl"},{database:"Ensembl Xenopus",id:"EnXt",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Xenopus_tropicalis/Gene/Summary?g=$id",example:"ENSXETG00000029448",dataNodeType:"gene",species:"Xenopus tropicalis",priority:1,unknown:"EnXt",regex:"ENSXETGd{11}",fullName:"Ensembl"},{database:"Ensembl Yeast",id:"EnSc",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Saccharomyces_cerevisiae/Gene/Summary?g=$id",example:"YGR147C",dataNodeType:"gene",species:"Saccharomyces cerevisiae",priority:1,unknown:"EnSc",regex:"Y[A-Z][RL]d{3}[WC](?:-[A-Z])?",fullName:"Ensembl"},{database:"Ensembl Zebrafish",id:"EnDr",homePage:"http://www.ensembl.org",linkOut:"http://www.ensembl.org/Danio_rerio/Gene/Summary?g=$id",example:"ENSDARG00000024771",dataNodeType:"gene",species:"Danio rerio",priority:1,unknown:"EnDr",regex:"ENSDARGd{11}",fullName:"Ensembl"},{database:"Entrez Gene",id:"L",homePage:"http://www.ncbi.nlm.nih.gov/gene",linkOut:"http://www.ncbi.nlm.nih.gov/gene/$id",example:"100010",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ncbigene",regex:"^d+$",fullName:"Entrez Gene"},{database:"Enzyme Nomenclature",id:"E",homePage:"http://www.ebi.ac.uk/intenz/",linkOut:"http://www.ebi.ac.uk/intenz/query?cmd=SearchEC&ec=$id",example:"1.1.1.1",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:ec-code",regex:"^d+.-.-.-|d+.d+.-.-|d+.d+.d+.-|d+.d+.d+.(n)?d+$",fullName:"Enzyme Nomenclature"},{database:"FlyBase",id:"F",homePage:"http://flybase.org/",linkOut:"http://flybase.org/reports/$id.html",example:"FBgn0011293",dataNodeType:"gene",species:"Drosophila melanogaster",priority:1,unknown:"urn:miriam:flybase",regex:"^FBw{2}d{7}$",fullName:"FlyBase"},{database:"GenBank",id:"G",homePage:"http://www.ncbi.nlm.nih.gov/genbank/",linkOut:"http://www.ncbi.nlm.nih.gov/nuccore/$id",example:"NW_004190323",dataNodeType:"gene",species:"",priority:0,unknown:"G",regex:"(wd{5})|(w{2}d{6})|(w{3}d{5})",fullName:"GenBank"},{database:"Gene Wiki",id:"Gw",homePage:"http://en.wikipedia.org/wiki/Portal:Gene_Wiki",linkOut:"http://plugins.biogps.org/cgi-bin/wp.cgi?id=$id",example:"1017",dataNodeType:"gene",species:"",priority:0,unknown:"Gw",regex:"d+",fullName:"Gene Wiki"},{database:"GeneOntology",id:"T",homePage:"http://www.ebi.ac.uk/QuickGO/",linkOut:"http://www.ebi.ac.uk/QuickGO/GTerm?id=$id",example:"GO:0006915",dataNodeType:"gene",species:"",priority:0,unknown:"urn:miriam:obo.go",regex:"^GO:d{7}$",fullName:"Gene Ontology"},{database:"Gramene Arabidopsis",id:"EnAt",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/Arabidopsis_thaliana/Gene/Summary?g=$id",example:"ATMG01360-TAIR-G",dataNodeType:"gene",species:"Arabidopsis thaliana",priority:1,unknown:"EnAt",regex:"AT[dCM]Gd{5}-TAIR-G",fullName:"Grameen Arabidopsis"},{database:"Gramene Genes DB",id:"Gg",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/db/genes/search_gene?acc=$id",example:"GR:0060184",dataNodeType:"gene",species:"",priority:1,unknown:"Gg",regex:"GR:d+",fullName:"Gramene Genes"},{database:"Gramene Literature",id:"Gl",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/db/literature/pub_search?ref_id=$id",example:"6200",dataNodeType:"gene",species:"",priority:0,unknown:"Gl",regex:"",fullName:"Gramene Literature"},{database:"Gramene Maize",id:"EnZm",homePage:"http://www.ensembl.org",linkOut:"http://www.maizesequence.org/Zea_mays/Gene/Summary?g=$id",example:"GRMZM2G174107",dataNodeType:"gene",species:"",priority:1,unknown:"EnZm",regex:"",fullName:"Gramene Maize"},{database:"Gramene Pathway",id:"Gp",homePage:"http://www.gramene.org/pathway",linkOut:"",example:"AAH72400",dataNodeType:"pathway",species:"",priority:1,unknown:"Gp",regex:"",fullName:"Gramene Pathway"},{database:"Gramene Rice",id:"EnOj",homePage:"http://www.gramene.org/",linkOut:"http://www.gramene.org/Oryza_sativa/Gene/Summary?db=core;g=$id",example:"osa-MIR171a",dataNodeType:"gene",species:"",priority:1,unknown:"EnOj",regex:"",fullName:"Gramene Rice"},{database:"HGNC",id:"H",homePage:"http://www.genenames.org",linkOut:"http://www.genenames.org/data/hgnc_data.php?match=$id",example:"DAPK1",dataNodeType:"gene",species:"Homo sapiens",priority:1,unknown:"urn:miriam:hgnc.symbol",regex:"^[A-Za-z0-9]+",fullName:"HGNC Symbol"},{database:"HGNC Accession number",id:"Hac",homePage:"http://www.genenames.org",linkOut:"http://www.genenames.org/data/hgnc_data.php?hgnc_id=$id",example:"HGNC:2674",dataNodeType:"gene",species:"Homo sapiens",priority:1,unknown:"urn:miriam:hgnc",regex:"^(HGNC:)?d{1,5}$",fullName:"HGNC"},{database:"HMDB",id:"Ch",homePage:"http://www.hmdb.ca/",linkOut:"http://www.hmdb.ca/metabolites/$id",example:"HMDB00001",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:hmdb",regex:"^HMDBd{5}$",fullName:"HMDB"},{database:"HomoloGene",id:"Hg",homePage:"http://www.ncbi.nlm.nih.gov/homologene/",linkOut:"http://www.ncbi.nlm.nih.gov/homologene/$id",example:"1000",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:homologene",regex:"^d+$",fullName:"HomoloGene"},{database:"HPRD",id:"Hp",homePage:"http://www.hprd.org/",linkOut:"",example:"",dataNodeType:"interaction",species:"Homo sapiens",priority:1,unknown:"urn:miriam:hprd",regex:"",fullName:"HPRD"},{database:"Illumina",id:"Il",homePage:"http://www.illumina.com/",linkOut:"",example:"ILMN_5668",dataNodeType:"probe",species:"",priority:0,unknown:"Il",regex:"ILMN_d+",fullName:"Illumina"},{database:"IntAct",id:"Ia",homePage:"http://www.ebi.ac.uk/intact/",linkOut:"http://www.ebi.ac.uk/intact/pages/details/details.xhtml?interactionAc=$id",example:"EBI-2307691",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:intact",regex:"^EBI-[0-9]+$",fullName:"IntAct"},{database:"InterPro",id:"I",homePage:"http://www.ebi.ac.uk/interpro/",linkOut:"http://www.ebi.ac.uk/interpro/DisplayIproEntry?ac=$id",example:"IPR000100",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:interpro",regex:"^IPRd{6}$",fullName:"InterPro"},{database:"IPI",id:"Ip",homePage:"http://www.ebi.ac.uk/IPI",linkOut:"http://www.ebi.ac.uk/cgi-bin/dbfetch?db=IPI&id=$id&format=default",example:"IPI00000001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:ipi",regex:"^IPId{8}$",fullName:"IPI"},{database:"IRGSP Gene",id:"Ir",homePage:"http://rgp.dna.affrc.go.jp/IRGSP/",linkOut:"",example:"Os12g0561000",dataNodeType:"gene",species:"",priority:1,unknown:"Ir",regex:"Osd{2}gd+",fullName:"IRGSP Gene"},{database:"Kegg Compound",id:"Ck",homePage:"http://www.genome.jp/kegg/ligand.html",linkOut:"http://www.genome.jp/dbget-bin/www_bget?cpd:$id",example:"C12345",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:kegg.compound",regex:"^Cd+$",fullName:"KEGG Compound"},{database:"KEGG Drug",id:"Kd",homePage:"http://www.genome.jp/kegg/drug/",linkOut:"http://www.genome.jp/dbget-bin/www_bget?dr:$id",example:"D00123",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:kegg.drug",regex:"^Dd+$",fullName:"KEGG Drug"},{database:"KEGG Genes",id:"Kg",homePage:"http://www.genome.jp/kegg/genes.html",linkOut:"http://www.genome.jp/dbget-bin/www_bget?$id",example:"syn:ssr3451",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:kegg.genes",regex:"^w+:[wd.-]*$",fullName:"KEGG Genes"},{database:"KEGG Glycan",id:"Kgl",homePage:"http://www.genome.jp/kegg/glycan/",linkOut:"http://www.genome.jp/dbget-bin/www_bget?gl:$id",example:"G00123",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:kegg.glycan",regex:"^Gd+$",fullName:"KEGG Glycan"},{database:"KEGG Pathway",id:"Kp",homePage:"http://www.genome.jp/kegg/pathway.html",linkOut:"http://www.genome.jp/dbget-bin/www_bget?pathway+$id",example:"hsa00620",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:kegg.pathway",regex:"^w{2,4}d{5}$",fullName:"KEGG Pathway"},{database:"KEGG Reaction",id:"Kr",homePage:"http://www.genome.jp/kegg/reaction/",linkOut:"http://www.genome.jp/dbget-bin/www_bget?rn:$id",example:"R00100",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:kegg.reaction",regex:"^Rd+$",fullName:"KEGG Reaction"},{database:"LIPID MAPS",id:"Lm",homePage:"http://www.lipidmaps.org",linkOut:"http://www.lipidmaps.org/data/get_lm_lipids_dbgif.php?LM_ID=$id",example:"LMPR0102010012",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:lipidmaps",regex:"^LM(FA|GL|GP|SP|ST|PR|SL|PK)[0-9]{4}([0-9a-zA-Z]{4,6})?$",fullName:"LIPID MAPS"},{database:"LipidBank",id:"Lb",homePage:"http://lipidbank.jp/index.html",linkOut:"http://lipidbank.jp/cgi-bin/detail.cgi?id=$id",example:"BBA0001",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:lipidbank",regex:"^w+d+$",fullName:"LipidBank"},{database:"MACiE",id:"Ma",homePage:"http://www.ebi.ac.uk/thornton-srv/databases/MACiE/index.html",linkOut:"http://www.ebi.ac.uk/thornton-srv/databases/cgi-bin/MACiE/entry/getPage.pl?id=$id",example:"M0001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:macie",regex:"^Md{4}$",fullName:"MACiE"},{database:"MaizeGDB",id:"Mg",homePage:"",linkOut:"http://www.maizegdb.org/cgi-bin/displaylocusresults.cgi?term=$id",example:"acc1",dataNodeType:"gene",species:"Zea mays",priority:1,unknown:"Mg",regex:"",fullName:"MaizeGDB"},{database:"MatrixDB",id:"Md",homePage:"http://matrixdb.ibcp.fr/",linkOut:"http://matrixdb.ibcp.fr/cgi-bin/model/report/default?name=$id&class=Association",example:"P00747_P07355",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:matrixdb.association",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])_.*|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9]_.*)|(GAG_.*)|(MULT_.*)|(PFRAG_.*)|(LIP_.*)|(CAT_.*)$",fullName:"MatrixDB"},{database:"MetaCyc",id:"Mc",homePage:"http://www.metacyc.org/",linkOut:"http://www.metacyc.org/META/NEW-IMAGE?type=NIL&object=$id",example:"D-GLUTAMATE-OXIDASE-RXN",dataNodeType:"interaction",species:"",priority:1,unknown:"Mc",regex:"",fullName:"MetaCyc"},{database:"MGI",id:"M",homePage:"http://www.informatics.jax.org/",linkOut:"http://www.informatics.jax.org/marker/$id",example:"MGI:2442292",dataNodeType:"gene",species:"Mus musculus",priority:1,unknown:"urn:miriam:mgd",regex:"^MGI:d+$",fullName:"Mouse Genome Database"},{database:"MINT",id:"Mi",homePage:"http://mint.bio.uniroma2.it/mint/",linkOut:"http://mint.bio.uniroma2.it/mint/search/inFrameInteraction.do?interactionAc=$id",example:"MINT-10000",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:mint",regex:"^MINT-d{1,5}$",fullName:"MINT"},{database:"miRBase mature sequence",id:"Mbm",homePage:"http://www.mirbase.org/",linkOut:"http://www.mirbase.org/cgi-bin/mature.pl?mature_acc=$id",example:"MIMAT0000001",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:mirbase.mature",regex:"MIMATd{7}",fullName:"miRBase mature sequence"},{database:"miRBase Sequence",id:"Mb",homePage:"http://microrna.sanger.ac.uk/",linkOut:"http://microrna.sanger.ac.uk/cgi-bin/sequences/mirna_entry.pl?acc=$id",example:"MI0000001",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:mirbase",regex:"MId{7}",fullName:"miRBase Sequence"},{database:"NASC Gene",id:"N",homePage:"http://arabidopsis.info/",linkOut:"",example:"ATMG00960-TAIR-G",dataNodeType:"gene",species:"Arabidopsis thaliana",priority:1,unknown:"N",regex:"AT[dCM]Gd{5}-TAIR-G",fullName:"NASC Gene"},{database:"NCBI Protein",id:"Np",homePage:"http://www.ncbi.nlm.nih.gov/protein",linkOut:"http://www.ncbi.nlm.nih.gov/protein/$id",example:"CAA71118.1",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:ncbiprotein",regex:"^w+d+(.d+)?$",fullName:"NCBI Protein"},{database:"NCI Pathway Interaction Database",id:"Pid",homePage:"http://pid.nci.nih.gov/",linkOut:"http://pid.nci.nih.gov/search/pathway_landing.shtml?what=graphic&jpg=on&pathway_id=$id",example:"pi3kcipathway",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:pid.pathway",regex:"^w+$",fullName:"NCI Pathway Interaction Database"},{database:"NuGO wiki",id:"Nw",homePage:"http://wiki.nugo.org",linkOut:"http://wiki.nugo.org/index.php/$id",example:"HMDB00001",dataNodeType:"metabolite",species:"",priority:0,unknown:"Nw",regex:"",fullName:"NuGO wiki"},{database:"OMIM",id:"Om",homePage:"http://omim.org/",linkOut:"http://omim.org/entry/$id",example:"603903",dataNodeType:"gene",species:"",priority:0,unknown:"urn:miriam:omim",regex:"^[*#+%^]?d{6}$",fullName:"OMIM"},{database:"Oryzabase",id:"Ob",homePage:"http://www.shigen.nig.ac.jp/rice/oryzabase",linkOut:"http://www.shigen.nig.ac.jp/rice/oryzabase/gateway/gatewayAction.do?target=symbol&id=$id",example:"468",dataNodeType:"gene",species:"Oryza sativa",priority:1,unknown:"Ob",regex:"",fullName:"Oryzabase"},{database:"Other",id:"O",homePage:"",linkOut:"",example:"",dataNodeType:"gene",species:"",priority:1,unknown:"O",regex:"",fullName:"Other"},{database:"Pathway Commons",id:"Pc",homePage:"http://www.pathwaycommons.org/pc/",linkOut:"http://www.pathwaycommons.org/pc/record2.do?id=$id",example:"485991",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:pathwaycommons",regex:"^d+$",fullName:"Pathway Commons"},{database:"PDB",id:"Pd",homePage:"http://www.pdb.org/",linkOut:"http://www.rcsb.org/pdb/explore/explore.do?structureId=$id",example:"2gc4",dataNodeType:"protein",species:"",priority:0,unknown:"urn:miriam:pdb",regex:"^[0-9][A-Za-z0-9]{3}$",fullName:"Protein Data Bank"},{database:"Pfam",id:"Pf",homePage:"http://pfam.sanger.ac.uk/",linkOut:"http://pfam.sanger.ac.uk/family/$id/",example:"PF01234",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:pfam",regex:"^PFd{5}$",fullName:"Pfam"},{database:"PharmGKB Drug",id:"Pgd",homePage:"http://www.pharmgkb.org/",linkOut:"http://www.pharmgkb.org/drug/$id",example:"PA448710",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pharmgkb.drug",regex:"^PAd+$",fullName:"PharmGKB Drug"},{database:"PharmGKB Gene",id:"Pgg",homePage:"http://www.pharmgkb.org/",linkOut:"http://www.pharmgkb.org/gene/$id",example:"PA131",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:pharmgkb.gene",regex:"^PAw+$",fullName:"PharmGKB Gene"},{database:"PharmGKB Pathways",id:"Pgp",homePage:"http://www.pharmgkb.org/",linkOut:"http://www.pharmgkb.org/pathway/$id",example:"PA146123006",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:pharmgkb.pathways",regex:"^PAd+$",fullName:"PharmGKB Pathways"},{database:"PhosphoSite Protein",id:"Pp",homePage:"http://www.phosphosite.org/homeAction.do",linkOut:"http://www.phosphosite.org/proteinAction.do?id=$id",example:"12300",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:phosphosite.protein",regex:"^d{5}$",fullName:"PhosphoSite Protein"},{database:"PINA",id:"Pi",homePage:"http://cbg.garvan.unsw.edu.au/pina/",linkOut:"http://cbg.garvan.unsw.edu.au/pina/interactome.oneP.do?ac=$id&showExtend=null",example:"Q13485",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:pina",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])$",fullName:"PINA"},{database:"PlantGDB",id:"Pl",homePage:"http://www.plantgdb.org/",linkOut:"",example:"PUT-157a-Vitis_vinifera-37378",dataNodeType:"gene",species:"",priority:1,unknown:"Pl",regex:"PUT-[wd-]+",fullName:"PlantGDB"},{database:"PubChem-bioassay",id:"Cpb",homePage:"http://www.ncbi.nlm.nih.gov/sites/entrez?db=pcassay ",linkOut:"http://pubchem.ncbi.nlm.nih.gov/assay/assay.cgi?aid=$id",example:"1018",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pubchem.bioassay",regex:"^d+$",fullName:"PubChem-bioassay"},{database:"PubChem-compound",id:"Cpc",homePage:"http://pubchem.ncbi.nlm.nih.gov/",linkOut:"http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?cid=$id",example:"100101",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pubchem.compound",regex:"^d+$",fullName:"PubChem-compound"},{database:"PubChem-substance",id:"Cps",homePage:"http://pubchem.ncbi.nlm.nih.gov/",linkOut:"http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?sid=$id",example:"100101",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:pubchem.substance",regex:"^d+$",fullName:"PubChem-substance"},{database:"Reactome",id:"Re",homePage:"http://www.reactome.org/",linkOut:"http://www.reactome.org/cgi-bin/eventbrowser_st_id?FROM_REACTOME=1&ST_ID=$id",example:"REACT_1590",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:reactome",regex:"^REACT_d+(.d+)?$",fullName:"Reactome"},{database:"RefSeq",id:"Q",homePage:"http://www.ncbi.nlm.nih.gov/projects/RefSeq/",linkOut:"http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?val=$id",example:"NP_012345",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:refseq",regex:"^(NC|AC|NG|NT|NW|NZ|NM|NR|XM|XR|NP|AP|XP|ZP)_d+$",fullName:"RefSeq"},{database:"RESID",id:"Res",homePage:"http://www.ebi.ac.uk/RESID/",linkOut:"http://srs.ebi.ac.uk/srsbin/cgi-bin/wgetz?-id+6JSUg1NA6u4+-e+[RESID:'$id']",example:"AA0001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:resid",regex:"^AAd{4}$",fullName:"RESID"},{database:"Rfam",id:"Rf",homePage:"",linkOut:"http://www.sanger.ac.uk/cgi-bin/Rfam/getacc?$id",example:"RF00066",dataNodeType:"gene",species:"",priority:1,unknown:"Rf",regex:"RFd+",fullName:"RFAM"},{database:"RGD",id:"R",homePage:"http://rgd.mcw.edu/",linkOut:"http://rgd.mcw.edu/tools/genes/genes_view.cgi?id=$id",example:"2018",dataNodeType:"gene",species:"Rattus norvegicus",priority:1,unknown:"urn:miriam:rgd",regex:"^d{4,7}$",fullName:"Rat Genome Database"},{database:"Rhea",id:"Rh",homePage:"http://www.ebi.ac.uk/rhea/",linkOut:"http://www.ebi.ac.uk/rhea/reaction.xhtml?id=$id",example:"12345",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:rhea",regex:"^d{5}$",fullName:"Rhea"},{database:"Rice Ensembl Gene",id:"Os",homePage:"http://www.gramene.org/Oryza_sativa",linkOut:"http://www.gramene.org/Oryza_sativa/geneview?gene=$id",example:"LOC_Os04g54800",dataNodeType:"gene",species:"Oryza sativa",priority:1,unknown:"Os",regex:"",fullName:"Rice Ensembl Gene"},{database:"SGD",id:"D",homePage:"http://www.yeastgenome.org/",linkOut:"http://www.yeastgenome.org/cgi-bin/locus.fpl?dbid=$id",example:"S000028457",dataNodeType:"gene",species:"Saccharomyces cerevisiae",priority:1,unknown:"urn:miriam:sgd",regex:"^Sd+$",fullName:"SGD"},{database:"Small Molecule Pathway Database",id:"Sm",homePage:"http://www.smpdb.ca/pathways",linkOut:"http://pathman.smpdb.ca/pathways/$id/pathway",example:"SMP00001",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:smpdb",regex:"^SMPd{5}$",fullName:"Small Molecule Pathway Database"},{database:"SMART",id:"Sma",homePage:"http://smart.embl-heidelberg.de/",linkOut:"http://smart.embl-heidelberg.de/smart/do_annotation.pl?DOMAIN=$id",example:"SM00015",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:smart",regex:"^SMd{5}$",fullName:"SMART"},{database:"SPIKE",id:"Sk",homePage:"http://www.cs.tau.ac.il/~spike/",linkOut:"http://www.cs.tau.ac.il/~spike/maps/$id.html",example:"spike00001",dataNodeType:"interaction",species:"",priority:1,unknown:"urn:miriam:spike.map",regex:"^spiked{5}$",fullName:"SPIKE Map"},{database:"SPRINT",id:"Spr",homePage:"http://www.bioinf.manchester.ac.uk/dbbrowser/sprint/",linkOut:"http://www.bioinf.manchester.ac.uk/cgi-bin/dbbrowser/sprint/searchprintss.cgi?prints_accn=$id&display_opts=Prints&category=None&queryform=false&regexpr=off",example:"PR00001",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:sprint",regex:"^PRd{5}$",fullName:"SPRINT"},{database:"STRING",id:"Str",homePage:"http://string.embl.de/",linkOut:"http://string.embl.de/interactions/$id",example:"P53350",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:string",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])|([0-9][A-Za-z0-9]{3})$",fullName:"STRING"},{database:"SubstrateDB",id:"Sdb",homePage:"http://substrate.burnham.org/",linkOut:"http://substrate.burnham.org/protein/annotation/$id/html",example:"1915",dataNodeType:"protein",species:"",priority:0,unknown:"urn:miriam:pmap.substratedb",regex:"^d+$",fullName:"SubstrateDB"},{database:"SubtiWiki",id:"Sw",homePage:"http://www.subtiwiki.uni-goettingen.de/wiki/index.php/Main_Page",linkOut:"http://www.subtiwiki.uni-goettingen.de/wiki/index.php/$id",example:"BSU29180",dataNodeType:"gene",species:"Bacillus subtilis",priority:1,unknown:"urn:miriam:subtiwiki",regex:"^BSUd{5}$",fullName:"SubtiWiki"},{database:"SUPFAM",id:"Sf",homePage:"http://supfam.org/SUPERFAMILY/",linkOut:"http://supfam.org/SUPERFAMILY/cgi-bin/scop.cgi?ipid=$id",example:"SSF57615",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:supfam",regex:"^w+$",fullName:"SUPFAM"},{database:"SWISS-MODEL",id:"Sw",homePage:"http://swissmodel.expasy.org/",linkOut:"http://swissmodel.expasy.org/repository/smr.php?sptr_ac=$id",example:"P23298",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:swiss-model",regex:"^w+$",fullName:"SWISS-MODEL"},{database:"Systems Biology Ontology",id:"Sbo",homePage:"http://www.ebi.ac.uk/sbo/",linkOut:"http://www.ebi.ac.uk/sbo/main/$id",example:"SBO:0000262",dataNodeType:"ontology",species:"",priority:1,unknown:"urn:miriam:biomodels.sbo",regex:"^SBO:d{7}$",fullName:"Systems Biology Ontology"},{database:"TAIR",id:"A",homePage:"http://arabidopsis.org/index.jsp",linkOut:"http://arabidopsis.org/servlets/TairObject?type=locus&name=$id",example:"AT1G01030",dataNodeType:"gene",species:"",priority:1,unknown:"urn:miriam:tair.locus",regex:"^AT[1-5]Gd{5}$",fullName:"TAIR Locus"},{database:"TIGR",id:"Ti",homePage:"http://www.jcvi.org/",linkOut:"",example:"12012.t00308",dataNodeType:"gene",species:"",priority:1,unknown:"Ti",regex:"",fullName:"TIGR"},{database:"TTD Drug",id:"Td",homePage:"http://bidd.nus.edu.sg/group/cjttd/TTD_HOME.asp",linkOut:"http://bidd.nus.edu.sg/group/cjttd/ZFTTDDRUG.asp?ID=$id",example:"DAP000773",dataNodeType:"metabolite",species:"",priority:1,unknown:"urn:miriam:ttd.drug",regex:"^DAPd+$",fullName:"TTD Drug"},{database:"TTD Target",id:"Tt",homePage:"http://bidd.nus.edu.sg/group/cjttd/TTD_HOME.asp",linkOut:"http://bidd.nus.edu.sg/group/cjttd/ZFTTDDetail.asp?ID=$id",example:"TTDS00056",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:ttd.target",regex:"^TTDSd+$",fullName:"TTD Target"},{database:"TubercuList",id:"Tb",homePage:"http://tuberculist.epfl.ch",linkOut:"http://tuberculist.epfl.ch/quicksearch.php?gene+name=$id",example:"Rv0064",dataNodeType:"gene",species:"Mycobacterium tuberculosis",priority:1,unknown:"Tb",regex:"Rvd{4}(A|B|c|.d)?",fullName:"TubercuList"},{database:"UCSC Genome Browser",id:"Uc",homePage:"http://genome.ucsc.edu/",linkOut:"http://genome.ucsc.edu/cgi-bin/hgTracks?position=$id",example:"uc001tyh.1",dataNodeType:"gene",species:"",priority:1,unknown:"Uc",regex:"ucd{3}[a-z]{3}.d",fullName:"UCSC Genome Browser"},{database:"UniGene",id:"U",homePage:"http://www.ncbi.nlm.nih.gov/sites/entrez?db=unigene",linkOut:"http://www.ncbi.nlm.nih.gov/UniGene/clust.cgi?UGID=1548618&SEARCH=$id",example:"Hs.553708",dataNodeType:"gene",species:"",priority:1,unknown:"U",regex:"[A-Z][a-z][a-z]?.d+",fullName:"UniGene"},{database:"Unipathway",id:"Up",homePage:"http://www.grenoble.prabi.fr/obiwarehouse/unipathway",linkOut:"http://www.grenoble.prabi.fr/obiwarehouse/unipathway/upa?upid=$id",example:"UPA00206",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:unipathway",regex:"^UPAd{5}$",fullName:"Unipathway"},{database:"Uniprot-TrEMBL",id:"S",homePage:"http://www.uniprot.org/",linkOut:"http://www.uniprot.org/uniprot/$id",example:"P62158",dataNodeType:"protein",species:"",priority:1,unknown:"urn:miriam:uniprot",regex:"^([A-N,R-Z][0-9][A-Z][A-Z, 0-9][A-Z, 0-9][0-9])|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])|($",fullName:"UniProtKB/TrEMBL"},{database:"Uniprot-SwissProt",id:"Sp",homePage:"http://www.uniprot.org/",linkOut:"http://www.uniprot.org/uniprot/$id",example:"CALM_HUMAN",dataNodeType:"protein",species:"",priority:1,unknown:"Sp",regex:"^[A-Z0-9]+_[A-Z]+$",fullName:"UniProtKB/Swiss-Prot"},{database:"Wheat gene names",id:"Wn",homePage:"http://wheat.pw.usda.gov/",linkOut:"http://wheat.pw.usda.gov/report?class=gene;name=$id",example:"5S-Rrna-D1_(Triticum)",dataNodeType:"gene",species:"Triticum aestivum",priority:1,unknown:"Wn",regex:"",fullName:"Wheat gene names"},{database:"Wheat gene refs",id:"Wr",homePage:"http://wheat.pw.usda.gov/",linkOut:"http://wheat.pw.usda.gov/cgi-bin/graingenes/report.cgi?class=reference&name=$id",example:"WGS-95-1333",dataNodeType:"probe",species:"Triticum aestivum",priority:0,unknown:"Wr",regex:"",fullName:"Wheat gene refs"},{database:"WikiGenes",id:"Wg",homePage:"http://www.wikigenes.org/",linkOut:"http://www.wikigenes.org/e/gene/e/$id.html",example:"7157",dataNodeType:"gene",species:"",priority:0,unknown:"Wg",regex:"",fullName:"WikiGenes"},{database:"WikiPathways",id:"Wp",homePage:"http://www.wikipathways.org/",linkOut:"http://www.wikipathways.org/index.php/Pathway:$id",example:"WP100",dataNodeType:"pathway",species:"",priority:1,unknown:"urn:miriam:wikipathways",regex:"WPd{1,5}",fullName:"WikiPathways"},{database:"Wikipedia",id:"Wi",homePage:"http://www.wikipedia.org",linkOut:"http://en.wikipedia.org/wiki/$id",example:"Acetate",dataNodeType:"metabolite",species:"",priority:0,unknown:"Wi",regex:"",fullName:"Wikipedia"},{database:"WormBase",id:"W",homePage:"http://www.wormbase.org/",linkOut:"http://www.wormbase.org/db/gene/gene?name=$id;class=Gene",example:"WBGene00000001",dataNodeType:"gene",species:"Caenorhabditis elegans",priority:1,unknown:"urn:miriam:wormbase",regex:"^WBGened{8}$",fullName:"WormBase"},{database:"ZFIN",id:"Z",homePage:"http://zfin.org",linkOut:"http://zfin.org/action/marker/view/$id",example:"ZDB-GENE-041118-11",dataNodeType:"gene",species:"Danio rerio",priority:1,unknown:"urn:miriam:zfin",regex:"ZDB-GENE-d+-d+",fullName:"ZFIN Gene"}],pathvisiojs.data.gpml=function(){function toRenderableJson(gpml,pathwayIri,callback){self.gpml=gpml;
var gpmlPathway=d3.select(gpml).select("Pathway");console.log("GPML"),console.log(gpml);var gpmlNamespace=null;try{gpmlNamespace=self.gpmlNamespace=gpmlPathway.attr("xmlns")}catch(e){return console.log(e.message),void 0}if(-1===pathvisiojs.data.gpml.namespaces.indexOf(gpmlNamespace))return alert("Pathvisiojs does not support the data format provided. Please convert to GPML and retry."),console.log("Pathvisiojs does not support the data format provided. Please convert to GPML and retry."),void 0;0!==pathvisiojs.data.gpml.namespaces.indexOf(gpmlNamespace)&&alert("Pathvisiojs may not fully support the version of GPML provided (xmlns: "+gpmlNamespace+"). Please convert to the supported version of GPML (xmlns: "+pathvisiojs.data.gpml.namespaces[0]+")."),jsonPathway={"@id":pathwayIri,"wp:Author":[{"@id":"Khanspers"},{"@id":"Pjaiswal"},{"@id":"Ariutta"}],"media:frameSize":{"media:width":parseFloat(gpmlPathway.select("Graphics").attr("BoardWidth")),"media:height":parseFloat(gpmlPathway.select("Graphics").attr("BoardHeight"))}},jsonPathway["@context"]={xsd:"http://www.w3.org/2001/XMLSchema#",wp:"http://vocabularies.wikipathways.org/wp#",wpId:"http://wikipathways.org/index.php/Pathway:WP",gpmlFolder:"file://Users/andersriutta/Sites/pathvisiojs/test/gpml/",gpml:"http://vocabularies.wikipathways.org/gpml#",name:"http://xmlns.com/foaf/0.1/name",dcterms:"http://purl.org/dc/terms/",hMDB:"http://www.hmdb.ca/metabolites/HMDB",entrezGene:"http://www.ncbi.nlm.nih.gov/gene/",ChEBI:"http://www.ebi.ac.uk/chebi/searchId.do?chebiId=",media:"http://www.w3.org/TR/mediaont-10/",ex:"http://www.example.com/",pathwayElements:{"@id":"ex:pathwayElements/","@container":"@list"},"gpml:GraphRef":{"@type":"@id"},"ex:IsRefedBy":{"@reverse":"gpml:GraphRef"},"wp:Interaction":{"@type":"@id"},"gpml:Point":{"@id":"gpml:Point","@container":"@list"},"gpml:SnappedPoint":{"gpml:GraphRef":"@id","gpml:relX":"xsd:integer","gpml:relY":"xsd:integer"},"gpml:GraphicalPoint":{"gpml:x":"xsd:integer","gpml:y":"xsd:integer"}};var dataNode,elementIri,linestyle;jsonPathway.pathwayElements={},gpmlPathway.selectAll("DataNode").each(function(){dataNode=d3.select(this),elementIri=pathwayIri+"#"+dataNode.attr("GraphId"),jsonPathway.pathwayElements[elementIri]={},jsonPathway.pathwayElements[elementIri]["@id"]=pathwayIri+"#"+dataNode.attr("GraphId"),jsonPathway.pathwayElements[elementIri]["wp:DatasourceReference"]={},jsonPathway.pathwayElements[elementIri]["wp:DatasourceReference"]["gpml:database"]=dataNode.select("Xref").attr("Database"),jsonPathway.pathwayElements[elementIri]["wp:DatasourceReference"]["@id"]=dataNode.select("Xref").attr("ID"),jsonPathway.pathwayElements[elementIri]["@type"]="gpml:DataNode",jsonPathway.pathwayElements[elementIri]["gpml:DataNode"]="wp:"+dataNode.attr("Type"),jsonPathway.pathwayElements[elementIri]["gpml:textlabel"]=dataNode.attr("TextLabel"),jsonPathway.pathwayElements[elementIri]["gpml:centerx"]=dataNode.select("Graphics").attr("CenterX"),jsonPathway.pathwayElements[elementIri]["gpml:centery"]=dataNode.select("Graphics").attr("CenterY"),jsonPathway.pathwayElements[elementIri]["gpml:width"]=dataNode.select("Graphics").attr("Width"),jsonPathway.pathwayElements[elementIri]["gpml:height"]=dataNode.select("Graphics").attr("Height"),linestyle=dataNode.select("Graphics").attr("LineStyle"),linestyle&&(linestyle="Solid"),jsonPathway.pathwayElements[elementIri]["gpml:linestyle"]="gpml:"+linestyle});var interaction,anchor,points,interactionType;gpmlPathway.selectAll("Interaction").each(function(){interaction=d3.select(this),elementIri=pathwayIri+"#"+interaction.attr("GraphId"),jsonPathway.pathwayElements[elementIri]={},jsonPathway.pathwayElements[elementIri]["@id"]=pathwayIri+"#"+interaction.attr("GraphId"),jsonPathway.pathwayElements[elementIri]["@type"]="wp:Interaction",points=interaction.selectAll("Point"),interactionType="wp:"+gpmlArrowHeadToSemanticMappings[points[0][points[0].length-1].getAttribute("ArrowHead")],jsonPathway.pathwayElements[elementIri]["wp:Interaction"]=[],jsonPathway.pathwayElements[elementIri]["wp:Interaction"]["@id"]=pathwayIri+"#"+interaction.select("Point").attr("GraphRef"),jsonPathway.pathwayElements[elementIri]["wp:Interaction"]["@type"]=interactionType,jsonPathway.pathwayElements[elementIri]["wp:Interaction"][interactionType]=pathwayIri+"#"+points[0][points[0].length-1].getAttribute("GraphRef");var connectorType=interaction.select("Graphics").attr("ConnectorType")||"Straight";jsonPathway.pathwayElements[elementIri]["gpml:connectorType"]="gpml:"+connectorType;var point,pointObj;jsonPathway.pathwayElements[elementIri]["gpml:Point"]=[],points.each(function(){point=d3.select(this),pointObj={};var relX=point.attr("RelX"),relY=point.attr("RelY");relX&&relY?(pointObj["@type"]="gpml:SnappedPoint",pointObj["gpml:SnappedPoint"]={},pointObj["gpml:SnappedPoint"]["gpml:GraphRef"]=pathwayIri+"#"+point.attr("GraphRef"),pointObj["gpml:SnappedPoint"]["gpml:RelX"]=relX,pointObj["gpml:SnappedPoint"]["gpml:RelY"]=relY):(pointObj["@type"]="gpml:GraphicalPoint",pointObj["gpml:GraphicalPoint"]={},pointObj["gpml:GraphicalPoint"]["gpml:X"]=point.attr("X"),pointObj["gpml:GraphicalPoint"]["gpml:Y"]=point.attr("Y")),jsonPathway.pathwayElements[elementIri]["gpml:Point"].push(pointObj)}),interaction.selectAll("Anchor").each(function(){anchor=d3.select(this),elementIri=pathwayIri+"#"+anchor.attr("GraphId"),jsonPathway.pathwayElements[elementIri]={},jsonPathway.pathwayElements[elementIri]["@id"]=pathwayIri+"#"+anchor.attr("GraphId"),jsonPathway.pathwayElements[elementIri]["@type"]="wp:Reaction",jsonPathway.pathwayElements[elementIri]["gpml:GraphRef"]=interaction["@id"],jsonPathway.pathwayElements[elementIri]["gpml:anchorPosition"]=anchor.attr("Position")})}),jsonPathway.metadata={},jsonPathway.metadata.boardWidth=parseFloat(gpmlPathway.select("Graphics").attr("BoardWidth")),jsonPathway.metadata.boardHeight=parseFloat(gpmlPathway.select("Graphics").attr("BoardHeight")),jsonPathway.metadata.name=d3.select(gpml).select("Pathway").attr("Name"),jsonPathway.metadata.xmlns=d3.select(gpml).select("Pathway").attr("xmlns"),jsonPathway.metadata.organism=d3.select(gpml).select("Pathway").attr("Organism"),async.parallel({jsonAnchorsFromEdges:function(callback){var jsonAnchors,gpmlAnchors=gpmlPathway.selectAll("Anchor");gpmlAnchors.length>0?(jsonAnchors=[],gpmlAnchors.each(function(){pathvisiojs.data.gpml.anchor.getFromEdge(d3.select(this),function(renderableElement){jsonAnchors.push(renderableElement)})}),callback(null,jsonAnchors)):callback(null)},elementsFromDataNodes:function(callback){var gpmlDataNodes=gpmlPathway.selectAll("DataNode"),elements=[];gpmlDataNodes.length>0?(jsonDataNodes=[],jsonAnchors=[],gpmlDataNodes.each(function(){pathvisiojs.data.gpml.dataNode.toRenderableJson(d3.select(this),function(jsonDataNode,jsonAnchorsFromLastDataNode){jsonDataNodes.push(jsonDataNode),jsonAnchors=jsonAnchors.concat(jsonAnchorsFromLastDataNode)})}),elements=jsonAnchors.concat(jsonDataNodes),callback(null,elements)):callback(null)},next:function(callback){callback(null)}},function(err,results){self.results=results,jsonPathway.elements=results.jsonAnchorsFromEdges.concat(results.elementsFromDataNodes);var gpmlGraphicalLines=gpmlPathway.selectAll("GraphicalLine"),jsonGraphicalLines=[];gpmlGraphicalLines.length>0&&(gpmlGraphicalLines.each(function(){pathvisiojs.data.gpml.graphicalLine.toRenderableJson(d3.select(this),function(jsonGraphicalLine){jsonGraphicalLines.push(jsonGraphicalLine)})}),jsonPathway.elements=jsonPathway.elements.concat(jsonGraphicalLines));var gpmlInteractions=gpmlPathway.selectAll("Interaction"),jsonInteractions=[];gpmlInteractions.length>0&&(gpmlInteractions.each(function(){pathvisiojs.data.gpml.interaction.toRenderableJson(d3.select(this),function(jsonInteraction){jsonInteractions.push(jsonInteraction)})}),jsonPathway.elements=jsonPathway.elements.concat(jsonInteractions)),self.pathway=jsonPathway,callback(jsonPathway)})}var jsonPathway={},gpmlArrowHeadToSemanticMappings={Arrow:"Activity",TBar:"InhibitoryActivity"};return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.namespaces=["http://pathvisio.org/GPML/2013a","http://genmapp.org/GPML/2010a","http://genmapp.org/GPML/2008a","http://genmapp.org/GPML/2007"],pathvisiojs.data.gpml.dataNode=function(){function toRenderableJson(gpmlDataNode,callback){self.gpmlDataNode=gpmlDataNode;var jsonDataNode={};try{jsonDataNode.renderableType="node",jsonDataNode.nodeType="data-node",jsonDataNode.dataNodeType=strcase.paramCase(gpmlDataNode.attr("Type"));var xRef=gpmlDataNode.select("Xref");xRef.attr("Database")&&xRef.attr("ID")&&(jsonDataNode.xRef={},jsonDataNode.xRef.database=xRef.attr("Database"),jsonDataNode.xRef.id=xRef.attr("ID"));var jsonAnchorsFromThisDataNode;pathvisiojs.data.gpml.node.toRenderableJson(gpmlDataNode,jsonDataNode,function(jsonNode,jsonAnchorsFromThisNode){jsonDataNode=jsonNode,jsonAnchorsFromThisDataNode=jsonAnchorsFromThisNode}),callback(jsonDataNode,jsonAnchorsFromThisDataNode)}catch(e){console.log("Error converting data node to renderable json: "+e.message)}}return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.node=function(){function toRenderableJson(gpmlNode,jsonNode,callback){try{var comments=gpmlNode.selectAll("Comment");comments[0].length>0&&(jsonNode.comments=[],comments.each(function(){jsonNode.comments.push(d3.select(this).text())}));var zIndex=gpmlNode.select("Graphics").attr("ZOrder");zIndex&&(jsonNode.zIndex=parseFloat(zIndex));var centerX=parseFloat(gpmlNode.select("Graphics").attr("CenterX"));jsonNode.width=parseFloat(gpmlNode.select("Graphics").attr("Width")),jsonNode.x=centerX-jsonNode.width/2;var centerY=parseFloat(gpmlNode.select("Graphics").attr("CenterY"));jsonNode.height=parseFloat(gpmlNode.select("Graphics").attr("Height")),jsonNode.y=centerY-jsonNode.height/2,jsonNode.id=gpmlNode.attr("GraphId");var color,jsonAnchorsFromThisNode=pathvisiojs.data.gpml.anchor.getAllFromNode(jsonNode),colorValue=gpmlNode.select("Graphics").attr("Color");colorValue&&(color=new RGBColor(colorValue),color.ok?jsonNode.stroke=color.toHex():(console.warn("Invalid Color encountered. Setting Color to black."),jsonNode.stroke="#000000"));var shapeType=gpmlNode.select("Graphics").attr("ShapeType");jsonNode.shapeType=shapeType?strcase.paramCase(shapeType):"data-node"===jsonNode.nodeType?"rectangle":"none";var fillColor=gpmlNode.select("Graphics").attr("FillColor");fillColor&&(fillColor=fillColor.toLowerCase(),"transparent"===fillColor?jsonNode.fillOpacity=0:(rGBFillColor=new RGBColor(fillColor),rGBFillColor.ok?jsonNode.fill=rGBFillColor.toHex():(console.warn("Invalid FillColor encountered. Setting FillColor to gray."),jsonNode.fill="#999999"),"none"!==jsonNode.shapeType&&(jsonNode.fillOpacity=1)));var strokeWidth=gpmlNode.select("Graphics").attr("LineThickness");strokeWidth&&(jsonNode.strokeWidth=strokeWidth);var attributes=gpmlNode.selectAll("Attribute"),strokeStyle=gpmlNode.select("Graphics").attr("LineStyle");if(strokeStyle?(strokeStyle=strokeStyle.toLowerCase(),jsonNode.strokeStyle="broken"===strokeStyle?"dashed":strokeStyle):attributes.length>0&&(strokeStyle=attributes.filter(function(){return"org.pathvisiojs.DoubleLineProperty"===d3.select(this).attr("Key")&&"Double"===d3.select(this).attr("Value")}),strokeStyle[0].length>0&&(jsonNode.strokeStyle="double")),attributes.length>0){var cellularComponent=attributes.filter(function(){return"org.pathvisiojs.CellularComponentProperty"===d3.select(this).attr("Key")&&"None"!=d3.select(this).attr("Value")});cellularComponent[0].length>0&&(jsonNode.cellularComponent=cellularComponent.attr("Value"))}var textLabel=gpmlNode.attr("TextLabel");if(self.gpmlNode=gpmlNode,console.log("textLabel"),console.log(textLabel),textLabel){var text=textLabel.toString().replace("&#xA;","\r\n");jsonNode.textLabel={},jsonNode.textLabel.text=text,jsonNode.hasOwnProperty("stroke")&&(jsonNode.textLabel.fill=jsonNode.stroke);var fontSize;fontSize=gpmlNode.select("Graphics").attr("FontSize"),fontSize||(fontSize=10),jsonNode.textLabel.fontSize=fontSize;var fontName;fontName=gpmlNode.select("Graphics").attr("FontName"),fontName&&(jsonNode.textLabel.fontFamily=fontName.toLowerCase());var fontWeight;fontWeight=gpmlNode.select("Graphics").attr("FontWeight"),fontWeight&&(jsonNode.textLabel.fontWeight=fontWeight.toLowerCase());var fontStyle;fontStyle=gpmlNode.select("Graphics").attr("FontStyle"),fontStyle&&(jsonNode.textLabel.fontStyle=fontStyle.toLowerCase());var textAnchor;textAnchor=gpmlNode.select("Graphics").attr("Align"),jsonNode.textLabel.textAnchor=alignToAnchorMappings.hasOwnProperty(textAnchor)?textAnchor.toLowerCase():"middle";var vAlign;vAlign=gpmlNode.select("Graphics").attr("Valign"),jsonNode.textLabel.vAlign=vAlign?vAlign.toLowerCase():"top"}callback(jsonNode,jsonAnchorsFromThisNode)}catch(e){return console.log("Error converting node to json: "+e.message),e}}function getPortCoordinates(boxDimensions,relX,relY){var port={};return port.x=boxDimensions.x+relX*boxDimensions.width,port.y=boxDimensions.y+relY*boxDimensions.height,port}var alignToAnchorMappings={Left:"start",Center:"middle",Right:"end"};return{toRenderableJson:toRenderableJson,getPortCoordinates:getPortCoordinates}}(),pathvisiojs.data.gpml.anchor=function(){function getFromEdge(gpmlAnchor,callback){self.gpmlAnchor=gpmlAnchor;var jsonAnchor={};try{jsonAnchor.id=gpmlAnchor.attr("GraphId"),jsonAnchor.parentId=gpmlAnchor[0][0].parentNode.parentNode.attributes.GraphId.textContent,jsonAnchor.position=gpmlAnchor.attr("Position"),jsonAnchor.renderableType="anchor",callback(jsonAnchor)}catch(e){console.log("Error converting anchor to renderable json: "+e.message)}}function getAllFromNode(jsonNode){self.jsonNode=jsonNode;var parentId,renderableType,id,x,y,sideOffsetX,sideOffsetY,positionOffsetX,positionOffsetY,jsonAnchors=[],elementSides=[{side:"top",dx:0,dy:-1},{side:"right",dx:1,dy:0},{side:"bottom",dx:0,dy:1},{side:"left",dx:-1,dy:0}],anchorPositions=[.25,.5,.75];try{return parentId=jsonNode.id,renderableType="anchor",elementSides.forEach(function(element){sideOffsetX=Math.max(element.dx,0)*jsonNode.width,sideOffsetY=Math.max(element.dy,0)*jsonNode.height,anchorPositions.forEach(function(position){id=String(jsonNode.id)+String(element.side)+String(position),positionOffsetX=Math.abs(element.dy)*position*jsonNode.width,positionOffsetY=Math.abs(element.dx)*position*jsonNode.height,x=jsonNode.x+sideOffsetX+positionOffsetX,y=jsonNode.y+sideOffsetY+positionOffsetY,jsonAnchors.push({parentId:jsonNode.id,renderableType:"anchor",side:element.side,dx:element.dx,dy:element.dy,id:id,position:position,x:x,y:y})})}),jsonAnchors}catch(e){console.log("Error converting anchor to renderable json: "+e.message)}}return{getFromEdge:getFromEdge,getAllFromNode:getAllFromNode}}(),pathvisiojs.data.gpml.interaction=function(){function toRenderableJson(gpmlInteraction,callback){var jsonInteraction={};try{jsonInteraction.edgeType="interaction",pathvisiojs.data.gpml.edge.toRenderableJson(gpmlInteraction,jsonInteraction,function(jsonEdge){jsonInteraction=jsonEdge}),callback(jsonInteraction)}catch(e){console.log("Error converting interaction to renderable json: "+e.message)}}return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.graphicalLine=function(){function toRenderableJson(gpmlGraphicalLine,callback){var jsonGraphicalLine={};try{jsonGraphicalLine.edgeType="graphical-line",pathvisiojs.data.gpml.edge.toRenderableJson(gpmlGraphicalLine,jsonGraphicalLine,function(jsonEdge){jsonGraphicalLine=jsonEdge}),callback(jsonGraphicalLine)}catch(e){console.log("Error converting graphicalLine to renderable json: "+e.message)}}return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.edge=function(){function toRenderableJson(gpmlEdge,jsonEdge,callback){try{jsonEdge.id=gpmlEdge.attr("GraphId"),jsonEdge.renderableType="edge";var connectorType=gpmlEdge.select("Graphics").attr("ConnectorType");jsonEdge.connectorType=connectorType?connectorType.toLowerCase():"straight";var attribute,strokeStyle=strokeStyleMappings[String(gpmlEdge.select("Graphics").attr("LineStyle"))];strokeStyle?jsonEdge.strokeStyle=strokeStyle:(attribute=gpmlEdge.select("Attribute"),attribute[0][0]&&(console.log(attribute),"org.pathvisiojs.DoubleLineProperty"===attribute.attr("Key")&&"Double"===attribute.attr("Value")&&(jsonEdge.strokeStyle="double")));var stroke=String(gpmlEdge.select("Graphics").attr("Color"));if(stroke){var color=new RGBColor(stroke);color.ok&&(jsonEdge.stroke=color.toHex())}jsonEdge.strokeWidth=gpmlEdge.select("Graphics").attr("LineThickness"),jsonEdge.zIndex=gpmlEdge.select("Graphics").attr("ZOrder");var xRef=gpmlEdge.select("Xref");xRef>0&&(xRef.attr("Database")||xRef.attr("ID")||(jsonEdge.xRef=xRef));var gpmlPoints=gpmlEdge.selectAll("Point");self.gpmlPoints=gpmlPoints;var markerStart=markerMappings[gpmlPoints[0][0].getAttribute("ArrowHead")];jsonEdge.markerStart=markerStart?markerStart:"none";var lastPointIndex=gpmlPoints[0].length-1,markerEnd=markerMappings[gpmlPoints[0][lastPointIndex].getAttribute("ArrowHead")];jsonEdge.markerEnd=markerEnd?markerEnd:"none";var jsonPoints=[];gpmlPoints.each(function(){pathvisiojs.data.gpml.edge.point.toRenderableJson(d3.select(this),function(jsonPoint){jsonPoints.push(jsonPoint)})}),jsonEdge.points=jsonPoints,callback(jsonEdge)}catch(e){return console.log("Error converting edge to json: "+e.message),e}}var markerMappings={Arrow:"arrow","mim-branching-left":"mim-branching-left","mim-branching-right":"mim-branching-right","mim-necessary-stimulation":"mim-necessary-stimulation","mim-binding":"mim-binding","mim-conversion":"mim-conversion","mim-stimulation":"mim-stimulation","mim-modification":"mim-modification","mim-catalysis":"mim-catalysis","mim-inhibition":"mim-inhibition","mim-cleavage":"mim-cleavage","mim-covalent-bond":"mim-covalent-bond","mim-transcription-translation":"mim-transcription-translation","mim-gap":"mim-gap",None:"none",TBar:"t-bar"},strokeStyleMappings={Broken:"dashed"};return{toRenderableJson:toRenderableJson}}(),pathvisiojs.data.gpml.edge.point=function(){function toRenderableJson(gpmlPoint,callback){var jsonPoint={};try{jsonPoint.x=parseFloat(gpmlPoint.attr("X")),jsonPoint.y=parseFloat(gpmlPoint.attr("Y"));var side,position,relX=String(gpmlPoint.attr("RelX")),relY=String(gpmlPoint.attr("RelY"));relX&&relY&&"null"!=relX&&"null"!=relY&&("0.0"==relX&&"0.0"==relY?jsonPoint.anchorId=gpmlPoint.attr("GraphRef"):(side=void 0!==gpmlRelXToJsonSideAndPositionMapping[relX].side?gpmlRelXToJsonSideAndPositionMapping[relX].side:gpmlRelYToJsonSideAndPositionMapping[relY].side,position=void 0!==gpmlRelXToJsonSideAndPositionMapping[relX].position?gpmlRelXToJsonSideAndPositionMapping[relX].position:gpmlRelYToJsonSideAndPositionMapping[relY].position,jsonPoint.anchorId=String(gpmlPoint.attr("GraphRef"))+String(side)+String(position))),callback(jsonPoint)}catch(e){return console.log("Error converting point to json: "+e.message),e}}var gpmlRelXToJsonSideAndPositionMapping={"-1.0":{side:"left"},"-0.5":{position:.25},"0.0":{position:.5},.5:{position:.75},"1.0":{side:"right"}},gpmlRelYToJsonSideAndPositionMapping={"-1.0":{side:"top"},"-0.5":{position:.25},"0.0":{position:.5},.5:{position:.75},"1.0":{side:"bottom"}};return{toRenderableJson:toRenderableJson}}(),pathvisiojs.view=pathvisiojs.view||{},pathvisiojs.view.annotation=function(){function render(annotationData){self.annotationData=annotationData;var annotation=d3.select("#annotation").data([annotationData]);annotation.select("#annotation-header-text").text(function(d){return d.header}),annotation.select("i.icon-move").on("drag",function(){}),annotation.select("i.icon-remove").on("click",function(){annotation.attr("style","visibility: hidden;")}),annotation.select("#annotation-description").text(function(d){return d.description});var annotationListItemsContainer=annotation.selectAll("#annotation-items-container").data(function(d){return console.log("d annotationListItemsContainer"),console.log(d),console.log([d.listItems]),[d.listItems]});console.log(annotationListItemsContainer);var annotationListItems=annotationListItemsContainer.selectAll("li").data(function(d){return console.log("d annotationListItems"),console.log(d),d});annotationListItems.enter().append("li"),annotationListItems.exit().remove(),annotationListItems.selectAll(".annotation-item-title").data(function(d){return console.log("d annotationListItems"),console.log(d),[d.key]}).enter().append("span").attr("class","annotation-item-title").text(function(d){return d+": "});var annotationItemPlainTextElements=annotationListItems.selectAll("span.annotation-item-text").data(function(d){return d.values.filter(function(element){return element.hasOwnProperty("uri")?void 0:(console.log("annotationItemPlainTextElement"),console.log(element),element)})}).text(function(d){return" "+d.text});annotationItemPlainTextElements.enter().append("span").attr("class","annotation-item-text").text(function(d){return" "+d.text}),annotationItemPlainTextElements.exit().remove();var annotationItemLinkedTextElements=annotationListItems.selectAll("a.annotation-item-text").data(function(d){return d.values.filter(function(element){return element.hasOwnProperty("uri")?element:void 0})}).text(function(d){return" "+d.text});annotationItemLinkedTextElements.enter().append("a").attr("href",function(d){return d.uri}).attr("class","annotation-item-text").text(function(d){return" "+d.text}),annotationItemLinkedTextElements.exit().remove(),annotation[0][0].style.visibility="visible"}return{render:render}}(),pathvisiojs.view.annotation.citation=function(){function render(){}return{render:render}}(),pathvisiojs.view.annotation.xRef=function(){function render(organism,node){pathvisiojs.data.bridgedb.getXrefAnnotationDataByDataNode(organism,node,function(annotationData){pathvisiojs.view.annotation.render(annotationData)})}return{render:render}}(),pathvisiojs.view.pathwayDiagram=function(){function getPreserveAspectRatioValues(preserveAspectRatio){var results={};return results.align=preserveAspectRatio.align?preserveAspectRatio.align:preserveAspectRatio,"none"===results.align?(results.xAlign="x-mid",results.yAlign="y-mid"):(results.meetOrSlice="meet",preserveAspectRatio.meetOrSlice&&(results.meetOrSlice=preserveAspectRatio.meetOrSlice),results.xAlign="x-"+results.align.substr(1,3).toLowerCase(),results.yAlign="y-"+results.align.substr(results.align.length-3,3).toLowerCase()),results}function fitElementWithinContainer(target,elementWidth,elementHeight,preserveAspectRatioValues){var xScale,yScale,scale,results={};xScale=scale=target.width/elementWidth,yScale=target.height/elementHeight,"none"===preserveAspectRatioValues.align?(results.x=0,results.y=0,results.width=xScale*elementWidth,results.height=yScale*elementHeight):(scale=xScale=yScale="meet"===preserveAspectRatioValues.meetOrSlice?Math.min(xScale,yScale):Math.max(xScale,yScale),results.width=xScale*elementWidth,results.height=yScale*elementHeight,xMapping=[{"x-min":0},{"x-mid":target.width/2-results.width/2},{"x-max":target.width-results.width}],yMapping=[{"y-min":0},{"y-mid":target.height/2-results.height/2},{"y-max":target.height-results.height}],results.x=xMapping[preserveAspectRatioValues.xAlign],results.y=yMapping[preserveAspectRatioValues.yAlign],results.scale=scale);var browserPrefixArray=["-webkit-transform: ","-o-transform: ","transform: "],translationMatrixCssString="matrix("+xScale+", 0, 0, "+yScale+", "+results.x+", "+results.y+"); ";return results.translationMatrixCss=" ",browserPrefixArray.forEach(function(element){results.translationMatrixCss+=element+translationMatrixCssString}),results}function preload(args,callback){if(args.preserveAspectRatio||(args.preserveAspectRatio="xMidYMid"),args.preserveAspectRatioValues=getPreserveAspectRatioValues(args.preserveAspectRatio),args.targetElement=d3.select(args.target),1!==args.targetElement.length)return console.warn("Error: Container selector must be matched by exactly one element.");if(args.target={},args.target.element=args.targetElement,args.target.width=args.targetElement[0][0].getElementWidth(),args.target.height=args.targetElement[0][0].getElementHeight(),Modernizr.svg)pathvisiojs.view.pathwayDiagram.svg.loadPartials(args,function(svg,uniformlyScalingShapesList){console.log(svg),args.svg=svg,args.uniformlyScalingShapesList=uniformlyScalingShapesList,callback(args)});else{var pngUrl,inputDataDetails=getInputDataDetails(args.data);pngUrl=inputDataDetails.wikiPathwaysId?encodeURI("http://test3.wikipathways.org/wpi//wpi.php?action=downloadFile&type=png&pwTitle=Pathway:"+inputDataDetails.wikiPathwaysId+"&revision="+inputDataDetails.revision):"http://upload.wikimedia.org/wikipedia/commons/3/3b/Picture_Not_Yet_Available.png",window.setTimeout(function(){$("#view").prepend('<img id="pathvisio-java-png" src="http://test3.wikipathways.org/wpi//wpi.php?action=downloadFile&type=png&pwTitle=Pathway:'+ +urlParamList.gpml+"&revision="+urlParamList.gpmlRev+'" />')},50),callback(null)}}function load(args,callback){return args&&void 0!=args?(console.log("args.pathway"),console.log(args.pathway),Modernizr.svg&&pathvisiojs.view.pathwayDiagram.svg.load(args,function(){console.log("view.load args"),console.log(args),callback(args)}),void 0):args.svg&&void 0!=args.svg?args.pathway&&void 0!=args.pathway?console.warn("Missing required input parameter."):console.warn("Missing pathway."):console.warn("Missing svg.")}return{preload:preload,load:load,fitElementWithinContainer:fitElementWithinContainer}}(),pathvisiojs.view.pathwayDiagram.pathFinder=function(){function xYCoordinatesToMatrixLocation(x,y){var results={};return results.column=Math.floor(x/pathvisioNS.grid.squareLength),results.row=Math.floor(y/pathvisioNS.grid.squareLength),results}function matrixLocationToXYCoordinates(column,row){var results={};return results.x=column*pathvisioNS.grid.squareLength,results.y=row*pathvisioNS.grid.squareLength,results}function generateGridData(pathway,callback){var nodes=pathway.elements.filter(function(element){return"node"===element.renderableType});nodes=d3.select(nodes).sort(function(node1,node2){Math.min(node1.height,node1.width)-Math.min(node2.height,node2.width)}),pathvisioNS.grid.squareLength=Math.min(nodes[0][0][0].height,nodes[0][0][0].width)/7;var totalColumnCount=self.totalColumnCount=Math.ceil(pathway.metadata.boardWidth/pathvisioNS.grid.squareLength),totalRowCount=self.totalRowCount=Math.ceil(pathway.metadata.boardHeight/pathvisioNS.grid.squareLength),paddedMatrix=self.paddedMatrix=[];pathvisioNS.grid.gridRenderingData=[];for(var currentRow=0;totalRowCount>currentRow;currentRow++){paddedMatrix[currentRow]=[];for(var currentColumn=0;totalColumnCount>currentColumn;currentColumn++)paddedMatrix[currentRow][currentColumn]=0}var tightMatrix,emptyMatrix;emptyMatrix=tightMatrix=paddedMatrix;var upperLeftCorner,lowerRightCorner,rowStart,rowEnd,columnStart,columnEnd;nodes[0][0].forEach(function(node){upperLeftCorner=xYCoordinatesToMatrixLocation(node.x,node.y,pathvisioNS.grid.squareLength),lowerRightCorner=xYCoordinatesToMatrixLocation(node.x+node.width,node.y+node.height,pathvisioNS.grid.squareLength),columnStartTight=self.columnStartTight=Math.max(upperLeftCorner.column,0),columnEndTight=self.columnEndTight=Math.min(lowerRightCorner.column,totalColumnCount-1),rowStartTight=self.rowStartTight=Math.max(upperLeftCorner.row,0),rowEndTight=self.rowEndTight=Math.min(lowerRightCorner.row,totalRowCount-1);for(var currentRow=rowStartTight;rowEndTight+1>currentRow;currentRow++)for(var currentColumn=columnStartTight;columnEndTight+1>currentColumn;currentColumn++)tightMatrix[currentRow][currentColumn]=1;columnStart=self.columnStart=Math.max(upperLeftCorner.column-5,0),columnEnd=self.columnEnd=Math.min(lowerRightCorner.column+5,totalColumnCount-1),rowStart=self.rowStart=Math.max(upperLeftCorner.row-5,0),rowEnd=self.rowEnd=Math.min(lowerRightCorner.row+5,totalRowCount-1);for(var currentRow=rowStart;rowEnd+1>currentRow;currentRow++)for(var currentColumn=columnStart;columnEnd+1>currentColumn;currentColumn++)paddedMatrix[currentRow][currentColumn]=1,pathvisioNS.grid.gridRenderingData[currentRow*(totalColumnCount-1)+currentColumn]={x:currentColumn*pathvisioNS.grid.squareLength,y:currentRow*pathvisioNS.grid.squareLength,fill:"blue"}});var column1,column2,row1,row2,anchorPosition,anchors=pathway.elements.filter(function(element){return"anchor"===element.renderableType});anchors.forEach(function(anchor){anchorPosition=xYCoordinatesToMatrixLocation(anchor.x,anchor.y),column1=Math.max(Math.min(anchorPosition.column-5*anchor.dx,totalColumnCount-1),0),column2=Math.max(Math.min(anchorPosition.column+5*anchor.dx,totalColumnCount-1),0),columnStart=Math.min(column1,column2),columnEnd=Math.max(column1,column2),row1=Math.max(Math.min(anchorPosition.row-5*anchor.dy,totalRowCount-1),0),row2=Math.max(Math.min(anchorPosition.row+5*anchor.dy,totalRowCount-1),0),rowStart=Math.min(row1,row2),rowEnd=Math.max(row1,row2);for(var currentRow=rowStart;rowEnd+1>currentRow;currentRow++)for(var currentColumn=columnStart;columnEnd+1>currentColumn;currentColumn++)paddedMatrix[currentRow][currentColumn]=0,pathvisioNS.grid.gridRenderingData[currentRow*(totalColumnCount-1)+currentColumn]={x:currentColumn*pathvisioNS.grid.squareLength,y:currentRow*pathvisioNS.grid.squareLength,fill:"yellow"}}),pathvisioNS.grid.paddedGrid=new PF.Grid(totalColumnCount,totalRowCount,paddedMatrix),pathvisioNS.grid.tightGrid=new PF.Grid(totalColumnCount,totalRowCount,tightMatrix),pathvisioNS.grid.emptyGrid=new PF.Grid(totalColumnCount,totalRowCount,emptyMatrix),pathvisioNS.grid.gridRenderingData=pathvisioNS.grid.gridRenderingData.filter(function(element){return!!element}),callback()}function getPath(pathway,edge,callbackOutside){var workingGrid=self.workingGrid=pathvisioNS.grid.paddedGrid.clone(),finder=self.finder=new PF.BiBreadthFirstFinder({allowDiagonal:!1,dontCrossCorners:!0}),points=edge.points,pointStart=points[0],pointEnd=points[points.length-1];startLocation=self.startLocation=xYCoordinatesToMatrixLocation(pointStart.x,pointStart.y),endLocation=self.endLocation=xYCoordinatesToMatrixLocation(pointEnd.x,pointEnd.y);var pathData;async.series([function(callback){runPathFinder(pathway,edge,workingGrid,finder,points,pointStart,pointEnd,startLocation,endLocation,function(data){pathData=data,console.log("padded"),console.log(pathData),console.log(pathData.length),callback(null)})},function(callback){pathData.length<3?(workingGrid=self.workingGrid=pathvisioNS.grid.tightGrid.clone(),runPathFinder(pathway,edge,workingGrid,finder,points,pointStart,pointEnd,startLocation,endLocation,function(data){pathData=data,console.log("tight"),console.log(pathData),console.log(pathData.length),callback(null)})):callback(null)},function(callback){pathData.length<3?(workingGrid=self.workingGrid=pathvisioNS.grid.emptyGrid.clone(),runPathFinder(pathway,edge,workingGrid,finder,points,pointStart,pointEnd,startLocation,endLocation,function(data){pathData=data,console.log("empty"),console.log(pathData),console.log(pathData.length),pathData.push({x:pointEnd.x,y:pointEnd.y}),callback(null)})):callback(null)}],function(){console.log("returned"),console.log(pathData),console.log(pathData.length),callbackOutside(pathData)})}function runPathFinder(pathway,edge,workingGrid,finder,points,pointStart,pointEnd,startLocation,endLocation,callback){var blockyPath=self.blockyPath=finder.findPath(startLocation.column,startLocation.row,endLocation.column,endLocation.row,workingGrid);console.log("blockyPath"),console.log(blockyPath);var compressedMidpoints=self.compressedMidpoints=[],index=0;if(blockyPath.length>3){do index+=1,blockyPath[index-1][0]-blockyPath[index+1][0]&&blockyPath[index-1][1]!==blockyPath[index+1][1]&&compressedMidpoints.push([blockyPath[index][0],blockyPath[index][1]]);while(index<blockyPath.length-2)}else console.log("blockyPath too short to compress.");var fullXYPath=self.fullXYPath=[];compressedMidpoints.forEach(function(element,index){fullXYPath.push({x:compressedMidpoints[index][0]*pathvisioNS.grid.squareLength,y:compressedMidpoints[index][1]*pathvisioNS.grid.squareLength})
}),fullXYPath.unshift({x:pointStart.x,y:pointStart.y}),fullXYPath.push({x:pointEnd.x,y:pointEnd.y});var smootherPath=self.smootherPath=[];if(index=0,fullXYPath.length>2){do index+=1,(Math.abs(fullXYPath[index].x-fullXYPath[index-1].x)>2*pathvisioNS.grid.squareLength||Math.abs(fullXYPath[index+1].x-fullXYPath[index].x)>2*pathvisioNS.grid.squareLength)&&(Math.abs(fullXYPath[index].y-fullXYPath[index-1].y)>2*pathvisioNS.grid.squareLength||Math.abs(fullXYPath[index+1].y-fullXYPath[index].y)>2*pathvisioNS.grid.squareLength)&&smootherPath.push(fullXYPath[index]);while(index<fullXYPath.length-2)}else console.log("fullXYPath too short to smooth.");smootherPath.unshift({x:pointStart.x,y:pointStart.y}),smootherPath.push({x:pointEnd.x,y:pointEnd.y}),callback(smootherPath)}return{generateGridData:generateGridData,getPath:getPath,xYCoordinatesToMatrixLocation:xYCoordinatesToMatrixLocation,matrixLocationToXYCoordinates:matrixLocationToXYCoordinates}}(),pathvisiojs.view.pathwayDiagram.svg=function(){function setCTM(element,matrix){var s="matrix("+matrix.a+","+matrix.b+","+matrix.c+","+matrix.d+","+matrix.e+","+matrix.f+")";element.setAttribute("transform",s)}function load(args,callback){if(!args)return args.svg?args.pathway?console.warn("Missing required input parameter."):console.warn("Missing pathway."):console.warn("Missing svg.");var svg=args.svg;async.series([function(callback){pathvisioNS.grid={},pathvisiojs.view.pathwayDiagram.pathFinder.generateGridData(results.pathway,function(){callback(null)})},function(callback){svg=d3.select("body").select("#pathway-svg"),pathvisiojs.view.pathwayDiagram.svg.render(args,function(){callback(null)})},function(callback){var svgDimensions=self.svgDimensions=pathvisiojs.view.pathwayDiagram.fitElementWithinContainer(args.target,results.pathway.metadata.boardWidth,results.pathway.metadata.boardHeight,args.preserveAspectRatio);self.svgDimensions=svgDimensions,d3.select("#loading-icon").remove();var initialClickHappened=!1;svg.attr("style","display: inline; width: "+args.target.width+"px; height: "+args.target.height+"px; ").on("click",function(){svgPanZoom.enableZoom(),initialClickHappened=!0}).on("mouseover",function(){initialClickHappened&&svgPanZoom.enableZoom()}).on("mouseout",function(){initialClickHappened&&svgPanZoom.disableZoom()});var svgElement=document.querySelector("svg"),m1=svgElement.getCTM(),p={x:m1.e,y:m1.f},m2=svgElement.createSVGMatrix().translate(p.x,p.y).scale(svgDimensions.scale).translate(-p.x,-p.y),viewport=svgElement.querySelector("#viewport");setCTM(viewport,m2),svgPanZoom.init({root:"svg",zoomEnabled:!1}),callback(null)}],function(){callback()})}function loadPartials(args,callbackOutside){var pathvisioJsContainer,pathwayContainer,uniformlyScalingShapesList;async.series([function(callback){args.target.element.html(pathvisioNS["tmp/pathvisio-js.html"]),pathvisioJsContainer=args.target.element.select("#pathvisio-js-container"),pathwayContainer=pathvisioJsContainer.select("#pathway-container").attr("class",args.preserveAspectRatioValues.yAlign),svg=pathvisioJsContainer.select("#pathway-svg").attr("class",args.preserveAspectRatioValues.xAlign).attr("style","display: none; "),callback(null)},function(callback){callback(null)},function(callback){args.customMarkers?pathvisiojs.view.pathwayDiagram.svg.edge.marker.loadAllCustom(svg,args.customMarkers,function(){callback(null)}):callback(null)},function(callback){args.customShapes?pathvisiojs.view.pathwayDiagram.svg.node.shape.uniformlyScalingShape.loadAllCustom(svg,args.customShapes,function(){callback(null)}):callback(null)},function(callback){pathvisiojs.view.pathwayDiagram.svg.node.shape.uniformlyScalingShape.getUniformlyScalingShapesList(svg,function(data){uniformlyScalingShapesList=data,callback(null)})},function(callback){args.cssUrl?d3.text(args.cssUrl,"text/css",function(data){var defs=svg.select("defs"),style=defs.append("style").attr("type","text/css");style.text(data),callback(null)}):callback(null)}],function(){callbackOutside(svg,uniformlyScalingShapesList)})}function render(args,callback){function dragmove(d){d.x=d3.event.x,d.y=d3.event.y,d3.select(this).attr("x",d3.event.x).attr("y",d3.event.y)}if(!args)return args.svg?args.pathway?args.uniformlyScalingShapesList?(console.warn("Error: Missing required input."),"Error"):(console.warn("Error: No uniformlyScalingShapesList specified."),"Error"):(console.warn("Error: No data entered as input."),"Error"):(console.warn("Error: No svg specified."),"Error");d3.behavior.drag().on("drag",dragmove);var viewport=svg.select("#viewport").data([args.pathway]);viewport.exit().remove(),console.log("viewport"),console.log(viewport),console.log("args"),console.log(args),pathvisiojs.view.pathwayDiagram.svg.node.renderAll(viewport,args.pathway,args.uniformlyScalingShapesList),callback(svg)}var svg;return{render:render,load:load,loadPartials:loadPartials}}(),pathvisiojs.view.pathwayDiagram.svg.group=function(){function renderAll(svg,pathway){if(!svg||!pathway)return console.warn("Error: Missing input parameters.");var groups=pathway.groups;if(!groups)return console.warn("Error: No group data available.");var validGroups=groups.filter(function(el){var groupId=el.groupId;return pathway.nodes.filter(function(el){return el.groupRef===groupId}).length>0}),pathData=null;svg.select("#viewport").selectAll("use.group").data(validGroups).enter().append("path").attr("id",function(d){return"group-"+d.graphId}).attr("class",function(d){return"group group-"+d.style}).attr("d",function(d){var groupDimensions=getDimensions(pathway,d.groupId);return pathData="none"===d.style||"group"===d.style||"pathway"===d.style?"M "+groupDimensions.x+" "+groupDimensions.y+" L "+(groupDimensions.x+groupDimensions.width)+" "+groupDimensions.y+" L "+(groupDimensions.x+groupDimensions.width)+" "+(groupDimensions.y+groupDimensions.height)+" L "+groupDimensions.x+" "+(groupDimensions.y+groupDimensions.height)+" Z":"complex"===d.style?"M "+(groupDimensions.x+20)+" "+groupDimensions.y+" L "+(groupDimensions.x+groupDimensions.width-20)+" "+groupDimensions.y+" L "+(groupDimensions.x+groupDimensions.width)+" "+(groupDimensions.y+20)+" L "+(groupDimensions.x+groupDimensions.width)+" "+(groupDimensions.y+groupDimensions.height-20)+" L "+(groupDimensions.x+groupDimensions.width-20)+" "+(groupDimensions.y+groupDimensions.height)+" L "+(groupDimensions.x+20)+" "+(groupDimensions.y+groupDimensions.height)+" L "+groupDimensions.x+" "+(groupDimensions.y+groupDimensions.height-20)+" L "+groupDimensions.x+" "+(groupDimensions.y+20)+" Z":"M "+groupDimensions.x+" "+groupDimensions.y+" L "+(groupDimensions.x+groupDimensions.width)+" "+groupDimensions.y+" L "+(groupDimensions.x+groupDimensions.width)+" "+(groupDimensions.y+groupDimensions.height)+" L "+groupDimensions.x+" "+(groupDimensions.y+groupDimensions.height)+" Z"})}function getDimensions(pathway,groupId){var groupMembers=pathway.nodes.filter(function(el){return el.groupRef===groupId}),group={},margin=12;return group.x=d3.min(groupMembers,function(el){return el.x})-margin,group.y=d3.min(groupMembers,function(el){return el.y})-margin,group.width=d3.max(groupMembers,function(el){return el.x+el.width})-group.x+margin,group.height=d3.max(groupMembers,function(el){return el.y+el.height})-group.y+margin,group}return{renderAll:renderAll,getDimensions:getDimensions}}(),pathvisiojs.view.pathwayDiagram.svg.infoBox=function(){function render(svg,pathway){if(!svg||!pathway)return console.warn("Error: Missing input parameters.");var infoBox=[];pathway.hasOwnProperty("name")&&infoBox.push({key:"Title",value:pathway.name}),pathway.hasOwnProperty("license")&&infoBox.push({key:"Availability",value:pathway.license}),pathway.hasOwnProperty("lastModified")&&infoBox.push({key:"Last modified",value:pathway.lastModified}),pathway.hasOwnProperty("organism")&&infoBox.push({key:"Organism",value:pathway.organism});var infoBoxElements=svg.select("#viewport").selectAll("text.info-box").data(infoBox).enter().append("text").attr("id",function(d,i){return"info-box-"+i}).attr("class","info-box").attr("x",0).attr("y",function(d,i){return 14+14*i});infoBoxElements.append("tspan").attr("class","info-box-property-name").text(function(d){return d.key+": "}),infoBoxElements.append("tspan").text(function(d){return d.value})}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node=function(){function dragmove(d){console.log(d3.event.x),console.log("d"),console.log(d),console.log(d.id),console.log("this"),console.log(this),d.x=d3.event.x,d.y=d3.event.y;var args={};args.svg=d3.select("svg"),args.pathway=pathwayHere,args.uniformlyScalingShapesList=uniformlyScalingShapesListHere,pathvisiojs.view.pathwayDiagram.svg.render(args,function(){console.log("rendered after drag")})}function renderAll(viewport,pathway,uniformlyScalingShapesList){if(!viewport||!pathway)return viewport||console.log("viewport"),pathway||console.log("pathway"),console.warn("Error: Missing one or more required parameters: viewport, pathway.");pathwayHere=pathway,uniformlyScalingShapesListHere=uniformlyScalingShapesList;var drag=d3.behavior.drag().origin(Object).on("drag",dragmove),nodes=viewport.selectAll("g.node").data(function(d){return console.log("d"),console.log(d),d.elements.filter(function(element){return"node"===element.renderableType})}).attr("id",function(d){return"node-"+d.id}).attr("class","node").attr("transform",function(d){return"translate("+d.x+" "+d.y+")"}).on("click",function(d){console.log("clicked a data node"),"data-node"===d.nodeType&&(console.log(pathway),console.log(pathway.metadata.organism),pathvisiojs.view.annotation.xRef.render(pathway.metadata.organism,d))}).call(drag);nodes.enter().append("g").attr("id",function(d){return"node-"+d.id}).attr("class",function(d){var styleClass="node ";return"double"===d.strokeStyle&&(styleClass+="double "),styleClass}).attr("transform",function(d){return"translate("+d.x+" "+d.y+")"}).on("click",function(d){console.log("clicked a data node"),"data-node"===d.nodeType&&(console.log(pathway),console.log(pathway.metadata.organism),pathvisiojs.view.annotation.xRef.render(pathway.metadata.organism,d))}).call(drag),nodes.exit().remove(),pathvisiojs.view.pathwayDiagram.svg.node.shape.render(nodes,pathway,uniformlyScalingShapesList),pathvisiojs.view.pathwayDiagram.svg.node.label.renderAll(nodes,pathway)}function getPortCoordinates(boxDimensions,relX,relY){var port={};return port.x=boxDimensions.x+relX*boxDimensions.width,port.y=boxDimensions.y+relY*boxDimensions.height,port}function highlightByLabel(svg,pathway,nodeLabel){svg.selectAll(".highlighted-node").remove();var dataNodesWithText=pathway.elements.filter(function(d){return"data-node"===d.nodeType&&!!d.textLabel}),selectedNodes=dataNodesWithText.filter(function(d){return-1!==d.textLabel.text.indexOf(nodeLabel)});selectedNodes.forEach(function(node){var nodeDomElement=svg.select("#node-"+node.id),height=nodeDomElement[0][0].getBBox().height,width=nodeDomElement[0][0].getBBox().width;nodeDomElement.append("rect").attr("class","highlighted-node").attr("x",-2.5).attr("y",-2.5).attr("width",width+5).attr("height",height+5)})}var pathwayHere,uniformlyScalingShapesListHere;return{renderAll:renderAll,getPortCoordinates:getPortCoordinates,highlightByLabel:highlightByLabel}}(),pathvisiojs.view.pathwayDiagram.svg.node.shape=function(){function render(nodes,pathway,uniformlyScalingShapesList){return nodes&&pathway?(pathvisiojs.view.pathwayDiagram.svg.node.shape.uniformlyScalingShape.renderAll(nodes,pathway,uniformlyScalingShapesList),pathvisiojs.view.pathwayDiagram.svg.node.shape.nonuniformlyScalingShape.renderAll(nodes,pathway,uniformlyScalingShapesList),void 0):(nodes||console.log("nodes not specified"),pathway||console.log("pathway not specified"),console.warn("Error: Missing one or more required parameters: nodes or pathway."))}return{render:render}}(),pathvisiojs.view.pathwayDiagram.svg.node.shape.uniformlyScalingShape=function(){function appendCustom(customShape,callback){var svg=d3.select("#pathway-svg");d3.xml(customShape.url,"image/svg+xml",function(svgXml){def=svg.select("defs").select("#"+customShape.id),def[0][0]?def.selectAll("*").remove():def=svg.select("defs").append("symbol").attr("id",customShape.id).attr("preserveAspectRatio","none");var shape=d3.select(svgXml.documentElement),width=shape.attr("width"),height=shape.attr("height");def.attr("viewBox","0 0 "+width+" "+height);var parent=document.querySelector("#"+customShape.id),d3Svg=shape[0][0].children,i=-1;do i+=1,parent.appendChild(d3Svg[i]);while(i<d3Svg.length-1);callback(null)})}function loadAllCustom(svg,customShapes,callback){async.each(customShapes,appendCustom,function(){callback(null)})}function getUniformlyScalingShapesList(svg,callback){var uniformlyScalingShapesList=[];svg.select("defs").selectAll("symbol")[0].forEach(function(element){uniformlyScalingShapesList.push(element.id)}),callback(uniformlyScalingShapesList)}function render(uniformlyScalingShape){uniformlyScalingShape.attr("id",function(d){return"shape-"+d.id}).attr("transform",function(d){var transform="scale(1)";return d.hasOwnProperty("rotation")&&(transform="rotate("+d.rotation+" "+d.width/2+" "+d.height/2+")"),transform}).attr("class",function(d){var styleClass="shape ";return"data-node"===d.elementType&&(styleClass+=d.dataNodeType+" "),"double"===d.strokeStyle&&(styleClass+="double-original "),styleClass}).attr("x",0).attr("y",0).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("z-index",function(d){return d.zIndex}).attr("style",function(d){var style="";d.hasOwnProperty("fill")&&(style+="fill:"+d.fill+"; "),d.hasOwnProperty("fillOpacity")&&(style+="fill-opacity:"+d.fillOpacity+"; "),d.hasOwnProperty("stroke")&&(style+="stroke:"+d.stroke+"; ");var strokeWidthEffective=null;return strokeWidthEffective=d.hasOwnProperty("strokeWidth")?2*d.strokeWidth:2,style+="stroke-width:"+strokeWidthEffective+"; ",d.hasOwnProperty("strokeStyle")&&"dashed"===d.strokeStyle&&(style+="stroke-dasharray: 5,3; "),style}).attr("xlink:xlink:href",function(d){return"#"+d.shapeType})}function renderAll(nodes,pathway,uniformlyScalingShapesList){if(!nodes||!pathway||!uniformlyScalingShapesList)return nodes||console.log("nodes not specified"),pathway||console.log("pathway not specified"),uniformlyScalingShapesList||console.log("uniformlyScalingShapesList not specified"),console.warn("Error: Missing one or more required parameters: nodes, pathway or uniformlyScalingShapesList.");var uniformlyScalingNodes=nodes.filter(function(d){return uniformlyScalingShapesList.indexOf(d.shapeType)>-1}),uniformlyScalingShapes=uniformlyScalingNodes.selectAll("use.shape").data(function(d){return[d]}).call(render);uniformlyScalingShapes.enter().append("use").call(render),uniformlyScalingShapes.exit().remove()}return{renderAll:renderAll,loadAllCustom:loadAllCustom,getUniformlyScalingShapesList:getUniformlyScalingShapesList}}(),pathvisiojs.view.pathwayDiagram.svg.node.shape.nonuniformlyScalingShape=function(){function render(nonuniformlyScalingShape){if(!nonuniformlyScalingShape[0]||nonuniformlyScalingShape[0].length<1)return"nonuniformlyScalingNodes empty";self.nonuniformlyScalingShape=nonuniformlyScalingShape,nonuniformlyScalingShape.attr("id",function(d){return"shape-"+d.id}).attr("class",function(d){var styleClass="";return styleClass="data-node"===d.elementType?"shape "+d.dataNodeType+" "+d.shapeType:"shape "+d.shapeType});var nodeData=nonuniformlyScalingShape[0].parentNode.__data__,shapeType=caseConverter.camelCase(nodeData.shapeType),nonuniformlyScalingShapeAttributes=pathvisiojs.view.pathwayDiagram.svg.node.shape.nonuniformlyScalingShape[shapeType].getAttributes(nodeData.width,nodeData.height);nonuniformlyScalingShapeAttributes.forEach(function(attribute){nonuniformlyScalingShape.attr(attribute.name,attribute.value)})}function renderAll(nodes,pathway,uniformlyScalingShapesList){if(!nodes||!pathway||!uniformlyScalingShapesList)return console.log(uniformlyScalingShapesList),nodes||console.log("nodes not specified"),pathway||console.log("pathway not specified"),uniformlyScalingShapesList||console.log("uniformlyScalingShapesList not specified"),console.warn("Error: Missing one or more required parameters: nodes, pathway or uniformlyScalingShapesList.");var nonuniformlyScalingNodes=nodes.filter(function(d){return-1===uniformlyScalingShapesList.indexOf(d.shapeType)}),nonuniformlyScalingShapes=nonuniformlyScalingNodes.selectAll("path.shape").data(function(){return nonuniformlyScalingNodes}).call(render);nonuniformlyScalingShapes.enter().append("path").call(render),nonuniformlyScalingShapes.exit().remove()}return{renderAll:renderAll}}(),pathvisiojs.view.pathwayDiagram.svg.node.shape.nonuniformlyScalingShape.roundedRectangle=function(){function getAttributes(nodeWidth,nodeHeight){var attributes=[{name:"d",value:"m0,2.5c0,-1.35845 1.14155,-2.5 2.5,-2.5l"+(nodeWidth-5)+",0c1.35844,0 2.5,1.14155 2.5,2.5l0,"+(nodeHeight-5)+"c0,1.35845 -1.14156,2.5 -2.5,2.5l"+(5-nodeWidth)+",0c-1.35845,0 -2.5,-1.14155 -2.5,-2.5l0,"+(5-nodeHeight)+"z"}];return attributes}return{getAttributes:getAttributes}}(),pathvisiojs.view.pathwayDiagram.svg.node.label=function(){function renderAll(nodes,pathway){if(!nodes||!pathway)return nodes||console.log("nodes"),pathway||console.log("pathway"),console.warn("Error: Missing one or more required parameters: nodes, pathway.");var labels=nodes.selectAll("text.label").data(function(d){return[d]}).call(render);labels.enter().append("text").call(render),labels.exit().remove()}function render(nodeText){nodeText.attr("id",function(d){return"node-text-"+d.id}).attr("x",0).attr("y",0).attr("transform",function(d){var dx=null;dx=d.textLabel.hasOwnProperty("textAnchor")?"start"===d.textLabel.textAnchor?5:"end"===d.textLabel.textAnchor?d.width-5:d.width/2:d.width/2;var dy=null;return dy=d.textLabel.hasOwnProperty("vAlign")?"top"===d.textLabel.vAlign?5+1*d.textLabel.fontSize:"bottom"===d.textLabel.vAlign?d.height-(5+.3*d.textLabel.fontSize+(pathvisiojs.utilities.splitStringByNewLine(d.textLabel.text).length-1)*d.textLabel.fontSize):d.height/2+.3*d.textLabel.fontSize-(pathvisiojs.utilities.splitStringByNewLine(d.textLabel.text).length-1)*d.textLabel.fontSize/2:d.height/2+.3*d.textLabel.fontSize-(pathvisiojs.utilities.splitStringByNewLine(d.textLabel.text).length-1)*d.textLabel.fontSize/2,"translate("+dx+" "+dy+")"}).attr("class",function(d){var styleClass="";return"data-node"===d.elementType&&(styleClass=d.dataNodeType),styleClass}).attr("style",function(d){var style="";return d.fontSize,d.textLabel.hasOwnProperty("fill")&&(style+="fill:"+d.textLabel.fill+"; "),d.textLabel.hasOwnProperty("fontFamily")&&(style+="font-family:"+d.textLabel.fontFamily+"; "),d.textLabel.hasOwnProperty("fontSize")&&(style+="font-size:"+d.textLabel.fontSize+"px; "),d.textLabel.hasOwnProperty("fontWeight")&&(style+="font-weight:"+d.textLabel.fontWeight+"; "),d.textLabel.hasOwnProperty("fontStyle")&&(style+="font-style:"+d.textLabel.fontStyle+"; "),d.textLabel.hasOwnProperty("textAnchor")&&(style+="text-anchor:"+d.textLabel.textAnchor+"; "),style}),nodeText.each(function(d){var fontSize=d.textLabel.fontSize;d3.select(this).selectAll("tspan").data(function(d){var textArray=pathvisiojs.utilities.splitStringByNewLine(d.textLabel.text);return textArray}).enter().append("tspan").attr("x",0).attr("y",function(d,i){return i*fontSize}).text(function(d){return d})})}return{renderAll:renderAll}}(),pathvisiojs.view.pathwayDiagram.svg.edge=function(){function render(svg,pathway,edge){if(!svg||!pathway||!edge)return console.warn("Error: Missing one or more required parameters: svg, pathway, edge.");var pathData=null;pathData=pathvisiojs.view.pathwayDiagram.svg.edge.pathData.get(svg,pathway,edge,function(data){pathData=data,console.log("pathData"),console.log(pathData),svg.select("#viewport").append("path").attr("id",edge.edgeType+"-"+edge.id).attr("class",function(){var styleClass="edge "+edge.edgeType+" ";return edge.hasOwnProperty("strokeStyle")&&"dashed"===edge.strokeStyle&&(styleClass+=" dashed-stroke"),styleClass}).attr("style",function(){var style="stroke-width:"+edge.strokeWidth+"; ";return edge.hasOwnProperty("stroke")&&(style+="stroke:"+edge.stroke+"; "),edge.hasOwnProperty("strokeStyle")&&"double"===edge.strokeStyle&&(style+="stroke-width:"+3*edge.strokeWidth+"; "),style}).attr("marker-start",function(){var markerStart=pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,edge.markerStart,"start",edge.stroke);return edge.hasOwnProperty("strokeStyle")&&"double"===edge.strokeStyle&&(markerStart="double-line-hack-start"),"url(#"+markerStart+")"}).attr("marker-end",function(){var markerEnd=pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,edge.markerEnd,"end",edge.stroke);return edge.hasOwnProperty("strokeStyle")&&"double"===edge.strokeStyle&&(markerEnd="double-line-hack-end"),"url(#"+markerEnd+")"}).attr("fill","none").attr("d",function(){return edge.hasOwnProperty("strokeStyle")&&"double"===edge.strokeStyle&&svg.select("#viewport").append("path").attr("class",edge.edgeType+"-double").attr("d",pathData).attr("class","stroke-color-equals-default-fill-color").attr("style","stroke-width:"+edge.strokeWidth+"; ").attr("marker-start","url(#"+pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,edge.markerStart,"start",edge.stroke)+")").attr("marker-end","url(#"+pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,edge.markerEnd,"end",edge.stroke)+")"),console.log("pathData used"),console.log(pathData),pathData})})}function renderAll(svg,pathway){if(!svg||!pathway)return console.warn("Error: Missing one or more required parameters: svg, pathway.");if(pathway.hasOwnProperty("edges")){var pathData=null;svg.select("#viewport").selectAll("pathway.edge").data(pathway.edges).enter().append("path").attr("id",function(d){return d.edgeType+"-"+d.graphId}).attr("class",function(d){var styleClass="edge "+d.edgeType+" ";return d.hasOwnProperty("strokeStyle")&&"dashed"===d.strokeStyle&&(styleClass+=" dashed-stroke"),styleClass}).attr("style",function(d){var style="stroke-width:"+d.strokeWidth+"; ";return d.hasOwnProperty("stroke")&&(style+="stroke:"+d.stroke+"; "),d.hasOwnProperty("strokeStyle")&&"double"===d.strokeStyle&&(style+="stroke-width:"+3*d.strokeWidth+"; "),style}).attr("marker-start",function(d){var markerStart=pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,d.markerStart,"start",d.stroke);return d.hasOwnProperty("strokeStyle")&&"double"===d.strokeStyle&&(markerStart="double-line-hack-start"),"url(#"+markerStart+")"}).attr("marker-end",function(d){var markerEnd=pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,d.markerEnd,"end",d.stroke);return d.hasOwnProperty("strokeStyle")&&"double"===d.strokeStyle&&(markerEnd="double-line-hack-end"),"url(#"+markerEnd+")"}).attr("fill","none").attr("d",function(data){return pathData=pathvisiojs.view.pathwayDiagram.svg.edge.pathData.get(svg,pathway,data),data.hasOwnProperty("strokeStyle")&&"double"===data.strokeStyle&&svg.select("#viewport").append("path").attr("class",data.edgeType+"-double").attr("d",pathData).attr("class","stroke-color-equals-default-fill-color").attr("style","stroke-width:"+data.strokeWidth+"; ").attr("marker-start","url(#"+pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,data.markerStart,"start",data.stroke)+")").attr("marker-end","url(#"+pathvisiojs.view.pathwayDiagram.svg.edge.marker.render(svg,data.markerEnd,"end",data.stroke)+")"),pathData})}}return{render:render,renderAll:renderAll}}(),pathvisiojs.view.pathwayDiagram.svg.edge.marker=function(){function appendCustom(customMarker,callback){var svg=d3.select("#pathway-svg");d3.xml(customMarker.url,"image/svg+xml",function(svgXml){def=svg.select("defs").select("#"+customMarker.id),def[0][0]?def.selectAll("*").remove():def=svg.select("defs").append("marker").attr("id",customMarker.id).attr("preserveAspectRatio","none");var marker=d3.select(svgXml.documentElement),width=marker.attr("width"),height=marker.attr("height");def.attr("viewBox","0 0 "+width+" "+height);var parent=document.querySelector("#"+customMarker.id);parent.appendChild(svgXml.documentElement),callback(null)})}function loadAllCustom(svg,customMarkers,callback){async.each(customMarkers,appendCustom,function(){callback(null)})}function render(svg,name,position,color){var markerUrl="";if("none"===name)markerUrl=name;else{var markerElementBlack=svg.select("marker#"+name+"-"+position+"-black");if(1===markerElementBlack.length)if("#000"!==color&&"#000000"!==color&&color){var markerElement=pathvisiojs.utilities.cloneNode(markerElementBlack[0][0]),markerElementStyle="";"black"===markerElement[0][0].getAttribute("stroke")&&(markerElementStyle+="stroke:"+color+"; "),"black"===markerElement[0][0].getAttribute("fill")&&(markerElementStyle+="fill:"+color+"; "),markerElement[0][0].setAttribute("id",name+"-"+position+"-"+color),markerElement[0][0].setAttribute("style",markerElementStyle),markerUrl=name+"-"+position+"-"+color}else markerUrl=name+"-"+position+"-black";else markerUrl="none",console.warn("Pathvisio.js does not have access to the requested marker: "+name)}return markerUrl}return{render:render,loadAllCustom:loadAllCustom}}(),pathvisiojs.view.pathwayDiagram.svg.edge.point=function(){function gpml2json(rawJsonPoints){try{var markerStart="none",markerEnd="none";rawJsonPoints.forEach(function(element,index,array){if(void 0!==element.graphRef){delete element.x,delete element.y;var relX=(Math.round(2*element.relX)/2).toString();element.relX=parseFloat(anchorPositionMappings[relX]);var relY=(Math.round(2*element.relY)/2).toString();element.relY=parseFloat(anchorPositionMappings[relY]),0===element.relX?element.dx=-1:1===element.relX?element.dx=1:0===element.relY?element.dy=-1:1===element.relY&&(element.dy=1)}0===index&&markerMappings.hasOwnProperty(element.arrowHead)?(markerStart=markerMappings[element.arrowHead],delete element.arrowHead):index===array.length-1&&markerMappings.hasOwnProperty(element.arrowHead)&&(markerEnd=markerMappings[element.arrowHead],delete element.arrowHead)});var validJsonPoints=rawJsonPoints;return{points:validJsonPoints,markerStart:markerStart,markerEnd:markerEnd}}catch(e){return console.log("Error converting point to json: "+e.message),e}}function getGraphRef(pathway,point){if(point.hasOwnProperty("graphRef")){if(pathway.hasOwnProperty("nodes")){var node=pathway.nodes.filter(function(element){return element.graphId===point.graphRef})[0];if(void 0!==node)return{type:"node",element:node}}if(pathway.hasOwnProperty("groups")){var group=pathway.groups.filter(function(element){return element.graphId===point.graphRef})[0];if(void 0!==group)return{type:"group",groupId:group.groupId}}var edgesWithAnchors=pathway.edges.filter(function(element){return element.hasOwnProperty("anchors")}),anchor=null,i=-1;do i+=1,anchor=edgesWithAnchors[i].anchors.filter(function(element){return element.graphId===point.graphRef})[0];while(!anchor&&i<edgesWithAnchors.length);return{type:"anchor",element:anchor,edge:edgesWithAnchors[i]}}return{type:"unconnected"}}function getCoordinates(svg,pathway,point){if(!svg||!pathway||!point)return console.warn("Error: Missing input parameters.");var coordinates={},edgeTerminusRef=getGraphRef(pathway,point);if("anchor"!==edgeTerminusRef.type)if("unconnected"===edgeTerminusRef.type)coordinates.x=point.x,coordinates.y=point.y;else if("node"===edgeTerminusRef.type)coordinates=pathvisiojs.view.pathwayDiagram.svg.node.getPortCoordinates(edgeTerminusRef.element,point.relX,point.relY);else{if("group"!==edgeTerminusRef.type)return"error";var groupDimensions=pathvisiojs.view.pathwayDiagram.svg.group.getDimensions(pathway,edgeTerminusRef.groupId);coordinates=pathvisiojs.view.pathwayDiagram.svg.node.getPortCoordinates(groupDimensions,point.relX,point.relY)}else{var path=svg.select("#interaction-"+edgeTerminusRef.edge.graphId)[0][0];coordinates=path.getPointAtLength(edgeTerminusRef.element.position*path.getTotalLength())}return coordinates}function isTwoPointElbow(source,target){var isRightAngle=Math.abs(source.dx)===Math.abs(target.dy)&&Math.abs(source.dy)===Math.abs(target.dx),sourcePasses=(target.x-source.x)/Math.abs(target.x-source.x)===source.dx||(target.y-source.y)/Math.abs(target.y-source.y)===source.dy,targetPasses=(source.x-target.x)/Math.abs(source.x-target.x)===target.dx||(source.y-target.y)/Math.abs(source.y-target.y)===target.dy;return isRightAngle&&sourcePasses&&targetPasses}var anchorPositionMappings={"-1":0,"-0.5":.333,0:.5,.5:.667,1:1},markerMappings={Arrow:"arrow","mim-branching-left":"mim-branching-left","mim-branching-right":"mim-branching-right","mim-necessary-stimulation":"mim-necessary-stimulation","mim-binding":"mim-binding","mim-conversion":"mim-conversion","mim-stimulation":"mim-stimulation","mim-modification":"mim-modification","mim-catalysis":"mim-catalysis","mim-inhibition":"mim-inhibition","mim-cleavage":"mim-cleavage","mim-covalent-bond":"mim-covalent-bond","mim-transcription-translation":"mim-transcription-translation","mim-gap":"mim-gap",none:"none",TBar:"t-bar"};return{getGraphRef:getGraphRef,getCoordinates:getCoordinates,isTwoPointElbow:isTwoPointElbow,gpml2json:gpml2json}}(),pathvisiojs.view.pathwayDiagram.svg.edge.pathData=function(){function getPathDirectionForElbowFromPoint(pathway,edge,point){var direction,otherEndDirection,otherEndPoint;return direction=getPathDirectionForElbowFromPointByAnchor(pathway,point),direction||(otherEndPoint=point===edge.points[0]?edge.points[edge.points.length-1]:edge.points[0],otherEndDirection=getPathDirectionForElbowFromPointByAnchor(pathway,otherEndPoint),direction=otherEndDirection?pathvisiojs.utilities.isOdd(edge.points.length)?switchDirection(otherEndDirection):otherEndDirection:getPathDirectionForElbowFromPointByDistance(pathway,edge,point)),direction}function getPathDirectionForElbowFromPointByAnchor(pathway,point){var anchor=pathway.elements.filter(function(element){return element.id===point.anchorId})[0];return anchor?1===Math.abs(anchor.dx)||1===Math.abs(anchor.dy)?1===Math.abs(anchor.dx)?direction="H":1===Math.abs(anchor.dy)&&(direction="V"):direction=void 0:direction=void 0,direction}function getPathDirectionForElbowFromPointByDistance(pathway,edge,point){var direction,comparisonPoint;return comparisonPoint=point===edge.points[0]?edge.points[1]:edge.points[edge.points.length-1],direction=Math.abs(comparisonPoint.x-point.x)<Math.abs(comparisonPoint.y-point.y)?"V":"H"}function switchDirection(currentDirection){return currentDirection=currentDirection.toUpperCase(),"H"===currentDirection?"V":"H"}function get(svg,pathway,edge,callback){if(!svg||!edge)return console.warn("Error: Missing input parameters.");var currentDirection,startDirection,endDirection,index,pointCoordinates,pointStart=edge.points[0],source=pathvisiojs.view.pathwayDiagram.svg.edge.point.getCoordinates(svg,pathway,pointStart),pointCoordinatesArray=self.pointCoordinatesArray=[];edge.points.forEach(function(element){pointCoordinates=pathvisiojs.view.pathwayDiagram.svg.edge.point.getCoordinates(svg,pathway,element),pointCoordinatesArray.push(pointCoordinates)}),source.dx=void 0===pointStart.dx?0:pointStart.dx,source.dy=void 0===pointStart.dy?0:pointStart.dy;var pointEnd=edge.points[edge.points.length-1],target=pathvisiojs.view.pathwayDiagram.svg.edge.point.getCoordinates(svg,pathway,pointEnd);target.dx=void 0===pointEnd.dx?0:pointEnd.dx,target.dy=void 0===pointEnd.dy?0:pointEnd.dy;var pathData="M "+source.x+" "+source.y;if(edge.connectorType&&void 0!==edge.connectorType&&"straight"!==edge.connectorType)if("elbow"===edge.connectorType){startDirection=getPathDirectionForElbowFromPoint(pathway,edge,pointStart),console.log(startDirection),currentDirection=startDirection,endDirection=getPathDirectionForElbowFromPoint(pathway,edge,pointEnd);var pathCoordinatesArray=[];async.series([function(callbackInside){if(2===edge.points.length)pathvisiojs.view.pathwayDiagram.pathFinder.getPath(pathway,edge,function(data){pathCoordinatesArray=data,callbackInside(null)
});else{pathCoordinatesArray.push({x:pointStart.x,y:pointStart.y}),index=0;do index+=1,"H"===currentDirection?pathCoordinatesArray.push({x:edge.points[index].x,y:edge.points[index-1].y}):pathCoordinatesArray.push({x:edge.points[index-1].x,y:edge.points[index].y}),currentDirection=switchDirection(currentDirection);while(index<edge.points.length-1);pathCoordinatesArray.push({x:pointEnd.x,y:pointEnd.y}),callbackInside(null)}}],function(){3===pathCoordinatesArray.length?Math.abs(pathCoordinatesArray[1].x-pointStart.x)<Math.abs(pathCoordinatesArray[1].x-pointEnd.x)?(pathCoordinatesArray[1].x=pointStart.x,pathCoordinatesArray[1].y=pointEnd.y):(pathCoordinatesArray[1].x=pointEnd.x,pathCoordinatesArray[1].y=pointStart.y):(Math.abs(pathCoordinatesArray[1].x-pointStart.x)<Math.abs(pathCoordinatesArray[1].y-pointStart.y)?pathCoordinatesArray[1].x=pointStart.x:pathCoordinatesArray[1].y=pointStart.y,Math.abs(pathCoordinatesArray[pathCoordinatesArray.length-2].x-pointEnd.x)<Math.abs(pathCoordinatesArray[pathCoordinatesArray.length-2].y-pointEnd.y)?pathCoordinatesArray[pathCoordinatesArray.length-2].x=pointEnd.x:pathCoordinatesArray[pathCoordinatesArray.length-2].y=pointEnd.y),"H"===startDirection?pathCoordinatesArray[1].y=pointStart.y:"V"===startDirection&&(pathCoordinatesArray[1].x=pointStart.x),"H"===endDirection?pathCoordinatesArray[pathCoordinatesArray.length-2].y=pointEnd.y:"V"===endDirection&&(pathCoordinatesArray[pathCoordinatesArray.length-2].x=pointEnd.x),console.log("pathCoordinatesArray"),console.log(pathCoordinatesArray),self.pathCoordinatesArray=pathCoordinatesArray,index=0;do index+=1,pathData+=" L "+pathCoordinatesArray[index].x+" "+pathCoordinatesArray[index].y;while(index<pathCoordinatesArray.length-1);console.log("pathData"),console.log(pathData),callback(pathData)})}else"segmented"===edge.connectorType?(edge.points.forEach(function(element,index,array){index>0&&index<array.length-1&&(pathData+=" L "+element.x+" "+element.y)}),pathData+=" L "+target.x+" "+target.y,callback(pathData)):"curved"===edge.connectorType?(pathCoordinatesArray=2===edge.points.length?pathvisiojs.view.pathwayDiagram.pathFinder.getPath(pathway,edge):edge.points,pathCoordinatesArray.forEach(function(element,index,array){index>0&&index<array.length-1&&(target.x=(array[index].x+array[index-1].x)/2,target.y=(array[index].y+array[index-1].y)/2,pathData+=" T"+target.x+","+target.y)}),pathData+=" T"+pathCoordinatesArray[pathCoordinatesArray.length-1].x+","+pathCoordinatesArray[pathCoordinatesArray.length-1].y,callback(pathData)):(console.log("Warning: pathvisiojs does not support connector type: "+edge.connectorType),edge.points.forEach(function(element,index,array){index>0&&index<array.length-1&&(pathData+=" L "+element.x+" "+element.y)}),pathData+=" L "+target.x+" "+target.y,callback(pathData));else pathData+=" L "+target.x+" "+target.y,callback(pathData)}return{get:get}}(),pathvisiojs.view.pathwayDiagram.svg.anchor=function(){function makeBlocky(x,y){var results={},column=pathvisiojs.view.pathwayDiagram.pathFinder.xYCoordinatesToMatrixLocation(x,y).column,row=pathvisiojs.view.pathwayDiagram.pathFinder.xYCoordinatesToMatrixLocation(x,y).row;return results.x=pathvisiojs.view.pathwayDiagram.pathFinder.matrixLocationToXYCoordinates(column,row).x,results.y=pathvisiojs.view.pathwayDiagram.pathFinder.matrixLocationToXYCoordinates(column,row).y,results}function renderAll(svg,pathway){var anchors=pathway.elements.filter(function(element){return"anchor"===element.renderableType}),viewport=svg.select("#viewport");viewport.selectAll("use.anchor").data(anchors).enter().append("use").attr("x",function(d){return makeBlocky(d.x,d.y).x}).attr("y",function(d){return makeBlocky(d.x,d.y).y}).attr("width",pathvisioNS.grid.squareLength).attr("height",pathvisioNS.grid.squareLength).attr("xlink:xlink:href","#grid-square").attr("class","anchor").attr("style",function(){return"fill:red; stroke:none;"})}return{renderAll:renderAll}}(),pathvisiojs.view.pathwayDiagram.svg.grid=function(){function render(svg){var viewport=svg.select("#viewport");viewport.selectAll("use.grid-square").data(pathvisioNS.grid.gridRenderingData).enter().append("use").attr("x",function(d){return d.x}).attr("y",function(d){return d.y}).attr("width",pathvisioNS.grid.squareLength).attr("height",pathvisioNS.grid.squareLength).attr("xlink:xlink:href","#grid-square").attr("class","grid-square").attr("style",function(d){return"fill:"+d.fill+"; fill-opacity:0.3; stroke:darkgray;"})}return{render:render}}();